<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="GBCMD" resourceRoot="${projectDir}" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" defaultScriptLanguage="Groovy" id="0340468f-59e9-4a5d-9ddc-5ac6d40258ac" xmlns:con="http://eviware.com/soapui/config">
	<con:settings/>
	<con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="ESPI Resources" type="rest" id="67592114-eb87-42a5-87f1-4c996a14c5da" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:settings/>

		<con:definitionCache type="TEXT" rootPart=""/><con:resource name="resource" path="/${#Project#resourceUri}" id="58456799-b780-49f8-bfec-ecb0dcda8a7d">
			<con:settings/>
			<con:parameters>
				<con:parameter>
					<con:name>Authorization</con:name>
					<con:value>Bearer ${#Project#data_custodian_access_token}</con:value>
					<con:style>HEADER</con:style>
					<con:default>Bearer ${#Project#data_custodian_access_token}</con:default>
				</con:parameter>
				<con:parameter>
					<con:name>Content-Type</con:name>
					<con:value>Application/atom+xml</con:value>
					<con:style>HEADER</con:style>
					<con:default>Application/atom+xml</con:default>
				</con:parameter>
			</con:parameters>
			<con:resource name="IntervalBlock" path="IntervalBlock" id="be0213b2-9ac2-43e2-b28c-aafea338b051">
				<con:settings/>
				<con:parameters/>
				<con:resource name="{intervalBlockId}" path="{intervalBlockId}" id="acefa865-1a9e-4c58-bca5-bef8addc24e7">
					<con:settings/>
					<con:method name="Get root IntervalBlock" method="GET" id="20588ce2-a0fc-4a5e-a7c5-0d5fdf090e96">
						<con:settings/>
						<con:parameters/>
						<con:request name="Get root IntervalBlock" mediaType="application/json" id="df109c2a-8686-44f2-a9a1-024b74d4febe">
							<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
							<con:request/>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters/>
							<con:parameterOrder>
								<con:entry>intervalBlockId</con:entry>
								<con:entry>Authorization</con:entry>
								<con:entry>Content-Type</con:entry>
							</con:parameterOrder>
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:credentials>
						<con:authType>Global HTTP Settings</con:authType>
					</con:credentials>
				</con:request>
				<con:representation type="RESPONSE">
					<con:mediaType>application/atom+xml</con:mediaType>
					<con:status>200</con:status>
					<con:params/>
					<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
				</con:representation>
				<con:representation type="REQUEST">
					<con:mediaType>Application/atom+xml</con:mediaType>
					<con:params/>
				</con:representation>
				<con:representation type="FAULT">
					<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
					<con:status>500</con:status>
					<con:params/>
					<con:element>html</con:element>
				</con:representation>
			</con:method>
			<con:parameters>
				<con:parameter>
					<con:name>intervalBlockId</con:name>
					<con:value>${#Project#intervalBlockId}</con:value>
					<con:style>TEMPLATE</con:style>
					<con:default>${#Project#intervalBlockId}</con:default>
				</con:parameter>
			</con:parameters>
		</con:resource>
		<con:method name="Get root IntervalBlock feed" method="GET" id="beccd8b0-5458-45ed-b749-05deeb0aff07">
			<con:settings/>
			<con:parameters/>
			<con:request name="Get root IntervalBlock feed" mediaType="application/json" id="a18df4c5-7ab8-48df-a1cd-c93a24d883a6">
				<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
				<con:request/>
				<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/IntervalBlock</con:originalUri>
				<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
				<con:jmsPropertyConfig/>
				<con:parameters/>
				<con:parameterOrder>
					<con:entry>Authorization</con:entry>
					<con:entry>Content-Type</con:entry>
				</con:parameterOrder>
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
	</con:request>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>500</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
</con:method>
</con:resource>
<con:resource name="UsagePoint" path="UsagePoint" id="6aed094e-2f99-4838-8d1f-1ea2d81b1587">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{usagePointId}" path="{usagePointId}" id="e7a05c43-0a9e-4c54-9e7b-7a6e4a343604">
		<con:settings/>
		<con:method name="Get UsagePoint by Id" method="GET" id="6baab186-e083-4fe1-821d-6df676e2fdd4">
			<con:settings/>
			<con:parameters/>
			<con:request name="Get root UsagePoint" mediaType="application/json" id="93c02402-db4a-45c8-aff5-5d593b30e2f2">
				<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
				<con:request/>
				<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/UsagePoint/1</con:originalUri>
				<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
				<con:jmsPropertyConfig/>
				<con:parameters/>
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:parameterOrder>
			<con:entry>usagePointId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:request>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>500</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
</con:method>
<con:parameters>
	<con:parameter>
		<con:name>usagePointId</con:name>
		<con:value>${#Project#usagePointId}</con:value>
		<con:style>TEMPLATE</con:style>
		<con:default>${#Project#usagePointId}</con:default>
	</con:parameter>
</con:parameters>
<con:method name="Delete" method="DELETE" id="b1251595-7747-4bcd-849b-d9997849d5fb">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="5b353840-3ab4-4be9-a707-3e3354ed6e83">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>usagePointId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Put" method="PUT" id="196e11c2-1a4e-44c2-a484-eca82c673b3f">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="72c2311a-edbf-424f-bc1d-26bd202f5e1e">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:48C2A019-5598-4E16-B0F9-49E4FF27F5FB</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1" rel="self"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint" rel="up"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/MeterReading" rel="related"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/ElectricPowerUsageSummary" rel="related"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/ElectricPowerQualitySummary" rel="related"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="related"/>
   <ns3:title>Front Electric Meter</ns3:title>
   <ns3:content>
      <espi:UsagePoint>
         <espi:ServiceCategory>
            <espi:kind>0</espi:kind>
         </espi:ServiceCategory>
      </espi:UsagePoint>
   </ns3:content>
   <ns3:published>2012-10-24T00:00:00Z</ns3:published>
   <ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>usagePointId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:method name="Get root UsagePoint feed" method="GET" id="13cfddb7-fbee-4ce4-8fcb-128edc822c9c">
	<con:settings/>
	<con:parameters/>
	<con:request name="Get root UsagePoint feed" mediaType="application/json" id="088d8604-6450-4180-a903-a25c66d6997b">
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/UsagePoint</con:originalUri>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
</con:request>
<con:representation type="RESPONSE">
	<con:mediaType>application/atom+xml</con:mediaType>
	<con:status>200</con:status>
	<con:params/>
	<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>application/atom+xml</con:mediaType>
	<con:status>400</con:status>
	<con:params/>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
	<con:status>500</con:status>
	<con:params/>
	<con:element>html</con:element>
</con:representation>
<con:representation type="REQUEST">
	<con:mediaType>Application/atom+xml</con:mediaType>
	<con:params/>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>text/html;charset=utf-8</con:mediaType>
	<con:status>400</con:status>
	<con:params/>
	<con:element>html</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>application/json;charset=UTF-8</con:mediaType>
	<con:status>401</con:status>
	<con:params/>
	<con:element xmlns:usag="http://localhost/DataCustodian/espi/1_1/resource/UsagePoint">usag:Fault</con:element>
</con:representation>
<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation></con:method>
<con:method name="Post" method="POST" id="60a953d3-6053-46db-8bad-167f7c1b347f">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>415</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/xml+atom</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="569780c9-018b-4b87-87ef-72cd4ca64360">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:48C2A019-5598-4E16-B0F9-49E4FF27F5FB</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1" rel="self"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint" rel="up"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/MeterReading" rel="related"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/ElectricPowerUsageSummary" rel="related"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/ElectricPowerQualitySummary" rel="related"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="related"/>
   <ns3:title>Front Electric Meter</ns3:title>
   <ns3:content>
      <espi:UsagePoint>
         <espi:ServiceCategory>
            <espi:kind>0</espi:kind>
         </espi:ServiceCategory>
      </espi:UsagePoint>
   </ns3:content>
   <ns3:published>2012-10-24T00:00:00Z</ns3:published>
   <ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/UsagePoint</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="MeterReading" path="MeterReading" id="2f8b8dea-c961-492c-b98b-f242e2305d30">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{meterReadingId}" path="{meterReadingId}" id="e7fcf200-7bfd-4b08-a5cc-c269e14cd241">
		<con:settings/>
		<con:method name="Get MeterReading by Id" method="GET" id="1fd04195-59f0-4a18-8de3-c064091bef1b">
			<con:settings/>
			<con:parameters/>
			<con:request name="Get root MeterReading" mediaType="application/json" id="235b1bd9-4a58-461d-b8ab-ebd7f40e2023">
				<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
				<con:request/>
				<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
				<con:jmsPropertyConfig/>
				<con:parameters/>
				<con:parameterOrder>
					<con:entry>meterReadingId</con:entry>
					<con:entry>Authorization</con:entry>
					<con:entry>Content-Type</con:entry>
				</con:parameterOrder>
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:credentials>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
	</con:request>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>500</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
</con:method>
<con:parameters>
	<con:parameter>
		<con:name>meterReadingId</con:name>
		<con:value>${#Project#meterReadingId}</con:value>
		<con:style>TEMPLATE</con:style>
		<con:default>${#Project#meterReadingId}</con:default>
	</con:parameter>
</con:parameters>
<con:method name="Delete" method="DELETE" id="69ae7f76-298c-44d5-b8df-c75a8f84a32d">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="f75247ab-e031-47ec-ae2f-a4437565180e">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>meterReadingId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Put" method="PUT" id="62b76eb8-0014-49c2-b9db-c3eff28bf2aa">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="55e82d1c-05af-4085-8d6c-69f7fc61bf67">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:F77FBF34-A09E-4EBC-9606-FF1A59A17CAE</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/MeterReading/1" rel="self"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/MeterReading" rel="up"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint/1/MeterReading/1/IntervalBlock" rel="related"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ReadingType/1" rel="related"/>
   <ns3:title>Fifteen Minute Electricity Consumption</ns3:title>
   <ns3:content>
      <espi:MeterReading/>
   </ns3:content>
   <ns3:published>2012-10-24T00:00:00Z</ns3:published>
   <ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>meterReadingId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:method name="Get root MeterReading feed" method="GET" id="61872680-b0d4-4b37-9817-76470967a869">
	<con:settings/>
	<con:parameters/>
	<con:request name="Get root MeterReading feed" mediaType="application/json" id="ae1bf169-87ef-4ce7-961d-8c8da11dc074">
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/MeterReading</con:originalUri>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
</con:request>
<con:representation type="RESPONSE">
	<con:mediaType>application/atom+xml</con:mediaType>
	<con:status>200</con:status>
	<con:params/>
	<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
</con:representation>
<con:representation type="REQUEST">
	<con:mediaType>Application/atom+xml</con:mediaType>
	<con:params/>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>application/json;charset=UTF-8</con:mediaType>
	<con:status>401 403</con:status>
	<con:params/>
	<con:element xmlns:met="https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/MeterReading">met:Fault</con:element>
</con:representation>
</con:method>
<con:method name="Post" method="POST" id="1e0294a1-297d-4e84-81d4-15a177af4692">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>415</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="b84cdeca-c422-41a3-b378-7d4ddbe41b32">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:F77FBF34-A09E-4EBC-9606-FF1A59A17CAE</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1/MeterReading/1" rel="self"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1/MeterReading" rel="up"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1/MeterReading/1/IntervalBlock" rel="related"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ReadingType/1" rel="related"/>
   <ns3:title>Fifteen Minute Electricity Consumption</ns3:title>
   <ns3:content>
      <espi:MeterReading/>
   </ns3:content>
   <ns3:published>2012-10-24T00:00:00Z</ns3:published>
   <ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="ReadingType" path="ReadingType" id="c20eb6ba-74ff-4a8b-9028-1db6dc6b19b6">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{readingTypeId}" path="{readingTypeId}" id="57593c76-6a0a-4cec-89e6-4948389dc91b">
		<con:settings/>
		<con:method name="Get ReadingType by Id" method="GET" id="0f119777-c966-4137-afa6-848b3c2baadb">
			<con:settings/>
			<con:parameters/>
			<con:request name="Get root ReadingType" mediaType="application/json" id="8a301fd3-0ea4-46bb-b3bd-6d934d52b57c">
				<con:encoding/>
				<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
				<con:request/>
				<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
				<con:jmsPropertyConfig/>
				<con:parameters/>
				<con:parameterOrder>
					<con:entry>readingTypeId</con:entry>
					<con:entry>Authorization</con:entry>
					<con:entry>Content-Type</con:entry>
				</con:parameterOrder>
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:credentials>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
	</con:request>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>500</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
</con:method>
<con:parameters>
	<con:parameter>
		<con:name>readingTypeId</con:name>
		<con:value>${#Project#readingTypeId}</con:value>
		<con:style>TEMPLATE</con:style>
		<con:default>${#Project#readingTypeId}</con:default>
	</con:parameter>
</con:parameters>
<con:method name="Delete" method="DELETE" id="f808e9c9-5421-4464-8809-932515e84fa2">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="cb17ddcb-e0e4-4dc7-a381-e77eb9baa504">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>readingTypeId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Put" method="PUT" id="fb925c4e-30f9-4d61-938d-0957bd92b8d1">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="77ee6813-3498-4b87-841b-894784c2311c">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:3430B025-65D5-493A-BEC2-053603C91CD7</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ReadingType/1" rel="self"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ReadingType" rel="up"/>
   <ns3:title>Type of Meter Reading Data</ns3:title>
   <ns3:content>
      <espi:ReadingType>
         <espi:accumulationBehaviour>4</espi:accumulationBehaviour>
         <espi:commodity>1</espi:commodity>
         <espi:currency>840</espi:currency>
         <espi:dataQualifier>12</espi:dataQualifier>
         <espi:flowDirection>1</espi:flowDirection>
         <espi:intervalLength>900</espi:intervalLength>
         <espi:kind>12</espi:kind>
         <espi:phase>769</espi:phase>
         <espi:powerOfTenMultiplier>0</espi:powerOfTenMultiplier>
         <espi:timeAttribute>0</espi:timeAttribute>
         <espi:uom>72</espi:uom>
         <espi:interharmonic>
            <espi:numerator>600</espi:numerator>
            <espi:denominator>800</espi:denominator>
         </espi:interharmonic>
         <espi:argument>
            <espi:numerator>1</espi:numerator>
            <espi:denominator>2</espi:denominator>
         </espi:argument>
      </espi:ReadingType>
   </ns3:content>
   <ns3:published>2012-10-24T00:00:00Z</ns3:published>
   <ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>readingTypeId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:method name="Get root ReadingType feed" method="GET" id="d8cbd073-7374-4e64-a980-f25201aff2b1">
	<con:settings/>
	<con:parameters/>
	<con:request name="Get root ReadingType feed" mediaType="application/json" id="b16590e5-f966-4442-be59-1354fbfc5c43">
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadingType</con:originalUri>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
</con:request>
<con:representation type="RESPONSE">
	<con:mediaType>application/atom+xml</con:mediaType>
	<con:status>200</con:status>
	<con:params/>
	<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
</con:representation>
<con:representation type="REQUEST">
	<con:mediaType>Application/atom+xml</con:mediaType>
	<con:params/>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>application/json;charset=UTF-8</con:mediaType>
	<con:status>403</con:status>
	<con:params/>
	<con:element xmlns:read="http://localhost/DataCustodian/espi/1_1/resource/ReadingType">read:Fault</con:element>
</con:representation>
</con:method>
<con:method name="Post" method="POST" id="fc093f99-064c-41c6-a379-759eba362575">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="457daa70-5be1-461a-b9d6-0ad64e3e0c5c">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:3430B025-65D5-493A-BEC2-053603C91CD7</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ReadingType/1" rel="self"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ReadingType" rel="up"/>
   <ns3:title>Type of Meter Reading Data</ns3:title>
   <ns3:content>
      <espi:ReadingType>
         <espi:accumulationBehaviour>4</espi:accumulationBehaviour>
         <espi:commodity>1</espi:commodity>
         <espi:currency>840</espi:currency>
         <espi:dataQualifier>12</espi:dataQualifier>
         <espi:flowDirection>1</espi:flowDirection>
         <espi:intervalLength>900</espi:intervalLength>
         <espi:kind>12</espi:kind>
         <espi:phase>769</espi:phase>
         <espi:powerOfTenMultiplier>0</espi:powerOfTenMultiplier>
         <espi:timeAttribute>0</espi:timeAttribute>
         <espi:uom>72</espi:uom>
         <espi:interharmonic>
            <espi:numerator>600</espi:numerator>
            <espi:denominator>800</espi:denominator>
         </espi:interharmonic>
         <espi:argument>
            <espi:numerator>1</espi:numerator>
            <espi:denominator>2</espi:denominator>
         </espi:argument>
      </espi:ReadingType>
   </ns3:content>
   <ns3:published>2012-10-24T00:00:00Z</ns3:published>
   <ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="Batch" path="Batch" id="162ebb8e-556a-4b56-9060-704ec7b36fe1">
	<con:settings/>
	<con:parameters/>
	<con:resource name="Subscription" path="Subscription" id="659b7777-8fcd-4643-8033-d4c7f0c32a5e">
		<con:settings/>
		<con:parameters/>
		<con:resource name="{subscriptionID}" path="{subscriptionID}" id="03092ec7-0ac7-4e84-aa3b-6a47b7f344cd">
			<con:settings/>
			<con:resource name="UsagePoint" path="UsagePoint" id="92ef6e6f-33d8-476d-b93e-378467827e60">
				<con:settings/>
				<con:parameters/>
				<con:resource name="{usagePointId}" path="{usagePointId}" id="0e3ad8de-92fd-4891-a85b-e691a627fe76">
					<con:settings/>
					<con:parameters>
						<con:parameter>
							<con:name>usagePointId</con:name>
							<con:value>${#Project#usagePointId}</con:value>
							<con:style>TEMPLATE</con:style>
							<con:default>${#Project#usagePointId}</con:default>
						</con:parameter>
					</con:parameters>
					<con:method name="Method 1" method="GET" id="de454589-5b62-44ae-8652-0a346e985cff">
						<con:settings/>
						<con:parameters/>
						<con:representation type="REQUEST">
							<con:mediaType>Application/atom+xml</con:mediaType>
							<con:params/>
						</con:representation>
						<con:representation type="FAULT">
							<con:mediaType>text/html;charset=utf-8</con:mediaType>
							<con:status>404</con:status>
							<con:params/>
							<con:element>html</con:element>
						</con:representation>
						<con:representation type="RESPONSE">
							<con:mediaType xsi:nil="true"/>
							<con:status>0</con:status>
							<con:params/>
							<con:element>data</con:element>
						</con:representation>
						<con:request name="GET {usagePointId}" mediaType="application/json" id="0d627641-1b53-4ded-9b93-2e8cd6aa01fd">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
					<con:request/>
					<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Subscription/5/UsagePoint/usagePointId</con:originalUri>
					<con:credentials>
						<con:authType>No Authorization</con:authType>
					</con:credentials>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters>
						<entry key="usagePointId" value="${#Project#usagePointId}" xmlns="http://eviware.com/soapui/config"/>
					</con:parameters>
				</con:request>
			</con:method>
		</con:resource>
	</con:resource>
	<con:method name="Method 1" method="GET" id="3ba52762-575b-4840-967b-4970130b71b9">
		<con:settings/>
		<con:parameters/>
		<con:request name="GET {subscriptionId}" mediaType="application/json" id="76860f30-073d-4f94-be07-2f0a3435b146">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:originalUri>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<entry key="subscriptionID" value="${#Project#subscriptionID}" xmlns="http://eviware.com/soapui/config"/>
			</con:parameters>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:parameterOrder>
		<con:entry>subscriptionID</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:request>
<con:representation type="RESPONSE">
	<con:mediaType>application/atom+xml</con:mediaType>
	<con:status>200</con:status>
	<con:params/>
	<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
	<con:status>404 500</con:status>
	<con:params/>
	<con:element>html</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>application/atom+xml</con:mediaType>
	<con:status>400</con:status>
	<con:params/>
</con:representation>
<con:representation type="REQUEST">
	<con:mediaType>Application/atom+xml</con:mediaType>
	<con:params/>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>application/json;charset=UTF-8</con:mediaType>
	<con:status>403 401</con:status>
	<con:params/>
	<con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/Batch/Subscription/1">ns:Fault</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>text/html;charset=utf-8</con:mediaType>
	<con:status>400</con:status>
	<con:params/>
	<con:element>html</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType xsi:nil="true"/>
	<con:status>400</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType xsi:nil="true"/>
	<con:status>400</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>0</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType xsi:nil="true"/>
	<con:status>400</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="RESPONSE">
	<con:mediaType xsi:nil="true"/>
	<con:status>200</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType xsi:nil="true"/>
	<con:status>400</con:status>
	<con:params/>
	<con:element>data</con:element>
</con:representation>
</con:method>
<con:parameters>
	<con:parameter>
		<con:name>subscriptionID</con:name>
		<con:value>${#Project#subscriptionID}</con:value>
		<con:style>TEMPLATE</con:style>
		<con:default>${#Project#subscriptionID}</con:default>
	</con:parameter>
</con:parameters>
</con:resource>
</con:resource>
<con:resource name="RetailCustomer" path="RetailCustomer" id="5a5ac7c0-a2eb-4371-9d78-9915a6c939c9">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{retailCustomerId}" path="${#Project#retailCustomerId}" id="1168de76-a66e-4990-b267-83e812dde0b5">
		<con:settings/>
		<con:resource name="UsagePoint" path="UsagePoint" id="d4b77832-dcfb-466b-9353-696e7df8089c">
			<con:settings/>
			<con:parameters/>
			<con:resource name="${#Project#usagePointId}" path="${#Project#usagePointId}" id="2cecb2c5-1e7f-4567-8dbd-009e653372ec">
				<con:settings/>
				<con:parameters>
					<con:parameter>
						<con:name>#Project#usagePointId</con:name>
						<con:value>#Project#usagePointId</con:value>
						<con:style>TEMPLATE</con:style>
						<con:default>#Project#usagePointId</con:default>
					</con:parameter>
				</con:parameters>
				<con:method name="Method 1" method="GET" id="4018c599-7bf6-4f7c-be2e-65a3729b8661">
					<con:settings/>
					<con:parameters/>
					<con:representation type="RESPONSE">
						<con:mediaType>application/atom+xml</con:mediaType>
						<con:status>200</con:status>
						<con:params/>
						<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
					</con:representation>
					<con:request name="Request 1" mediaType="application/json" id="5a9ca99c-b901-4eda-b95d-1a1802ba90e3">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
				</con:settings>
				<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
				<con:request/>
				<con:credentials>
					<con:authType>Global HTTP Settings</con:authType>
				</con:credentials>
				<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
				<con:jmsPropertyConfig/>
				<con:parameters/>
				<con:parameterOrder>
					<con:entry>retailCustomerId</con:entry>
					<con:entry>#Project#usagePointId</con:entry>
					<con:entry>Authorization</con:entry>
					<con:entry>Content-Type</con:entry>
				</con:parameterOrder>
			</con:request>
		</con:method>
	</con:resource>
	<con:method name="Method 1" method="GET" id="3e50511a-2c69-402e-81ef-a4ca1a589ae3">
		<con:settings/>
		<con:parameters/>
		<con:representation type="FAULT">
			<con:mediaType>text/html;charset=utf-8</con:mediaType>
			<con:status>405</con:status>
			<con:params/>
			<con:element>html</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType>application/atom+xml</con:mediaType>
			<con:status>200</con:status>
			<con:params/>
			<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
		</con:representation>
		<con:request name="Request 1" mediaType="application/json" id="5735dc0d-94e2-4ee8-acac-4853edea5d80">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:credentials>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters/>
	<con:parameterOrder>
		<con:entry>retailCustomerId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Post" method="POST" id="f6b3aefd-4ea1-4ef9-a090-57ce94b7e793">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>405 415</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/xml" postQueryString="false" id="0c9b6e50-3d7a-4940-b50d-7f20290474b1">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/RetailCustomer/1/UsagePoint</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:attachment>
	<con:name>test_usage_data.xml</con:name>
	<con:contentType>application/xml</con:contentType>
	<con:contentId>test_usage_data.xml</con:contentId>
	<con:url>../data/test_usage_data.xml</con:url>
	<con:id>a08d6407-242b-4a21-a369-cadf59fd95a7</con:id>
</con:attachment>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>retailCustomerId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:method name="Method 1" method="GET" id="c8f85188-48fc-4799-a79e-1efaf9aeb1b1">
	<con:settings/>
	<con:parameters/>
	<con:request name="Request 1" mediaType="application/json" id="b627cfa3-bf2c-42c7-8bdc-db241427aff7">
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:parameterOrder>
	<con:entry>retailCustomerId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
<con:representation type="FAULT">
	<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
	<con:status>404</con:status>
	<con:params/>
	<con:element>html</con:element>
</con:representation>
<con:representation type="FAULT">
	<con:mediaType>text/html;charset=utf-8</con:mediaType>
	<con:status>405</con:status>
	<con:params/>
	<con:element>html</con:element>
</con:representation>
</con:method>
<con:parameters>
	<con:parameter>
		<con:name>retailCustomerId</con:name>
		<con:value>retailCustomerId</con:value>
		<con:style>TEMPLATE</con:style>
		<con:default>retailCustomerId</con:default>
	</con:parameter>
</con:parameters>
</con:resource>
<con:method name="Method 1" method="GET" id="167d5196-d13b-4c46-b04d-04dc7e4b1749">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>404</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="4a9566c8-8d45-4747-8de7-458b7d31261d">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="Bulk" path="Bulk" id="a8b21b8e-acf3-4472-a829-ae4b3be6c41a">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{bulkId}" path="{bulkId}" id="4501c6c5-44f4-4704-a44e-8877d0ff3411">
		<con:settings/>
		<con:parameters>
			<con:parameter>
				<con:name>bulkId</con:name>
				<con:value>Project#bulkId</con:value>
				<con:style>TEMPLATE</con:style>
				<con:default>Project#bulkId</con:default>
			</con:parameter>
		</con:parameters>
		<con:method name="Method 1" method="GET" id="efe60fe6-f6c7-479d-b979-161e4ae7e770">
			<con:settings/>
			<con:parameters/>
			<con:representation type="FAULT">
				<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
				<con:status>404</con:status>
				<con:params/>
				<con:element>html</con:element>
			</con:representation>
			<con:representation type="REQUEST"><con:mediaType>Application/atom+xml</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/atom+xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="28e01adf-7b37-4356-a821-bb3d4874919b">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Bulk/</con:originalUri><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters>
  <con:entry key="Authorization" value="Bearer ${#Project#client_access_token}"/>
  <con:entry key="bulkId" value="${#Project#bulkId}"/>
</con:parameters>
		<con:parameterOrder><con:entry>bulkId</con:entry><con:entry>Authorization</con:entry><con:entry>Content-Type</con:entry></con:parameterOrder>
	</con:request>
</con:method>
</con:resource>
<con:method name="Method 1" method="GET" id="c001b3fd-29a8-45b2-8bed-29491e3cb3f1">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>404</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>Application/atom+xml</con:mediaType><con:params/></con:representation><con:request name="Request 1" mediaType="application/json" id="941f874c-7138-441a-8a47-c3ce4ba1f2f7">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Bulk</con:originalUri><con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
</con:resource>
<con:resource name="Subscription" path="Subscription" id="42474886-37a4-43ca-a5d3-8db235c318cd">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{subscriptionId}" path="{subscriptionId}" id="dc584e5a-b904-47c8-a689-bef518d0da06">
		<con:settings/>
		<con:parameters>
			<con:parameter>
				<con:name>subscriptionId</con:name>
				<con:value>${#Project#subscriptionId}</con:value>
				<con:style>TEMPLATE</con:style>
				<con:default>${#Project#subscriptionId}</con:default>
			</con:parameter>
		</con:parameters>
		<con:resource name="UsagePoint" path="UsagePoint" id="fd205047-d5f4-4c30-9f84-4e1216374b8b">
			<con:settings/>
			<con:parameters/>
			<con:resource name="{usagePointId}" path="{usagePointId}" id="37aa9d50-35ca-4fbe-a6c4-b84d1942e6e0">
				<con:settings/>
				<con:parameters>
					<con:parameter>
						<con:name>usagePointId</con:name>
						<con:value>${#Project#usagePointId}</con:value>
						<con:style>TEMPLATE</con:style>
						<con:default>${#Project#usagePointId}</con:default>
					</con:parameter>
				</con:parameters>
				<con:resource name="MeterReading" path="MeterReading" id="af934b27-1654-47df-9855-d3d51436b8ec">
					<con:settings/>
					<con:parameters/>
					<con:resource name="{meterReadingId}" path="{meterReadingId}" id="c1800681-eedb-4d2a-82ec-65a67768d499">
						<con:settings/>
						<con:parameters>
							<con:parameter>
								<con:name>meterReadingId</con:name>
								<con:value>${#Project#meterReadingId}</con:value>
								<con:style>TEMPLATE</con:style>
								<con:default>${#Project#meterReadingId}</con:default>
								<con:description xsi:nil="true"/>
							</con:parameter>
						</con:parameters>
						<con:resource name="IntervalBlock" path="IntervalBlock" id="e23f80cd-05f5-4f06-adce-7d62aea058e3">
							<con:settings/>
							<con:parameters/>
							<con:resource name="{intervalBlockId}" path="{intervalBlockId}" id="7d5b42ea-3490-40b0-8a12-9281e2fc19d8">
								<con:settings/>
								<con:parameters>
									<con:parameter>
										<con:name>intervalBlockId</con:name>
										<con:value>${#Project#intervalBlockId}</con:value>
										<con:style>TEMPLATE</con:style>
										<con:default>${#Project#intervalBlockId}</con:default>
									</con:parameter>
								</con:parameters>
								<con:method name="GET IntervalBlock by Id" method="GET" id="8037a212-a1a4-4b16-a8ed-f0ec85277bf9">
									<con:settings/>
									<con:parameters/>
									<con:representation type="FAULT">
										<con:mediaType>application/json;charset=UTF-8</con:mediaType>
										<con:status>403</con:status>
										<con:params/>
										<con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint/1/MeterReading/1/IntervalBlock/1">ns:Fault</con:element>
									</con:representation>
									<con:representation type="REQUEST">
										<con:mediaType>Application/atom+xml</con:mediaType>
										<con:params/>
									</con:representation>
									<con:representation type="FAULT">
										<con:mediaType>text/html;charset=utf-8</con:mediaType>
										<con:status>400</con:status>
										<con:params/>
										<con:element>html</con:element>
									</con:representation>
									<con:representation type="FAULT">
										<con:mediaType>application/atom+xml</con:mediaType>
										<con:status>400</con:status>
										<con:params/>
									</con:representation>
									<con:representation type="RESPONSE">
										<con:mediaType>application/atom+xml</con:mediaType>
										<con:status>200</con:status>
										<con:params/>
										<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
									</con:representation>
									<con:request name="Request 1" mediaType="application/json" id="51ea6c55-6593-4533-9050-f183143318a9">
										<con:settings>
											<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
								</con:settings>
								<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
								<con:request/>
								<con:credentials>
									<con:authType>Global HTTP Settings</con:authType>
								</con:credentials>
								<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
								<con:jmsPropertyConfig/>
								<con:parameters/>
							</con:request>
						</con:method>
					</con:resource>
					<con:method name="GET IntervalBlock feed" method="GET" id="812b2424-6098-4d4e-b259-134efea53899">
						<con:settings/>
						<con:parameters/>
						<con:representation type="RESPONSE">
							<con:mediaType>application/atom+xml</con:mediaType>
							<con:status>200</con:status>
							<con:params/>
							<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
						</con:representation>
						<con:representation type="REQUEST">
							<con:mediaType>Application/atom+xml</con:mediaType>
							<con:params/>
						</con:representation>
						<con:request name="Request 1" mediaType="application/json" id="48fdca51-17f6-4ef2-b5ca-a9fbe4da5834">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
					<con:request/>
					<con:credentials>
						<con:authType>Global HTTP Settings</con:authType>
					</con:credentials>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters/>
				</con:request>
			</con:method>
		</con:resource>
		<con:method name="GET MeterReading by Id" method="GET" id="72a21efb-0665-4994-a4b2-7e0fd6281f70">
			<con:settings/>
			<con:parameters/>
			<con:representation type="RESPONSE">
				<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
				<con:status>200</con:status>
				<con:params/>
				<con:element>html</con:element>
			</con:representation>
			<con:representation type="REQUEST">
				<con:mediaType>Application/atom+xml</con:mediaType>
				<con:params/>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>application/json;charset=UTF-8</con:mediaType>
				<con:status>403</con:status>
				<con:params/>
				<con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint/1/MeterReading/1">ns:Fault</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:status>400</con:status>
				<con:params/>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:request name="Request 1" mediaType="application/json" id="1e1d6af0-7ac2-4a41-956e-43b46f430b08">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1/MeterReading/1</con:originalUri>
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
			<con:entry>subscriptionId</con:entry>
			<con:entry>usagePointId</con:entry>
			<con:entry>meterReadingId</con:entry>
		</con:parameterOrder>
	</con:request>
</con:method>
</con:resource>
<con:method name="GET MeterReading Feed" method="GET" id="09c3213a-f116-40d6-8b99-87e1ad73c1f5">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/json;charset=UTF-8</con:mediaType>
		<con:status>403</con:status>
		<con:params/>
		<con:element xmlns:met="http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint/1/MeterReading">met:Fault</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>500</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="f5aa923b-979f-4e19-8939-779f508ba6b3">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
</con:request>
</con:method>
<con:method name="POST MeterReadingFeed" method="POST" id="abdf94a7-17e5-47cd-959c-ecec1f1e6de8">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>415</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="Application/atom+xml" postQueryString="false" id="572d774c-6506-4ab8-84c4-f9f2ce4829ad">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	<con:setting id="RecordRequestRepresentations">false</con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
	<ns3:id>urn:uuid:F77FBF34-A09E-4EBC-9606-FF1A59A17CAE</ns3:id>
	<ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1/MeterReading/1" rel="self"/>
	<ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1/MeterReading" rel="up"/>
	<ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1/MeterReading/1/IntervalBlock" rel="related"/>
	<ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ReadingType/1" rel="related"/>
	<ns3:title>Fifteen Minute Electricity Consumption</ns3:title>
	<ns3:content>
		<espi:MeterReading/>
	</ns3:content>
	<ns3:published>2012-10-24T00:00:00Z</ns3:published>
	<ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
</con:request>
</con:method>
</con:resource>
<con:resource name="ElectricPowerUsageSummary" path="ElectricPowerUsageSummary" id="2600485b-c2a9-4077-a282-fd75ea534482">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{electricPowerUsageSummaryId}" path="{electricPowerUsageSummaryId}" id="421cd098-6c05-44b3-a98e-f3866baed728">
		<con:settings/>
		<con:parameters>
			<con:parameter>
				<con:name>electricPowerUsageSummaryId</con:name>
				<con:value>${#Project#electricPowerUsageSummaryId}</con:value>
				<con:style>TEMPLATE</con:style>
				<con:default>${#Project#electricPowerUsageSummaryId}</con:default>
			</con:parameter>
		</con:parameters>
		<con:method name="GET ElectricPowerUsageSummary by Id" method="GET" id="123990b2-aef3-4567-a2a5-8622bf3aa64a">
			<con:settings/>
			<con:parameters/>
			<con:representation type="REQUEST">
				<con:mediaType>Application/atom+xml</con:mediaType>
				<con:params/>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>application/json;charset=UTF-8</con:mediaType>
				<con:status>403</con:status>
				<con:params/>
				<con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint/1/ElectricPowerUsageSummary/1">ns:Fault</con:element>
			</con:representation>
			<con:request name="Request 1" mediaType="application/json" id="ff0f412e-7292-4186-b75d-a392bd583973">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:credentials>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
	</con:request>
</con:method>
</con:resource>
<con:method name="GET ElectricPowerUsageSummary Feed" method="GET" id="746058b5-3484-4a81-9469-7a5f97ffaeb1">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="cb83a25f-f2e1-416a-93a1-53a02d79be1f">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint/1/ElectricPowerUsageSummary</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
</con:request>
</con:method>
</con:resource>
<con:resource name="ElectricPowerQualitySummary" path="ElectricPowerQualitySummary" id="eb7e70a7-3a97-455c-a61c-bc1f61d8f222">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{electricPowerQualitySummaryId}" path="{electricPowerQualitySummaryId}" id="2c6ad5c1-0f65-42c8-9f2e-e408cd1dc187">
		<con:settings/>
		<con:parameters>
			<con:parameter>
				<con:name>electricPowerQualitySummaryId</con:name>
				<con:value>${#Project#electricPowerQualitySummaryId}</con:value>
				<con:style>TEMPLATE</con:style>
				<con:default>${#Project#electricPowerQualitySummaryId}</con:default>
			</con:parameter>
		</con:parameters>
		<con:method name="GET ElectricPowerQualitySummary by Id" method="GET" id="637d4d01-17dd-4dcb-8e63-7c466760124b">
			<con:settings/>
			<con:parameters/>
			<con:representation type="REQUEST">
				<con:mediaType>Application/atom+xml</con:mediaType>
				<con:params/>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>application/json;charset=UTF-8</con:mediaType>
				<con:status>403</con:status>
				<con:params/>
				<con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint/1/ElectricPowerQualitySummary/1">ns:Fault</con:element>
			</con:representation>
			<con:request name="Request 1" mediaType="application/json" id="f16fba15-47fd-414c-8488-f8b1ab2c30be">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:credentials>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
	</con:request>
</con:method>
</con:resource>
<con:method name="GET ElectricPowerQualitySummary Feed" method="GET" id="6842b418-6851-4ccc-9184-90bae5edcb49">
	<con:settings/>
	<con:parameters/>
	<con:request name="Request 1" mediaType="application/json" id="1b22da35-acb2-4030-b95d-bc648b2ec666">
		<con:settings/>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:credentials>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
	</con:request>
</con:method>
</con:resource>
<con:method name="GET UsagePoint by Id" method="GET" id="e8e3fcc5-1cc9-41ec-b5e9-e82db7e53066">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/json;charset=UTF-8</con:mediaType>
		<con:status>403</con:status>
		<con:params/>
		<con:element xmlns:usag="http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint/usagePointId">usag:Fault</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>500</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="60f67287-8953-45c9-872d-a7fc6eeb63af">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
	<con:entry>subscriptionId</con:entry>
	<con:entry>usagePointId</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:method name="GET UsagePoint Feed" method="GET" id="c2f59b43-ed41-4b25-b16f-1aa588104d9b">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>application/json;charset=UTF-8</con:mediaType>
		<con:status>403</con:status>
		<con:params/>
		<con:element xmlns:usag="http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint">usag:Fault</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>404</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="19aaf2a0-c8b0-45c3-b56b-3f17a2439839">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
</con:request>
</con:method>
</con:resource>
<con:method name="Get" method="GET" id="15dbf30c-3387-4f52-8fcd-b3908b791fd9">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>400 404</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/json;charset=UTF-8</con:mediaType>
		<con:status>403</con:status>
		<con:params/>
		<con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/Subscription/1">ns:Fault</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="871e2981-c765-4a0d-9d3b-8084e7e5825c">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/1</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>subscriptionId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Delete" method="DELETE" id="965fe936-fe36-4ff8-8583-94770f043ef5">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="7e6b840c-c2e5-421e-8a57-920847ff73e6">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>subscriptionId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:method name="Get" method="GET" id="a1758db0-a234-4ff7-ae63-0e7ff5741876">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/json;charset=UTF-8</con:mediaType>
		<con:status>401</con:status>
		<con:params/>
		<con:element xmlns:sub="http://localhost/DataCustodian/espi/1_1/resource/Subscription">sub:Fault</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="27d6c598-8abd-47b4-afe3-cd96766323c9">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription</con:originalUri><con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="ApplicationInformation" path="ApplicationInformation" id="2683f586-bfe2-47c7-a235-5206072b31fc">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{applicationInformationId}" path="{applicationInformationId}" id="c820a2d4-7187-49cd-b008-8911cb32caed">
		<con:settings/>
		<con:parameters>
			<con:parameter>
				<con:name>applicationInformationId</con:name>
				<con:value>${#Project#applicationInformationId}</con:value>
				<con:style>TEMPLATE</con:style>
				<con:default>${#Project#applicationInformationId}</con:default>
			</con:parameter>
		</con:parameters>
		<con:method name="GET ApplicationInformation by Id" method="GET" id="cf176767-b657-4345-b8a6-c41203f67982">
			<con:settings/>
			<con:parameters/>
			<con:representation type="RESPONSE">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
				<con:status>500</con:status>
				<con:params/>
				<con:element>html</con:element>
			</con:representation>
			<con:representation type="REQUEST">
				<con:mediaType>Application/atom+xml</con:mediaType>
				<con:params/>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>text/html;charset=utf-8</con:mediaType>
				<con:status>400 404</con:status>
				<con:params/>
				<con:element>html</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>application/json;charset=UTF-8</con:mediaType>
				<con:status>403 401</con:status>
				<con:params/>
				<con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1">ns:Fault</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:status>400</con:status>
				<con:params/>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
				<con:status>200</con:status>
				<con:params/>
				<con:element>html</con:element>
			</con:representation>
			<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/xml;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">soapenv:Envelope</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/atom+xml;charset=iso-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/xml</con:mediaType><con:status>403 401</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=iso-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:parameterOrder>
			<con:entry>applicationInformationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:request>
</con:method>
<con:method name="Delete" method="DELETE" id="240c6f45-9544-4822-89b9-491016bd335e">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>403</con:status><con:params/><con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1">ns:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>Application/atom+xml</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="9ef70ba4-9a57-4ff5-a02e-b693213d9dc0">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>applicationInformationId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Put" method="PUT" id="f3a28c9f-a3e0-4f39-b82e-137bdcc415a4">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>403 401</con:status><con:params/><con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1">ns:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="4b7a8070-65c9-49fd-9a55-3b4671527e91">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<?xml-stylesheet type="text/xsl" href="/GreenButtonDataStyleSheet.xslt"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <id>urn:uuid:40f037af-96cd-4ce6-96f2-38bc1851a454</id>
   <title>Green Button Usage Feed</title>
   <updated>2014-02-27T19:19:08Z</updated>
   <link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="self"/>
   <ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
      <ns3:id>urn:uuid:af6e8b03-0299-467e-972a-a883ecdcc575</ns3:id>
      <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="up"/>
      <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation/1" rel="self"/>
      <ns3:title>GreenButtonData.org  DataCustodian Application</ns3:title>
      <ns3:content>
         <espi:ApplicationInformation>
            <espi:dataCustodianApplicationStatus/>
            <espi:thirdPartyNotifyUri>http://localhost:8080/ThirdParty/espi/1_1/Notification</espi:thirdPartyNotifyUri>
            <espi:dataCustodianBulkRequestURI/>
            <espi:dataCustodianResourceEndpoint>http://localhost:8080/DataCustodian/espi/1_1/resource</espi:dataCustodianResourceEndpoint>
            <espi:thirdPartyScopeSelectionScreenURI>http://localhost:8080/ThirdParty/RetailCustomer/ScopeSelection</espi:thirdPartyScopeSelectionScreenURI>
            <espi:client_secret>secret</espi:client_secret>
            <espi:redirect_uri>http://localhost:8080/ThirdParty/espi/1_1/OAuthCallBack</espi:redirect_uri>
            <espi:client_id>third_party</espi:client_id>
            <espi:scope>FB=4_5_15;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</espi:scope>
            <espi:scope>FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
            <espi:dataCustodianId>data_custodian</espi:dataCustodianId>
            <espi:thirdPartyApplicationName>Third Party (localhost)</espi:thirdPartyApplicationName>
         </espi:ApplicationInformation>
      </ns3:content>
      <ns3:published>2014-01-02T10:00:00Z</ns3:published>
      <ns3:updated>2014-01-02T10:00:00Z</ns3:updated>
   </ns3:entry>
</feed>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>applicationInformationId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:method name="GET ApplicationInformation Feed" method="GET" id="39650856-2761-4c8d-93d1-e3f7a78ed83b">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>500</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/json;charset=UTF-8</con:mediaType>
		<con:status>403 401</con:status>
		<con:params/>
		<con:element xmlns:app="http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation">app:Fault</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="02f6b5c6-3af1-4614-8b5a-ee45d6da5666">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Post" method="POST" id="103f5695-c0f1-4a9e-898c-9f77be3bc3ab">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="7681492e-ee1c-4175-bd71-ad8c87891263">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
      <ns3:id>urn:uuid:af6e8b03-0299-467e-972a-a883ecdcc575</ns3:id>
      <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="up"/>
      <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation/1" rel="self"/>
      <ns3:title>GreenButtonData.org  DataCustodian Application</ns3:title>
      <ns3:content>
         <espi:ApplicationInformation>
            <espi:dataCustodianApplicationStatus/>
            <espi:thirdPartyNotifyUri>http://localhost:8080/ThirdParty/espi/1_1/Notification</espi:thirdPartyNotifyUri>
            <espi:dataCustodianBulkRequestURI/>
            <espi:dataCustodianResourceEndpoint>http://localhost:8080/DataCustodian/espi/1_1/resource</espi:dataCustodianResourceEndpoint>
            <espi:thirdPartyScopeSelectionScreenURI>http://localhost:8080/ThirdParty/RetailCustomer/ScopeSelection</espi:thirdPartyScopeSelectionScreenURI>
            <espi:client_secret>secret</espi:client_secret>
            <espi:redirect_uri>http://localhost:8080/ThirdParty/espi/1_1/OAuthCallBack</espi:redirect_uri>
            <espi:client_id>third_party</espi:client_id>
            <espi:scope>FB=4_5_15;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</espi:scope>
            <espi:scope>FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
            <espi:dataCustodianId>data_custodian</espi:dataCustodianId>
            <espi:thirdPartyApplicationName>Third Party (localhost)</espi:thirdPartyApplicationName>
         </espi:ApplicationInformation>
      </ns3:content>
      <ns3:published>2014-01-02T10:00:00Z</ns3:published>
      <ns3:updated>2014-01-02T10:00:00Z</ns3:updated>
   </ns3:entry>]]></con:request>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="Authorization" path="Authorization" id="e18c37bc-c81a-47a1-ba06-8bbfe20f9fca">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{authorizationId}" path="{authorizationId}" id="afd7ea03-b51e-4a68-83f4-b597e59f045a">
		<con:settings/>
		<con:parameters>
			<con:parameter>
				<con:name>authorizationId</con:name>
				<con:value>${#Project#authorizationId}</con:value>
				<con:style>TEMPLATE</con:style>
				<con:default>${#Project#authorizationId}</con:default>
			</con:parameter>
		</con:parameters>
		<con:method name="GET Authorization by Id" method="GET" id="89b81ae0-2a13-4aab-8a92-0714d7686bae">
			<con:settings/>
			<con:parameters/>
			<con:representation type="FAULT">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:status>400</con:status>
				<con:params/>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
				<con:status>500</con:status>
				<con:params/>
				<con:element>html</con:element>
			</con:representation>
			<con:representation type="REQUEST">
				<con:mediaType>Application/atom+xml</con:mediaType>
				<con:params/>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>application/json;charset=UTF-8</con:mediaType>
				<con:status>401 403</con:status>
				<con:params/>
				<con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/Authorization/1">ns:Fault</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>text/html;charset=utf-8</con:mediaType>
				<con:status>400</con:status>
				<con:params/>
				<con:element>html</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>0</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:parameterOrder>
			<con:entry>authorizationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:request>
</con:method>
<con:method name="Delete" method="DELETE" id="8c62f14e-7d02-4445-9def-71c7ea915971">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>401</con:status><con:params/><con:element xmlns:ns="http://localhost/DataCustodian/espi/1_1/resource/Authorization/1">ns:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="91a52e47-6bd1-4f6d-86f6-444e1583b6ce">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>authorizationId</con:entry>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="PUT" method="PUT" id="4b529598-41fb-44bf-9321-a3769cd43a56"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>415</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="6bda1dcd-48b2-4098-a9f5-d5d7cb0600a4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:558ebd17-fd1d-435d-8f8d-1d9a129ee1a6</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization" rel="up"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/1" rel="self"/>
   <ns3:content>
      <espi:Authorization>
         <espi:authorizedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:authorizedPeriod>
         <espi:publishedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:publishedPeriod>
         <espi:accessToken>688b026c-665f-4994-9139-6b21b13fbeee</espi:accessToken>
         <espi:status>1</espi:status>
         <espi:expires_in>31536000</espi:expires_in>
         <espi:scope>DataCustodian_Admin_Access</espi:scope>
         <espi:token_type>bearer</espi:token_type>
         <espi:resourceURI>http://localhost:8080/DataCustodian/espi/1_1/resource/</espi:resourceURI>
         <espi:authorizationURI>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/1</espi:authorizationURI>
         <espi:thirdParty>data_custodian_admin</espi:thirdParty>
      </espi:Authorization>
   </ns3:content>
   <ns3:published>2014-05-12T13:02:03Z</ns3:published>
   <ns3:updated>2014-05-12T13:02:03Z</ns3:updated>
</ns3:entry>]]></con:request><con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource>
<con:method name="GET Authorization Feed" method="GET" id="4044e8f5-4f26-4b1f-87ee-2f9e6737cd3f">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/json;charset=UTF-8</con:mediaType>
		<con:status>403 401</con:status>
		<con:params/>
		<con:element xmlns:aut="http://localhost/DataCustodian/espi/1_1/resource/Authorization">aut:Fault</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>500</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE"><con:mediaType>application/atom+xml;charset=iso-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="78372758-3493-4c0e-925a-ffff58d1cb41">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Authorization</con:entry>
	<con:entry>Content-Type</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="ReadServiceStatus" path="ReadServiceStatus" id="aef66a1b-7eb4-48e5-8e0c-a53530843ccb">
	<con:settings/>
	<con:parameters/>
	<con:method name="GET ServiceStatus" method="GET" id="ddb8df63-2747-439f-9d50-9faa935fc258">
		<con:settings/>
		<con:parameters/>
		<con:representation type="FAULT">
			<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
			<con:status>404 500</con:status>
			<con:params/>
			<con:element>html</con:element>
		</con:representation>
		<con:representation type="REQUEST">
			<con:mediaType>Application/atom+xml</con:mediaType>
			<con:params/>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType>application/atom+xml</con:mediaType>
			<con:status>200</con:status>
			<con:params/>
			<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="FAULT">
			<con:mediaType>application/json;charset=UTF-8</con:mediaType>
			<con:status>403 401</con:status>
			<con:params/>
			<con:element xmlns:read="http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus">read:Fault</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:espi="http://naesb.org/espi">espi:ServiceStatus</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=iso-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/xml</con:mediaType><con:status>403 500</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="60e1ff43-7b61-4173-9448-051a3c6ddf48">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus</con:originalUri>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters/>
	<con:parameterOrder>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="LocalTimeParameters" path="LocalTimeParameters" id="88c8d501-0bbb-4412-a24a-d0bda6788c83">
	<con:settings/>
	<con:parameters>

	</con:parameters>
	<con:resource name="{localTimeParametersId}" path="{localTimeParametersId}" id="9b4bd4cc-1b04-4070-83f4-edd8a87aab84">
		<con:settings/>
		<con:parameters>
			<con:parameter required="false">
				<con:name>localTimeParametersId</con:name>
				<con:value>${#Project#localTimeParametersId}</con:value>
				<con:style>TEMPLATE</con:style>
				<con:default>${#Project#localTimeParametersId}</con:default>
			</con:parameter>
		</con:parameters>
		<con:method name="GET LocalTimeParameters by Id" method="GET" id="289c1e03-bd80-4fc0-ae06-72fa51b32693">
			<con:settings/>
			<con:parameters/>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType xsi:nil="true"/>
				<con:status>400</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType xsi:nil="true"/>
				<con:status>400</con:status>
				<con:params/>
				<con:element>data</con:element>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType xsi:nil="true"/>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="REQUEST">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:params/>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:status>400</con:status>
				<con:params/>
			</con:representation>
			<con:representation type="RESPONSE">
				<con:mediaType>application/atom+xml</con:mediaType>
				<con:status>200</con:status>
				<con:params/>
				<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
			</con:representation>
			<con:representation type="FAULT">
				<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
				<con:status>500</con:status>
				<con:params/>
				<con:element>html</con:element>
			</con:representation>
			<con:request name="Request 1" mediaType="application/json" id="992b9d02-a55d-4839-bbe9-fad896b41aeb">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:credentials>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters>
			<entry key="Content-Type" value="application/atom+xml" xmlns="http://eviware.com/soapui/config"/>
		</con:parameters>
		<con:parameterOrder>
			<con:entry>localTimeParametersId</con:entry>
			<con:entry>Content-Type</con:entry>
			<con:entry>Authorization</con:entry>
		</con:parameterOrder>
	</con:request>
</con:method>
<con:method name="Put" method="PUT" id="bc773f1b-a40b-447a-999b-5ad916dadf23">
	<con:settings/>
	<con:parameters/>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>403</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="a6c5e92e-37f7-4baf-935e-4eef88d6d894">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:54C62EBE-2DB6-4D4F-B6BF-1973A079C841</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="self"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/LocalTimeParameters" rel="up"/>
   <ns3:title>DST For North America</ns3:title>
   <ns3:content>
      <espi:LocalTimeParameters>
         <espi:dstEndRule>B40E2000</espi:dstEndRule>
         <espi:dstOffset>3600</espi:dstOffset>
         <espi:dstStartRule>360E2000</espi:dstStartRule>
         <espi:tzOffset>-18000</espi:tzOffset>
      </espi:LocalTimeParameters>
   </ns3:content>
   <ns3:published>2012-10-24T00:00:00Z</ns3:published>
   <ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Content-Type</con:entry>
	<con:entry>localTimeParametersId</con:entry>
	<con:entry>Authorization</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Delete" method="DELETE" id="3a185e53-ab89-4aec-88d2-2bb753f10e2e">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType xsi:nil="true"/>
		<con:status>400</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="ce3467de-f1e5-412f-a074-91081ffcfa7f">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Content-Type</con:entry>
	<con:entry>localTimeParametersId</con:entry>
	<con:entry>Authorization</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:method name="GET LocalTimeParameters Feed" method="GET" id="12c4715b-00dd-4a98-a2fe-6b5d586c4f3c">
	<con:settings/>
	<con:parameters/>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:feed</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="03bcb211-9b20-4f13-a3d5-ba0897166d66">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/LocalTimeParameters</con:originalUri>
<con:credentials>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Content-Type</con:entry>
	<con:entry>Authorization</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
<con:method name="Post" method="POST" id="b4edfcb5-5f83-406f-86a9-f5c101e5f0fc">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>application/json</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
		<con:status>404</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>text/html;charset=utf-8</con:mediaType>
		<con:status>415 400</con:status>
		<con:params/>
		<con:element>html</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="REQUEST">
		<con:mediaType>application/xml</con:mediaType>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>0</con:status>
		<con:params/>
		<con:element>data</con:element>
	</con:representation>
	<con:representation type="FAULT">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>400</con:status>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType xsi:nil="true"/>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/atom+xml" postQueryString="false" id="a135f049-b3ed-4eb4-9285-005f63e361d7">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request><![CDATA[<ns3:entry xmlns:espi="http://naesb.org/espi" xmlns:ns3="http://www.w3.org/2005/Atom">
   <ns3:id>urn:uuid:54C62EBE-2DB6-4D4F-B6BF-1973A079C841</ns3:id>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="self"/>
   <ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/LocalTimeParameters" rel="up"/>
   <ns3:title>DST For North America</ns3:title>
   <ns3:content>
      <espi:LocalTimeParameters>
         <espi:dstEndRule>B40E2000</espi:dstEndRule>
         <espi:dstOffset>3600</espi:dstOffset>
         <espi:dstStartRule>360E2000</espi:dstStartRule>
         <espi:tzOffset>-18000</espi:tzOffset>
      </espi:LocalTimeParameters>
   </ns3:content>
   <ns3:published>2012-10-24T00:00:00Z</ns3:published>
   <ns3:updated>2012-10-24T00:00:00Z</ns3:updated>
</ns3:entry>]]></con:request>
<con:credentials>
	<con:authType>Global HTTP Settings</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
<con:parameterOrder>
	<con:entry>Content-Type</con:entry>
	<con:entry>Authorization</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="RetailCustomer" path="RetailCustomer" id="810d66a8-531f-4820-9dcf-4503d52d4f7a">
	<con:settings/>
	<con:parameters/>
	<con:resource name="{retailCustomerId}" path="{retailCustomerId}" id="1646b2d9-75b0-4fbf-b4c4-5daa3793bdfe">
		<con:settings/>
		<con:parameters>
			<con:parameter>
				<con:name>retailCustomerId</con:name>
				<con:value>${#Project#retailCustomerId}</con:value>
				<con:style>TEMPLATE</con:style>
				<con:default>${#Project#retailCustomerId}</con:default>
			</con:parameter>
		</con:parameters>
		<con:resource name="UsagePoint" path="UsagePoint" id="d97dbd23-3084-458d-815a-e9294819ffd6">
			<con:settings/>
			<con:parameters/>
			<con:method name="Method 1" method="GET" id="9ba53938-704d-49f5-9d29-3ab74965e363">
				<con:settings/>
				<con:parameters/>
				<con:representation type="FAULT">
					<con:mediaType>text/html;charset=utf-8</con:mediaType>
					<con:status>404</con:status>
					<con:params/>
					<con:element>html</con:element>
				</con:representation>
				<con:representation type="REQUEST">
					<con:mediaType>Application/atom+xml</con:mediaType>
					<con:params/>
				</con:representation>
				<con:request name="Request 1" mediaType="application/json" id="e5b25e9f-f1d5-47f2-98f3-2b3b2963d21a">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint</con:originalUri>
			<con:credentials>
				<con:authType>No Authorization</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters/>
		</con:request>
	</con:method>
	<con:method name="POST UsagePoint" method="POST" id="0c334c71-62b8-4b59-a3eb-78a7adfeab82">
		<con:settings/>
		<con:parameters/>
		<con:representation type="REQUEST">
			<con:mediaType>application/json</con:mediaType>
			<con:params/>
		</con:representation>
		<con:representation type="FAULT">
			<con:mediaType>text/html;charset=utf-8</con:mediaType>
			<con:status>404</con:status>
			<con:params/>
			<con:element>html</con:element>
		</con:representation>
		<con:request name="Request 1" mediaType="application/json" postQueryString="false" id="d484229e-10ed-47e1-b4d3-3e52ade32e93">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request><![CDATA[<ns3:entry><ns3:id>urn:uuid:48C2A019-5598-4E16-B0F9-49E4FF27F5FB</ns3:id><ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/9B6C7066/UsagePoint/1" rel="self"/><ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/9B6C7066/UsagePoint" rel="up"/><ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/9B6C7066/UsagePoint/1/MeterReading" rel="related"/><ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/9B6C7066/UsagePoint/1/ElectricPowerUsageSummary" rel="related"/><ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/RetailCustomer/9B6C7066/UsagePoint/1/ElectricPowerQualitySummary" rel="related"/><ns3:link href="http://localhost:8080/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="related"/><ns3:title>Front Electric Meter</ns3:title><ns3:content><espi:UsagePoint><espi:ServiceCategory><espi:kind>0</espi:kind></espi:ServiceCategory></espi:UsagePoint></ns3:content><ns3:published>2012-10-24T00:00:00Z</ns3:published><ns3:updated>2012-10-24T00:00:00Z</ns3:updated></ns3:entry>]]></con:request>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/RetailCustomer/1/UsagePoint</con:originalUri>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters/>
</con:request>
</con:method>
</con:resource>
<con:method name="Method 1" method="GET" id="abeef4db-b74f-4e9c-a5cd-419fd763f4a1">
	<con:settings/>
	<con:parameters/>
	<con:representation type="REQUEST">
		<con:mediaType>Application/atom+xml</con:mediaType>
		<con:params/>
	</con:representation>
	<con:representation type="RESPONSE">
		<con:mediaType>application/atom+xml</con:mediaType>
		<con:status>200</con:status>
		<con:params/>
		<con:element xmlns:atom="http://www.w3.org/2005/Atom">atom:entry</con:element>
	</con:representation>
	<con:request name="Request 1" mediaType="application/json" id="f6b324a6-8e3c-4d52-bf25-9ecad264eeed">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/RetailCustomer/1</con:originalUri>
<con:credentials>
	<con:authType>No Authorization</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters/>
</con:request>
</con:method>
</con:resource>
<con:method name="Method 1" method="GET" id="6481e274-ca61-4af8-af18-c86deb3c3c2e">
	<con:settings/>
	<con:parameters/>
	<con:request name="Request 1" mediaType="application/json" id="2e776260-3860-4db3-bf75-b848275e0c30">
		<con:settings/>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:credentials>
			<con:authType>No Authorization</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
	</con:request>
</con:method>
</con:resource>
<con:resource name="ElectricPowerUsageSummary" path="ElectricPowerUsageSummary" id="530ea0c2-1fc7-44d3-a8ab-697856a17f5b">
	<con:settings/>
	<con:parameters/>
	<con:method name="GET root ElectricPowerUsageSummary feed" method="GET" id="8409becd-9089-4a76-8102-f2316ad4d7d7">
		<con:settings/>
		<con:parameters/>
		<con:representation type="REQUEST">
			<con:mediaType>Application/atom+xml</con:mediaType>
			<con:params/>
		</con:representation>
		<con:representation type="FAULT">
			<con:mediaType>application/atom+xml</con:mediaType>
			<con:status>400</con:status>
			<con:params/>
		</con:representation>
		<con:request name="GET root ElectricPowerUsageSummary feed" mediaType="application/json" id="af6162ba-715e-45f3-b293-ede3d35941c3">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ElectricPowerUsageSummary</con:originalUri>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters/>
</con:request>
</con:method>
</con:resource>
</con:resource>
<con:endpoints>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:endpoint>192.168.1.3:8080</con:endpoint>
	<con:endpoint>http://localhost:8080</con:endpoint>
<con:endpoint>http://ubuntu:8080/</con:endpoint></con:endpoints>
<con:resource name="token" path="" id="173e6cc8-6837-482b-b5af-a21dabf615ea">
	<con:settings/>
	<con:parameters>
		
		<con:parameter required="true">
			<con:name>grant_type</con:name>
			<con:value>refresh_token</con:value>
			<con:style>QUERY</con:style>
			<con:default/>
			<con:description xsi:nil="true"/>
		</con:parameter>
		<con:parameter required="true">
			<con:name>scope</con:name>
			<con:value>FB</con:value>
			<con:style>QUERY</con:style>
			<con:default>FB</con:default>
			<con:description xsi:nil="true"/>
		</con:parameter>
		
	</con:parameters>
	<con:method name="Client Credentials" method="POST" id="e3df8f56-fde3-4955-b286-fde4034ec188">
		<con:settings/>
		<con:parameters/>
		<con:representation type="FAULT">
			<con:mediaType>application/json;charset=UTF-8</con:mediaType>
			<con:status>400 401 403</con:status>
			<con:params/>
			<con:element xmlns:tok="http://localhost/DataCustodian/oauth/token">tok:Fault</con:element>
		</con:representation>
		<con:representation type="REQUEST">
			<con:mediaType>application/json</con:mediaType>
			<con:params/>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType>application/json;charset=UTF-8</con:mediaType>
			<con:status>200</con:status>
			<con:params/>
			<con:element xmlns:tok="http://localhost/DataCustodian/oauth/token">tok:Response</con:element>
		</con:representation>
		<con:representation type="FAULT">
			<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
			<con:status>500</con:status>
			<con:params/>
			<con:element>html</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500 404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/xml;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">soapenv:Envelope</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="POST ThirdParty Request" mediaType="application/json" postQueryString="false" id="9ba40594-5ba1-490b-b4b8-0547108733e3">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#AuthorizationEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/oauth/token</con:originalUri>
	<con:credentials>
		<con:username>${#Project#client_access_token_client_id}</con:username>
		<con:password>${#Project#client_access_token_secret}</con:password>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
  <con:entry key="scope" value="FB=34_35"/>
  <con:entry key="grant_type" value="client_credentials"/>
</con:parameters>
	<con:parameterOrder><con:entry>grant_type</con:entry><con:entry>scope</con:entry></con:parameterOrder>
</con:request>
<con:request name="POST Upload Request" mediaType="application/json" postQueryString="false" id="e2fc290d-3c07-461e-84a1-d9a6265f0ae0">
	<con:settings>
		<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#authorizationServerTokenEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/oauth/token</con:originalUri>
<con:credentials>
	<con:username>upload</con:username>
	<con:password>secret</con:password>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters>
  <con:entry key="scope" value="FB=45"/>
  <con:entry key="grant_type" value="client_credentials"/>
</con:parameters>
<con:parameterOrder><con:entry>grant_type</con:entry><con:entry>scope</con:entry></con:parameterOrder>
</con:request>
<con:request name="POST ThirdPartyRegistration Request" mediaType="application/json" postQueryString="false" id="c2d8f4db-dd26-4546-a99e-770d3221f363">
	<con:settings>
		<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#authorizationServerTokenEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/oauth/token</con:originalUri>
<con:credentials>
	<con:username>${#Project#registration_access_token_client_id}</con:username>
	<con:password>${#Project#registration_access_token_secret}</con:password>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters>
  <con:entry key="scope" value="FB=36_40"/>
  <con:entry key="grant_type" value="client_credentials"/>
</con:parameters>
<con:parameterOrder><con:entry>grant_type</con:entry><con:entry>scope</con:entry></con:parameterOrder>
</con:request>

<con:request name="POST DataCustodian Client Credentials Request" mediaType="application/json" postQueryString="false" id="448b4c28-e1dc-4451-b625-001cbe1530e6">
	<con:settings>
		<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#authorizationServerTokenEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/oauth/token</con:originalUri>
<con:credentials>
	<con:username>data_custodian</con:username>
	<con:password>secret</con:password>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters>
  <con:entry key="scope" value="FB=3_19_32_33_34_35_36_37_38_41_44_45"/>
  <con:entry key="grant_type" value="client_credentials"/>
</con:parameters>
<con:parameterOrder><con:entry>grant_type</con:entry><con:entry>scope</con:entry></con:parameterOrder>
</con:request>
</con:method>
<con:method name="Refresh Token" method="POST" id="45646350-ae2a-4030-862c-2234cc78521b"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:tok="http://localhost/DataCustodian/oauth/token">tok:Fault</con:element></con:representation><con:request name="POST RefreshToken Request" mediaType="application/json" postQueryString="false" id="e94a5330-fafe-41eb-bcc4-bc7a1306f770"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/DataCustodian/oauth/token</con:originalUri><con:credentials><con:username>third_party_admin</con:username><con:password>secret</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="scope" value="${#Project#Scope}"/>
  <con:entry key="grant_type" value="refresh_token"/>
</con:parameters><con:parameterOrder><con:entry>grant_type</con:entry><con:entry>scope</con:entry></con:parameterOrder></con:request></con:method></con:resource>
<con:resource name="manage" path="/management" id="e118d447-5b7f-4c3c-b7af-f8b4237bcba6">
	<con:settings/>
	<con:parameters>
		<con:parameter>
			<con:name>Authorization</con:name>
			<con:value>Bearer ${#Project#data_custodian_access_token}</con:value>
			<con:style>HEADER</con:style>
			<con:default>Bearer ${#Project#data_custodian_access_token}</con:default>
		</con:parameter>
		<con:parameter>
			<con:name>command</con:name>
			<con:value/>
			<con:style>QUERY</con:style>
			<con:default/>
		</con:parameter>
	</con:parameters>
	<con:method name="Database Resets" method="GET" id="a524f878-8932-40c2-af8e-78211d88b443">
		<con:settings/>
		<con:parameters/>
		<con:representation type="FAULT">
			<con:mediaType>text/html;charset=utf-8</con:mediaType>
			<con:status>405</con:status>
			<con:params/>
			<con:element>html</con:element>
		</con:representation>
		<con:representation type="REQUEST">
			<con:mediaType>application/xml</con:mediaType>
			<con:params/>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType>text/html;charset=ISO-8859-1</con:mediaType>
			<con:status>200</con:status>
			<con:params/>
			<con:element>html</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>0</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE">
			<con:mediaType xsi:nil="true"/>
			<con:status>200</con:status>
			<con:params/>
			<con:element>data</con:element>
		</con:representation>
		<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="resetDataCustodianDB" mediaType="application/xml" postQueryString="false" id="6511b5ba-23eb-4bfe-9f6a-58577bfdfd37">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/manage</con:originalUri>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<entry key="command" value="resetDataCustodianDB" xmlns="http://eviware.com/soapui/config"/>
	</con:parameters>
	<con:parameterOrder>
		<con:entry/>
		<con:entry>Authorization</con:entry>
	</con:parameterOrder>
</con:request>
<con:request name="initializeDataCustodianDB" mediaType="application/xml" postQueryString="false" id="a8d9f598-e5ea-4e02-86ea-92a34d4c8332">
	<con:settings>
		<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/manage</con:originalUri>
<con:credentials>
	<con:authType>No Authorization</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters>
	<entry key="command" value="initializeDataCustodianDB" xmlns="http://eviware.com/soapui/config"/>
</con:parameters>
<con:parameterOrder>
	<con:entry/>
	<con:entry>Authorization</con:entry>
</con:parameterOrder>
</con:request>
</con:method>
</con:resource>
<con:resource name="Notification" path="/${#Project#notificationUri}" id="dfa96174-babd-4335-8a1e-e4385957e571"><con:settings/><con:parameters/><con:method name="Method 1" method="GET" id="616d1f56-583e-4f1f-abce-65c1665ff146"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="d4a226cc-3f5e-48a4-9144-d504d9aaca29"><con:settings/><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="POST" method="POST" id="25fe65e9-ec90-4ac2-b2f2-1af16ac738f2"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=iso-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>text/xml</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>500</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml" postQueryString="false" id="9fd739be-76cf-45b5-ab37-f1156140e1ef"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/ThirdParty</con:endpoint><con:request>&lt;BatchList>
&lt;resources>http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation&lt;/resources>
&lt;/BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="" path="" id="c70ca9c6-1293-4d93-afbb-56e6a1aa4eff"><con:settings/><con:parameters/><con:method name="Method 1" id="a11c5cc1-e8f3-4fe6-82db-0327e825ed9d" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/html; charset=iso-8859-1</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/atom+xml</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="Request 1" id="63372e8a-d839-4dcc-880b-d9e878fa3f34" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8085/</con:endpoint><con:request/><con:originalUri>http://localhost/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource><con:inferredSchema>&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;xml-fragment/></con:inferredSchema></con:interface>
<con:testSuite name="Library" id="0275335f-7515-4da0-a729-cce9f7858991">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GeneralScripts" searchProperties="true" id="c4c4fa40-6628-4c8a-bbbb-2b34185b90b2">
		<con:settings/>
		<con:testStep type="groovy" name="LoadConfig" id="bd695d4c-f5b4-416c-84b1-346616c98830">
			<con:settings/>
			<con:config><script>def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def config = new ConfigSlurper().parse(new File(groovyUtils.projectPath + "/etc/gbcmd.conf").toURL())

// urls
project.setPropertyValue("BaseURL",config.BaseURL);
project.setPropertyValue("ServiceEndpoint",config.ServiceEndpoint);
project.setPropertyValue("DataCustodianContext",config.DataCustodianContext);
project.setPropertyValue("ThirdPartyContext",config.ThirdPartyContext);
project.setPropertyValue("linkPrefixForReplace",config.linkPrefixForReplace);

// test accounts
project.setPropertyValue("TestManager",config.TestManager);
project.setPropertyValue("TestManagerPW",config.TestManagerPW);
project.setPropertyValue("TestRetailCustomer",config.TestRetailCustomer);
project.setPropertyValue("TestRetailCustomerPW",config.TestRetailCustomerPW);

// resourceIds
project.setPropertyValue("retailCustomerId",config.retailCustomerId);
project.setPropertyValue("usagePointId",config.usagePointId);
project.setPropertyValue("resourceId",config.resourceId);
project.setPropertyValue("meterReadingId",config.meterReadingId);
project.setPropertyValue("readingTypeId",config.readingTypeId);
project.setPropertyValue("intervalBlockId",config.intervalBlockId);
project.setPropertyValue("electricPowerQualitySummaryId",config.electricPowerQualitySummaryId);
project.setPropertyValue("electricPowerUsageSummaryId",config.electricPowerUsageSummaryId);
project.setPropertyValue("subscriptionId",config.subscriptionId);
project.setPropertyValue("applicationInformationId",config.applicationInformationId);
project.setPropertyValue("authorizationId",config.authorizationId);
project.setPropertyValue("bulkId",config.bulkId);
project.setPropertyValue("localTimeParametersId",config.localTimeParametersId);
//project.setPropertyValue("HomePageURLEndpoint",config.HomePageURLEndpoint);

// test files
project.setPropertyValue("TestFile",config.TestFile);
project.setPropertyValue("usagePointUUID1",config.usagePointUUID1);
project.setPropertyValue("usagePointDescription1",config.usagePointDescription1);
project.setPropertyValue("TestFile2",config.TestFile2);
project.setPropertyValue("usagePointUUID2",config.usagePointUUID2);
project.setPropertyValue("usagePointDescription2",config.usagePointDescription2);

// access tokens
project.setPropertyValue("data_custodian_access_token",config.data_custodian_access_token);
project.setPropertyValue("third_party_access_token",config.third_party_access_token);
project.setPropertyValue("upload_access_token",config.upload_access_token);
project.setPropertyValue("registration_third_party_access_token",config.registration_third_party_access_token);

project.setPropertyValue("registration_access_token_client_id",config.registration_access_token_client_id);
project.setPropertyValue("registration_access_token_secret",config.registration_access_token_secret);
project.setPropertyValue("client_access_token_client_id", config.client_access_token_client_id);
project.setPropertyValue("client_access_token_secret",config.client_access_token_secret);

project.setPropertyValue("client_id", config.client_id);
project.setPropertyValue("client_secret",config.client_secret);


// external program system commands
project.setPropertyValue("mysqlCmdDC",config.mysqlCmdDC);
project.setPropertyValue("mysqlCmdTP",config.mysqlCmdTP);
project.setPropertyValue("opensslCmd",config.opensslCmd);
project.setPropertyValue("timeoutCmd",config.timeoutCmd);

// oauth authorize endpoint testing
//project.setPropertyValue("client_id",config.client_id);
//project.setPropertyValue("redirect_uri",config.redirect_uri);
//project.setPropertyValue("scope",config.scope);
//project.setPropertyValue("state",config.state);
				</script></con:config>
		</con:testStep>
		<con:testStep type="groovy" name="curlUpload" id="f40394d5-2eb7-42e2-b2a9-87b07a812c44">
			<con:settings/>
			<con:config><script>def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath

def BaseURL = project.getPropertyValue("BaseURL")
def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
def DataCustodianAccessToken = project.getPropertyValue("data_custodian_access_token")
tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["GeneralScripts"]
def UploadFile=projectPath + "/../data/" + tc.getPropertyValue("uploadFile")
def retailCustomerId = tc.getPropertyValue("retailCustomerId")

def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
def tf= new File(UploadFile);
tf = tf.getAbsolutePath();

def td = projectPath + "/../data/" ;
def url= ServiceEndpointDataCustodian+"/espi/1_1/resource/Batch/RetailCustomer/"+retailCustomerId+"/UsagePoint";


public boolean RunCommand(String path,String cmd)
{
def doCmd;

log.info("path: " + path);
log.info("exec: " + cmd);
log.info("os  : " + System.properties['os.name']);

if (System.properties['os.name'].toLowerCase().contains('windows')) {
doCmd = ["cmd", "/c",cmd].execute(null, new File(path));
} else {
doCmd = ["bash", "-c",cmd].execute(null, new File(path));
}

doCmd.waitFor()

if(doCmd.exitValue()!=0)
{
log.error "return code: ${ doCmd.exitValue()}"
log.error "stderr: ${doCmd.err.text}"
log.error "stdout: ${doCmd.in.text}"

return false;
}

return true;
}

// define the command
cmdPost = 'curl --header "Authorization: Bearer ' + DataCustodianAccessToken+ '" --header "Content-Type:application/xml" -X POST -d "@' + tf + '" "' + url+ '"';
log.info("exec: " + cmdPost);

// do the curl
if(RunCommand(td,cmdPost) == true) {
assert true;
}
else
{
testRunner.fail("could not curl up file");
}</script></con:config>
		</con:testStep>
		<con:testStep type="groovy" name="resetDB" id="64e17259-bac9-493e-8827-b5e5dc5993e8">
			<con:settings/>
			<con:config>
				<script>	// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDBDC']);
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDBTP']);



					assert true;</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="resetDBDC" id="e8223182-2c20-4d85-b6cf-bb29f5ed3a30">
			<con:settings/>
			<con:config>
				<script>
					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath

					def mysqlCmdDC=project.getPropertyValue("mysqlCmdDC")

					public boolean RunCommand(String path,String cmd)
					{
					def doCmd;

					if (System.properties['os.name'].toLowerCase().contains('windows')) {
					doCmd = ["cmd", "/c",cmd].execute(null, new File(path));
					} else {
					doCmd = ["bash", "-c",cmd].execute(null, new File(path));
					}

					doCmd.waitFor()

					if(doCmd.exitValue()!=0)
					{
					log.error "return code: ${ doCmd.exitValue()}"
					log.error "stderr: ${doCmd.err.text}"
					log.error "stdout: ${doCmd.in.text}"
					}
					else
					{
					log.info "return code: ${ doCmd.exitValue()}"+"  cmd:  "+ cmd;
					}
					}

					log.info "Reset Data Custodian DB "
					log.info mysqlCmdDC ;
					def etcpath = projectPath + "/etc";


					RunCommand(etcpath,mysqlCmdDC + "  &lt; cleantables_dc.sql");
					RunCommand(etcpath,mysqlCmdDC + "  &lt; prepopulatesql_dc.sql");


					assert true;</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="resetDBTP" id="87ab1b49-e716-4e23-acf5-f48af526c18a">
			<con:settings/>
			<con:config>
				<script>
					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath

					def mysqlCmdTP=project.getPropertyValue("mysqlCmdTP")

					public boolean RunCommand(String path,String cmd)
					{
					def doCmd;

					if (System.properties['os.name'].toLowerCase().contains('windows')) {
					doCmd = ["cmd", "/c",cmd].execute(null, new File(path));
					} else {
					doCmd = ["bash", "-c",cmd].execute(null, new File(path));
					}

					doCmd.waitFor()

					if(doCmd.exitValue()!=0)
					{
					log.error "return code: ${ doCmd.exitValue()}"
					log.error "stderr: ${doCmd.err.text}"
					log.error "stdout: ${doCmd.in.text}"
					}
					else
					{
					log.info "return code: ${ doCmd.exitValue()}"+"  cmd:  "+ cmd;
					}
					}

					log.info "Reset Third Party DB "
					log.info mysqlCmdTP ;
					def etcpath = projectPath + "/etc";


					RunCommand(etcpath,mysqlCmdTP + "  &lt; cleantables_tp.sql");
					RunCommand(etcpath,mysqlCmdTP + "  &lt; prepopulatesql_tp.sql");


					assert true;</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="LoadConfigCert" id="c3e267f6-62ec-47f2-9cfa-de89458e05bf">
			<con:settings/>
			<con:config><script>import java.net.*;
import java.io.*;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def config = new ConfigSlurper().parse(new File(groovyUtils.projectPath + "/etc/gbcmdcert.conf").toURL())
def target = new ConfigSlurper().parse(new File(groovyUtils.projectPath + "/etc/gbcmdcert_target.conf").toURL())
def uri;

propTestStep = context.testCase.getTestStepByName("GET Resource URI with invalid token - registration_access_token");
service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");
genericGetServiceMockPort = service.getPropertyValue("mockPort");


// external program system commands
project.setPropertyValue("opensslCmd",config.opensslCmd);
project.setPropertyValue("timeoutCmd",config.timeoutCmd);
project.setPropertyValue("stunnelConfigDirectory",config.stunnelConfigDirectory);
project.setPropertyValue("stunnelStartCmd",config.stunnelStartCmd);
project.setPropertyValue("stunnelStopCmd",config.stunnelStopCmd);
project.setPropertyValue("stunnelReceiveAddress",config.stunnelReceiveAddress);
project.setPropertyValue("CApathDirectory",config.CApathDirectory);

	
// urls
project.setPropertyValue("BaseURL","");
project.setPropertyValue("ServiceEndpoint","");
project.setPropertyValue("DataCustodianContext","");
project.setPropertyValue("ThirdPartyContext","");
project.setPropertyValue("thirdPartyNotificationEndpoint","");


project.setPropertyValue("GBACertId",target.GBACertId);
project.setPropertyValue("dataCustodianResourceEndpoint",target.dataCustodianResourceEndpoint);
project.setPropertyValue("authorizationServerTokenEndpoint",target.authorizationServerTokenEndpoint);
project.setPropertyValue("applicationInformationId",target.applicationInformationId);
project.setPropertyValue("authorizationId",target.authorizationId);
project.setPropertyValue("registration_access_token",target.registration_access_token);
project.setPropertyValue("scope",target.scope);
project.setPropertyValue("certScopes",target.certDataScopeFBs);

project.setPropertyValue("registration_access_token_client_id",target.registration_access_token_client_id);
project.setPropertyValue("registration_access_token_secret",target.registration_access_token_secret);
project.setPropertyValue("client_access_token_client_id", target.client_access_token_client_id);
project.setPropertyValue("client_access_token_secret",target.client_access_token_secret);

log.info "client_id= " + target.client_id;

if(target.client_access_token != "") {
	project.setPropertyValue("client_access_token",target.client_access_token);
}
else{
	project.setPropertyValue("client_access_token","");
}

if(target.client_id != "") {
	project.setPropertyValue("client_id",target.client_id);
}
else{
	project.setPropertyValue("client_id","");
}
if(target.target.client_secret != "") {
	project.setPropertyValue("client_secret",target.client_secret);
}
else{
	project.setPropertyValue("client_secret","");
}



// proxy ports
project.setPropertyValue("mockPort",config.mockPort);
project.setPropertyValue("proxyOutPort",config.proxyOutPort);
project.setPropertyValue("proxyOutPort1",config.proxyOutPort1);

// set proxy ports in mock servers
def service;
service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");
service.setPropertyValue("mockPort",config.mockPort);
service.setPropertyValue("proxyOutPort",config.proxyOutPort);
service.setPropertyValue("proxyOutPort1",config.proxyOutPort1);

service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Authorization Mock Service");
service.setPropertyValue("mockPort",config.mockPort);
service.setPropertyValue("proxyOutPort",config.proxyOutPort);
service.setPropertyValue("proxyOutPort1",config.proxyOutPort1);

service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty NEG A tests Authorization Mock Service");
service.setPropertyValue("mockPort",config.mockPort);
service.setPropertyValue("proxyOutPort",config.proxyOutPort);
service.setPropertyValue("proxyOutPort1",config.proxyOutPort1);

service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty NEG B tests Authorization Mock Service");
service.setPropertyValue("mockPort",config.mockPort);
service.setPropertyValue("proxyOutPort",config.proxyOutPort);
service.setPropertyValue("proxyOutPort1",config.proxyOutPort1);

// TODO: Standardize port initialization for "GenericGetService" and "BatchListNotification" Mock services
//service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");

//service = testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification");

proxyOutPort = service.getPropertyValue("proxyOutPort");
proxyOutPort1 = service.getPropertyValue("proxyOutPort1");


// Convert URL to proxy version
public String GetProxiedUrl(String uri, String proxy)
{
	def project = testRunner.testCase.testSuite.project;
	URL aURL = new URL(uri);
	String urlproxy="";

	// check for valid url -- at least protocol and host
	if ( (aURL.getProtocol() == null) || (aURL.getHost()==null ))
	{
		testRunner.fail("unparsable url: "+ uri);	
	}
	else
	{
		//String proxyOutPort = project.getPropertyValue("proxyOutPort");
		log.info "Port = " + aURL.getPort();
		if (aURL.getQuery() != null) {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath() + "?"+ aURL.getQuery();
		}
		else {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath();
		}
		log.info "Converted = " + urlproxy;
	}

	return urlproxy;
}

service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");
service.setPropertyValue("mockPort",config.genericGetServiceMockPort);
service.setPropertyValue("stunnelProxyPort",config.proxyOutPort);
service.setPropertyValue("notificationRxTimeoutSecs","10");

genericGetServiceMockPort = service.getPropertyValue("mockPort");

// parse out ServiceEndpoint and resourceURI -- must have "espi/1_1/resource"
uri = project.getPropertyValue("dataCustodianResourceEndpoint");
log.info "DC Resource Endpoint URI: " + uri;
uritemp = uri;
i = uritemp.indexOf("espi/1_1/resource");
if(i>0) {
	// lets shorten it by stripping off up to resource
	uritemp = uritemp.substring(0,i-1);
	log.info "DC ServiceEndpoint " + uritemp;

	//uritemp = GetProxiedUrl(uritemp, proxyOutPort);
	uritemp = GetProxiedUrl(uritemp, genericGetServiceMockPort);
	project.setPropertyValue("ServiceEndpoint",uritemp);
	
	uritemp = uri;
	uritemp = uritemp.substring(uritemp.indexOf("espi/1_1/resource"), uritemp.length());
	log.info "DC resourceUri: " + uritemp;
	project.setPropertyValue("resourceUri",uritemp);
	
}  else {
	// cant be a resource
	log.info ("DC Resource Endpoint Uri not well formed: " + uri);
	testRunner.fail("DC Resource Endpoint Uri not well formed: "+ uri);	
}

// parse out AuthorizationEndpoint 
uri = project.getPropertyValue("authorizationServerTokenEndpoint");
log.info "DC authorizationSeverTokenEndpoint URI: " + uri;
uritemp = uri;
uritemp = GetProxiedUrl(uritemp, proxyOutPort1);
project.setPropertyValue("AuthorizationEndpoint",uritemp);
	

// capture servers
URL aURL = new URL(project.getPropertyValue("dataCustodianResourceEndpoint"));
if (aURL.getPort() == -1) {
	resourceServer= aURL.getHost() + ":443";
}
else
{
	resourceServer= aURL.getHost() + ":" + aURL.getPort();
}
project.setPropertyValue("resourceServer", resourceServer);

aURL = new URL(project.getPropertyValue("authorizationServerTokenEndpoint"));
if (aURL.getPort() == -1) {
	authorizationServer = aURL.getHost() + ":443";
}
else
{
	authorizationServer = aURL.getHost() + ":" + aURL.getPort();
}
project.setPropertyValue("authorizationServer", authorizationServer);



// oauth authorize endpoint testing
project.setPropertyValue("redirect_uri","");
project.setPropertyValue("state","");
</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="SaveScriptLog" id="6d596211-d837-4092-bacb-15bac8c4d1b2"><con:settings/><con:config><script><![CDATA[import javax.xml.transform.TransformerFactory;
import javax.xml.transform.stream.StreamSource;
import javax.xml.transform.stream.StreamResult;

public class testInfo{
	String name;
	Boolean bPass = false;
	Boolean bFail = false;
	Boolean bEnd = false;
	def childTests = [:];
}

//The below groovy script step is to capture the soapUI log area.
// "soapUI log" can be replaced with http log, jetty log, script log, error log etc based on the need.
def logArea = com.eviware.soapui.SoapUI.logMonitor.getLogArea( "script log" );
//Below two lines of groovy script is to get the project directory, we will be saving the soapUI log contents on a file in that directory.
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context) 
def projectPath = groovyUtils.projectPath 

String firstLine;
String lastLine;

def logFile = new File(projectPath + "/soapUI-Logs-to-file.txt")
PrintWriter pw = new PrintWriter(logFile);
pw.close();

//This is the first line in the soapUI log file.
logFile.write("soapUI Logs In a file.\r\n")

def tests = [:];

if( logArea !=null )
{
	
 def model = logArea.model;

 def currSuiteInfo = new testInfo(); 
 def currTestInfo = new testInfo();

 
 if( model.size > 0 ) {

	firstLine = model.getElementAt(0);
	lastLine = model.getElementAt(model.size-1);
 	
    for( c in 0..(model.size-1) ){         
    		String strResultCheck = "";
    		String line = model.getElementAt( c );
          logFile.append(line);
		logFile.append("\n");


		strResultCheck = "===== Start TestSuite =====> ";
		if(line.contains(strResultCheck)) {
			String name = line.substring(line.indexOf(strResultCheck) + strResultCheck.length());
			currSuiteInfo.name = name;			
		}

		strResultCheck = "===== Start TestCase  =====> ";
		if(line.contains(strResultCheck)) {
			String name = line.substring(line.indexOf(strResultCheck) + strResultCheck.length());
			currTestInfo.name = name;
		}

		strResultCheck = "===== FINISHED TestCase  =====> ";
		if(line.contains(strResultCheck)) {
			String name = line.substring(line.indexOf(strResultCheck) + strResultCheck.length());	
			if(currTestInfo.name == name) {
				currTestInfo.bEnd = true;
				currTestInfo.bPass = true;
				currSuiteInfo.childTests.put(name,currTestInfo);
				currTestInfo = new testInfo();
				
			} else {
				//ERROR
			}					
		}

		strResultCheck = "===== FAILED TestCase  =====> ";
		if(line.contains(strResultCheck)) {
			String name = line.substring(line.indexOf(strResultCheck) + strResultCheck.length());	
			if(currTestInfo.name == name) {
				currTestInfo.bEnd = true;
				currTestInfo.bFail = true;
				currSuiteInfo.childTests.put(name,currTestInfo);
				currTestInfo = new testInfo();
				
			} else {
				//ERROR
			}					
		}

/*		strResultCheck = "===== SUMMARY   TestSuite =====> ";
		if(line.contains(strResultCheck)) {
			String name = line.substring(line.indexOf(strResultCheck) + strResultCheck.length());
			if(currSuiteInfo.name == name) {
				currSuiteInfo.bPass = true;
			} else {
				//ERROR
			}
		}*/

		strResultCheck = "===== FAILED End   TestSuite =====> ";
		if(line.contains(strResultCheck)) {
			String name = line.substring(line.indexOf(strResultCheck) + strResultCheck.length());
			if(currSuiteInfo.name == name) {
				currSuiteInfo.bFail = true;
				currSuiteInfo.bEnd = true;
				tests.put(name,currSuiteInfo);
				currSuiteInfo = new testInfo(); 
			} else {
				//ERROR
			}
		}

		strResultCheck = "===== FINISHED End   TestSuite =====> ";
		if(line.contains(strResultCheck)) {
			String name = line.substring(line.indexOf(strResultCheck) + strResultCheck.length());
			if(currSuiteInfo.name == name) {
				currSuiteInfo.bPass = true;
				currSuiteInfo.bEnd = true;
				tests.put(name,currSuiteInfo);
				currSuiteInfo = new testInfo(); 
			} else {
				//ERROR
			}
		}

    }
 }
}

String startDate = firstLine[0..27];
String endDate = lastLine[0..27];

def target = new ConfigSlurper().parse(new File(groovyUtils.projectPath + "/etc/gbcmdcert_target.conf").toURL())
Map flattened = target.flatten();

def logSummaryFile = new File(projectPath + "/soapUI-Logs-to-fileSummary.xml")
pw = new PrintWriter(logSummaryFile);
pw.close();

logSummaryFile.append("");

logSummaryFile.append('<?xml version="1.0" encoding="UTF-8"?>\n');
logSummaryFile.append('<?xml-stylesheet type="text/xsl" href="GBCmdResultsSummary.xslt"?>\n');
logSummaryFile.append("<testSummary>\n");
logSummaryFile.append('	<testDate startTime="' + startDate + '" endTime="' + endDate + '"/>\n');
logSummaryFile.append("	<testConfiguration>\n");
logSummaryFile.append("		<testConfigurationFile>" + groovyUtils.projectPath + "/etc/gbcmdcert_target.conf" + "</testConfigurationFile>\n");
logSummaryFile.append("		<parameters>\n");

flattened.each {targetEntry ->
	log.info("[$targetEntry.key]=$targetEntry.value");
	logSummaryFile.append('			<parameter name="' + targetEntry.key + '">' + targetEntry.value + '</parameter>\n');
}

logSummaryFile.append("		</parameters>\n");
logSummaryFile.append("	</testConfiguration>\n");
logSummaryFile.append("	<testResults>\n");

tests.each { entrySuite ->
	if(entrySuite.value.bPass) {
		log.info("TestSuite PASS:$entrySuite.key");
		logSummaryFile.append('		<testSuite name="' + entrySuite.key + '" result="PASS">\n');
	}
	if(entrySuite.value.bFail) {
		log.info("TestSuite FAIL:$entrySuite.key");
		logSummaryFile.append('		<testSuite name="' + entrySuite.key + '" result="FAIL">\n');
	}

	entrySuite.value.childTests.each { entryCase -> 
		if(entryCase.value.bPass) {
			log.info("TestCase PASS: $entryCase.key");
			logSummaryFile.append('			<testCase name="' + entryCase.key + '" result="PASS"/>\n');
		}
		if(entryCase.value.bFail) {
			log.info("TestCase FAIL: $entryCase.key");
			logSummaryFile.append('			<testCase name="' + entryCase.key + '" result="FAIL"/>\n');
		}
	}

	logSummaryFile.append('		</testSuite>\n');
}

logSummaryFile.append("	</testResults>\n");
logSummaryFile.append("</testSummary>\n");


logSummaryFile = null;

def xslt= new File(projectPath + "/GBCmdResultsSummary.xslt").getText()

def transformer = TransformerFactory.newInstance().newTransformer(new StreamSource(new StringReader(xslt)))

// Load xml
def xml= new File(projectPath + "/soapUI-Logs-to-fileSummary.xml").getText()

// Set output file
def html = new FileOutputStream(projectPath + "/soapUI-Logs-to-fileSummary.html");
// Perform transformation
transformer.transform(new StreamSource(new StringReader(xml)), new StreamResult(html))


//com.eviware.soapui.SoapUI.logMonitor.getLogArea("script log").clear()

return;]]></script></con:config></con:testStep><con:testStep type="groovy" name="Setup OpenESPI for CMD test" id="50a960e6-4df5-4cfc-899e-25e7ee497e03"><con:settings/><con:config><script>// Load gbcmd.conf configuration file
log.info("Loading gbcmd.conf configuration file!");
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfig']);

// Reset Database
log.info("Resetting Data Custodian and Third Party database files!");
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDBDC']);

// Load customer files
log.info("Loading sample customer files!");
testRunner.testCase.testSuite.project.testSuites['Library'].testCases['UploadTestFile GUI'].run(new com.eviware.soapui.support.types.StringToObjectMap(), false);

// Load gbcmdcert.conf configuration file
log.info("Loading gbcmdcert.conf configuration file!");
result = testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);

// Start genericGetMockServer
log.info("Starting genericGetMockServer!");
def runner = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService").start();

// Load Initial Test Configuration
log.info("Loading Initial Test Configuration!");
FND001Result = testRunner.testCase.testSuite.project.testSuites['[FB_03] Core Green Button Connect My Data'].testCases['FND001 [POS] Initial Test Configuration'].run(new com.eviware.soapui.support.types.StringToObjectMap(), false);

// Stop genericGetMockServer
log.info("Stopping genericGetMockServer!");
testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService").getMockRunner().stop();

log.info("FND001 [POS] Initial Test Configuration result: " + FND001Result.status.toString());
// Verify FND001 [POS] Initial Test Configuration completed successfully
if(FND001Result.status.toString() == "FAILED"){

	log.error("Setup openespi for CMD test failed");
	
} else {

	assert true;
}</script></con:config></con:testStep><con:testStep type="groovy" name="Setup OpenESPI for Regression test" id="5d98a302-739b-4fdf-9d28-1ad5c21d4aa4"><con:settings/><con:config><script>// Load gbcmd.conf configuration file
log.info("Loading gbcmd.conf configuration file!");
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfig']);

// Reset Database
log.info("Resetting Data Custodian and Third Party database files!");
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDBDC']);

// Load customer files
log.info("Loading sample customer files!");
testRunner.testCase.testSuite.project.testSuites['Library'].testCases['UploadTestFile GUI'].run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
assert true;</script></con:config></con:testStep><con:testStep type="groovy" name="GenerateStunnelConf" id="5aa18e02-b2ad-401b-a012-830ea94c4436"><con:settings/><con:config><script>//Below two lines of groovy script is to get the project directory, we will be saving the soapUI log contents on a file in that directory.
def ui = com.eviware.soapui.support.UISupport;

def project = testRunner.testCase.testSuite.project
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context) 
def projectPath = groovyUtils.projectPath 
def authorizationServer = project.getPropertyValue( "authorizationServer" );
def resourceServer = project.getPropertyValue( "resourceServer" );
def mockPort = project.getPropertyValue("mockPort");
def proxyOutPort = project.getPropertyValue("proxyOutPort");
def proxyOutPort1 = project.getPropertyValue("proxyOutPort1");



log.info "Stunnel Directory: " + project.getPropertyValue("stunnelConfigDirectory");
log.info "Stunnel Start Cmd: " + project.getPropertyValue("stunnelStartCmd");
log.info "Stunnel Stop Cmd: " + project.getPropertyValue("stunnelStopCmd");


if (System.properties['os.name'].toLowerCase().contains('windows')) {
	crlf = crlf;
} else {
	crlf = "\n";
}


/*
tc.setPropertyValue("path",project.getPropertyValue("stunnelConfigDirectory"));
tc.setPropertyValue("timeout","0");
tc.setPropertyValue("cmd",project.getPropertyValue("stunnelStopCmd"));
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");
log.info strResult;
*/

def confFile = new File(project.getPropertyValue("stunnelConfigDirectory") + "/stunnel.conf");
confFile.write("");

//This is the first line in the soapUI log file.
confFile.append "; **************************************************************************" + crlf;
confFile.append "; * Service defaults may also be specified in individual service sections  *" + crlf;
confFile.append "; **************************************************************************" + crlf;
confFile.append "CApath = " + new File(project.getPropertyValue("CApathDirectory")) + crlf;
confFile.append "" + crlf;

confFile.append "; **************************************************************************" + crlf;
confFile.append "; * Logging                                                                *" + crlf;
confFile.append "; **************************************************************************" + crlf;
confFile.append "" + crlf;
confFile.append "debug = 7" + crlf;
confFile.append "output = " + new File(projectPath,"stunnel.log") + crlf;
confFile.append "" + crlf;
confFile.append "" + crlf;

confFile.append "; **************************************************************************" + crlf;
confFile.append "; * Service definitions (at least one service has to be defined)           *" + crlf;
confFile.append "; **************************************************************************" + crlf;
confFile.append "" + crlf;
confFile.append "" + crlf;

// Implement resource server
confFile.append "; **************************************************************************" + crlf;
confFile.append "; * Resource Server                                                        *" + crlf;
confFile.append "; **************************************************************************" + crlf;
confFile.append "[resourceServer]" + crlf;
confFile.append "accept="+proxyOutPort + crlf;

confFile.append "connect=" + resourceServer + crlf;

confFile.append "ciphers=AES128-SHA" + crlf;
confFile.append "client = yes" + crlf;
confFile.append "cert=" + project.getPropertyValue("stunnelConfigDirectory") + "/stunnel.pem" + crlf;
confFile.append "verify=0" + crlf;
confFile.append "" + crlf;

if(authorizationServer!=resourceServer)
{
	// Implement authorization server
	confFile.append "; **************************************************************************" + crlf;
	confFile.append "; * Authorization Server                                                   *" + crlf;
	confFile.append "; **************************************************************************" + crlf;
	confFile.append "[authorizationServer]" + crlf;
	confFile.append "accept="+proxyOutPort1 + crlf;
	
	confFile.append "connect=" + authorizationServer + crlf;
	
	confFile.append "ciphers=AES128-SHA" + crlf;
	confFile.append "client = yes" + crlf;
	confFile.append "cert=" + project.getPropertyValue("stunnelConfigDirectory") + "/stunnel.pem" + crlf;
	confFile.append "verify=0" + crlf;
	confFile.append "" + crlf;
}


// Implement server
confFile.append "[tpserver]" + crlf;

// identify target
confFile.append "accept="+ project.getPropertyValue("stunnelReceiveAddress") + crlf;
confFile.append "connect=localhost:" + mockPort + crlf;
confFile.append "cert=" + project.getPropertyValue("stunnelConfigDirectory") + "/stunnel.pem" + crlf;
confFile.append "verify=0" + crlf;
confFile.append "client=no" + crlf;
confFile.append "ciphers=AES128-SHA" + crlf;

//confFile.close();

// Ask testee to verify (manual procedure)
result = ui.getDialogs().showInfoMessage("Stop and restart Stunnel or otherwise reload \n Stunnel configuration and then click OK ", "\n");
log.info (result);

/*
// reload new configuration
tc.setPropertyValue("path",project.getPropertyValue("stunnelConfigDirectory"));
tc.setPropertyValue("timeout","5");
tc.setPropertyValue("cmd",project.getPropertyValue("stunnelStartCmd"));
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");
log.info strResult;
*/</script></con:config></con:testStep><con:properties>
		<con:property>
			<con:name>uploadFile</con:name>
			<con:value>test_usage_data.xml</con:value>
		</con:property>
		<con:property>
			<con:name>retailCustomerId</con:name>
			<con:value>1</con:value>
		</con:property>
	</con:properties>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Reuse Groovy Selenium Steps" searchProperties="true" id="a24652db-d303-4275-818c-f0c7c5378493">
	<con:description>Copy these steps to construct a sequence using selenium session across test steps

		Always use sequence:
		StartDriver
		... your steps
		StopDriver

		This can only be run as a test case and not as individual steps</con:description>
	<con:settings/>
	<con:testStep type="groovy" name="StartDriver" id="bef235ef-555c-424e-8763-1b16699c8cf0">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				import org.greenbutton.cmd.utils.DriverHelper;

				/////////////////////////////////////////////////////////
				// get variables from the project Custom Properties
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")


				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);
				driver._bLogActions = true;

				if( context["driver"] == null )
				context["driver"] = driver

				return
				//Then in later steps you can retrieve it as context["driverInstance"] 
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="LoginManager" id="835106b3-eb81-4064-bf8b-ffda3919247f">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")

				log.info( TestManager + "  " + TestManagerPW)
				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try {
				/////////////////////////////////////////////////////////
				// Open the DataCustodian Page
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)


				/////////////////////////////////////////////////////////
				// Log in as Manager
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear()
				driver.findElement(By.name("j_username")).sendKeys(TestManager)
				driver.findElement(By.name("j_password")).clear()
				driver.findElement(By.name("j_password")).sendKeys(TestManagerPW)
				driver.findElement(By.name("submit")).click()

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="UploadFileViaGui" id="71e77312-72cd-4a23-9bac-7b65701e138c">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def tf= new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"));
				def TestFile = tf.getAbsolutePath();
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")


				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{

				/////////////////////////////////////////////////////////
				// Open the DataCustodian Page
				/////////////////////////////////////////////////////////


				/////////////////////////////////////////////////////////
				// Now to the upload
				/////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Upload")).click();
				driver.findElement(By.name("file")).sendKeys(TestFile);
				driver.findElement(By.name("upload")).click();
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();
				driver.findElement(By.partialLinkText("Add Usage")).click();
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys("48C2A019-5598-4E16-B0F9-49E4FF27F5FB");
				driver.findElement(By.name("create")).click();

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="LogoutManager" id="cc86656c-aa44-4aa7-8ff1-72d7e4672e81">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")

				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{
				/////////////////////////////////////////////////////////
				// Logout Manager
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)
				driver.findElement(By.id("logout")).click();
				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="StopDriver" id="2509d69d-c4e9-4dc0-a49a-960d836993e2">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;



				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try {
				//Close the browser
				driver.quit()

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="AuthorizeStartDataCustodian" id="5aa4d5a1-cf31-4dff-97b4-101a954192dd">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				//	WebDriverTestStepTemplate
				//
				// This template allows for interactions with a web browser
				// based on the previous initialization of a webdriver 
				// stored in the context of the test.
				//
				// Previous to this step, include a copy of the StartDriver
				// script. You can then use the driver in this test step or
				// others like it.

				// Also note that steps created this way can only be run as 
				// part of the complete test and not as inidividual steps
				// run in isolation
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=project.getPropertyValue("TestFile")
				log.info("We are talking to: " + ServiceEndpoint) 
				log.info("Test File Path: "+ TestFile)

				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{
				/////////////////////////////////////////////////////////
				// run test step details
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)

				///////////////////////////////////////////////////////// 
				// Log in as Manager
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear()
				driver.findElement(By.name("j_username")).sendKeys(TestManager)
				driver.findElement(By.name("j_password")).clear()
				driver.findElement(By.name("j_password")).sendKeys(TestManagerPW)
				driver.findElement(By.name("submit")).click()
				driver.findElement(By.linkText("OAuth Token Management")).click();
				driver.findElement(By.linkText("Delete All OAuth Tokens")).click();
				driver.findElement(By.id("logout")).click();
				///////////////////////////////////////////////////////// 
				// Log in as Alan and do the OAuth thing
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.linkText("Third Parties")).click();
				driver.findElement(By.name("Third_party")).click();
				driver.findElement(By.cssSelector("label")).click();
				driver.findElement(By.name("next")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.name("scope")).click();
				driver.findElement(By.name("next")).click();
				driver.findElement(By.name("scope.FB=4_5_15;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click(); sleep(1000)
				driver.findElement(By.linkText("Usage Points")).click();
				driver.findElement(By.linkText("Front Electric Meter")).click();
				sleep(5000)	

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="WebDriverTestStepTemplate" id="d5c71853-2d73-4fad-aca4-e246570d9fbc">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				//	WebDriverTestStepTemplate
				//
				// This template allows for interactions with a web browser
				// based on the previous initialization of a webdriver 
				// stored in the context of the test.
				//
				// Previous to this step, include a copy of the StartDriver
				// script. You can then use the driver in this test step or
				// others like it.

				// Also note that steps created this way can only be run as 
				// part of the complete test and not as inidividual steps
				// run in isolation
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath


				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{
				/////////////////////////////////////////////////////////
				// run test step details
				/////////////////////////////////////////////////////////


				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Set Access Tokens" id="c0d77564-a5e7-44cd-b22d-533eb8c5ce8d">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;
				import com.eviware.soapui.support.types.StringToStringMap;


				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"];

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL");
				def ServiceEndpoint=BaseURL+"/ThirdParty/home";
				List&lt;WebElement> rows;
			def teststep;

			log.info("Service Endpoint: " + ServiceEndpoint);

			try {
			/////////////////////////////////////////////////////////
			// run test step details
			/////////////////////////////////////////////////////////
			// open Data Custodian
			driver.get(ServiceEndpoint)

			driver.findElement(By.id("login")).click();
			driver.findElement(By.name("j_username")).clear();
			driver.findElement(By.name("j_username")).sendKeys("alan");
			driver.findElement(By.name("j_password")).clear();
			driver.findElement(By.name("j_password")).sendKeys("koala");
			driver.findElement(By.name("submit")).click();
			driver.findElement(By.linkText("Authorizations")).click();
			rows = driver.FindElementsByXpath("//td[@class='access_token']");
			String accessToken1 = rows.get(rows.size() - 1).getText();
			log.info("accessToken1:" +  accessToken1);
			project.setPropertyValue("userAccessToken1",accessToken1);
			driver.findElement(By.id("logout")).click();

			// set message parameters
			teststep = testRunner.testCase.getTestStepByName("GET Subscription 1");
			teststep.setPropertyValue("Authorization","Bearer "+ accessToken1);
			teststep.setPropertyValue("subscriptionId","1");


			driver.findElement(By.id("login")).click();
			driver.findElement(By.name("j_username")).clear();
			driver.findElement(By.name("j_username")).sendKeys("charles");
			driver.findElement(By.name("j_password")).clear();
			driver.findElement(By.name("j_password")).sendKeys("koala");
			driver.findElement(By.name("submit")).click();
			driver.findElement(By.linkText("Authorizations")).click();
			rows = driver.FindElementsByXpath("//td[@class='access_token']");
			String accessToken2 = rows.get(rows.size() - 1).getText();
			log.info("accessToken2:" +  accessToken2);
			project.setPropertyValue("userAccessToken2",accessToken2);
			driver.findElement(By.id("logout")).click();

			// set message parameters
			teststep = testRunner.testCase.getTestStepByName("GET Subscription 2");
			teststep.setPropertyValue("Authorization","Bearer "+ accessToken2);
			teststep.setPropertyValue("subscriptionId","2");


			} catch(Exception e) {
			testRunner.fail(driver.getErrorString())
			driver.quit();
			}
		</script>
	</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="UploadTestFile GUI" searchProperties="true" id="8fb96c20-d08c-40ea-8ab1-3e14f41d3f50">
	<con:description>Uploads test usage file</con:description>
	<con:settings/>
	<con:testStep type="groovy" name="StartDriver" id="56eef8b8-6131-45af-ae06-8bc2b68d8cec">
		<con:settings/>
		<con:config><script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				import org.greenbutton.cmd.utils.DriverHelper;

				/////////////////////////////////////////////////////////
				// get variables from the project Custom Properties
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")


				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);
				driver._bLogActions = true;

				if( context["driver"] == null )
				context["driver"] = driver

				return
				//Then in later steps you can retrieve it as context["driverInstance"] 
			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="LoginManager" id="e7da1200-5c19-4da2-8d6b-2bed7b871c6e">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")

				log.info( TestManager + "  " + TestManagerPW)
				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try {
				/////////////////////////////////////////////////////////
				// Open the DataCustodian Page
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)


				/////////////////////////////////////////////////////////
				// Log in as Manager
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear()
				driver.findElement(By.name("j_username")).sendKeys(TestManager)
				driver.findElement(By.name("j_password")).clear()
				driver.findElement(By.name("j_password")).sendKeys(TestManagerPW)
				driver.findElement(By.name("submit")).click()

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="UploadFileViaGui" id="6bdde26b-d0bd-4335-9eb7-d792c3e338b4">
		<con:settings/>
		<con:config><script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def tf= new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"));
				def TestFile = tf.getAbsolutePath();
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				log.info "Test File: " + TestFile;
				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{

					/////////////////////////////////////////////////////////
					// Open the DataCustodian Page
					/////////////////////////////////////////////////////////


					/////////////////////////////////////////////////////////
					// Now to the upload
					/////////////////////////////////////////////////////////
					driver.findElement(By.linkText("Upload")).click();
					driver.findElement(By.name("file")).sendKeys(TestFile);
					driver.findElement(By.name("upload")).click();
					driver.findElement(By.linkText("Customer List")).click();
					driver.findElement(By.linkText(TestRetailCustomer)).click();
					driver.findElement(By.partialLinkText("Add Usage")).click();
					driver.findElement(By.id("UUID")).clear();
					driver.findElement(By.id("UUID")).sendKeys("48C2A019-5598-4E16-B0F9-49E4FF27F5FB");
					driver.findElement(By.name("create")).click();

				} catch(Exception e) {
					
					log.info("UploadFileViaGUI Exception: " + driver.getErrorString());
					testRunner.fail(driver.getErrorString())
					driver.quit();
				}</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="LogoutManager" id="ab68be2b-b63d-4b94-86df-4dc02ce67ee8">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")

				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{
				/////////////////////////////////////////////////////////
				// Logout Manager
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)
				driver.findElement(By.id("logout")).click();
				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="StopDriver" id="9b73f45e-1b45-4e8f-ac1c-5fa8afcf1389">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;



				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try {
				//Close the browser
				driver.quit()

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}
			</script>
		</con:config>
	</con:testStep>
	<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="UploadTestFileAndAuthorize" searchProperties="true" id="ee58b28d-b2b2-4c95-89aa-91bbae71bdac">
	<con:description>Uploads test usage file and authorizes it</con:description>
	<con:settings/>
	<con:testStep type="groovy" name="resetDB" id="5eb74848-759c-4a82-a14e-6fb12f2ad02d">
		<con:settings/>
		<con:config>
			<script>	// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);

				assert true;</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="StartDriver" id="81cf2761-f96b-4684-bad1-25fb42d74eb2">
		<con:settings/>
		<con:config><script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				import org.greenbutton.cmd.utils.DriverHelper;

				/////////////////////////////////////////////////////////
				// get variables from the project Custom Properties
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")


				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);
				driver._bLogActions = true;

				if( context["driver"] == null )
				context["driver"] = driver
				//driver._iSleepBetweenStepsMs = 500;

				return
				//Then in later steps you can retrieve it as context["driverInstance"] 
			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="LoginManager" id="59981e5f-1521-4338-b8e5-43b2a0e31cdc">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")

				log.info( TestManager + "  " + TestManagerPW)
				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try {
				/////////////////////////////////////////////////////////
				// Open the DataCustodian Page
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)


				/////////////////////////////////////////////////////////
				// Log in as Manager
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear()
				driver.findElement(By.name("j_username")).sendKeys(TestManager)
				driver.findElement(By.name("j_password")).clear()
				driver.findElement(By.name("j_password")).sendKeys(TestManagerPW)
				driver.findElement(By.name("submit")).click()

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="UploadFileViaGui" id="f1134872-7973-466c-a169-ecf761f0515b">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def tf= new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"));
				def TestFile = tf.getAbsolutePath();
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")


				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{

				/////////////////////////////////////////////////////////
				// Open the DataCustodian Page
				/////////////////////////////////////////////////////////


				/////////////////////////////////////////////////////////
				// Now to the upload
				/////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Upload")).click();
				driver.findElement(By.name("file")).sendKeys(TestFile);
				driver.findElement(By.name("upload")).click();
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();
				driver.findElement(By.partialLinkText("Add Usage")).click();
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys("48C2A019-5598-4E16-B0F9-49E4FF27F5FB");
				driver.findElement(By.name("create")).click();

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="LogoutManager" id="e4d62b39-aeb3-4486-b61b-289b545e3b6d">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")

				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{
				/////////////////////////////////////////////////////////
				// Logout Manager
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)
				driver.findElement(By.id("logout")).click();
				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="AuthorizeStartDataCustodian" id="7e4a27b1-f835-4fb0-8bf9-bba781741dd8">
		<con:settings/>
		<con:config><script>/////////////////////////////////////////////////////////
				//	WebDriverTestStepTemplate
				//
				// This template allows for interactions with a web browser
				// based on the previous initialization of a webdriver 
				// stored in the context of the test.
				//
				// Previous to this step, include a copy of the StartDriver
				// script. You can then use the driver in this test step or
				// others like it.

				// Also note that steps created this way can only be run as 
				// part of the complete test and not as inidividual steps
				// run in isolation
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=project.getPropertyValue("TestFile")
				log.info("We are talking to: " + ServiceEndpoint) 
				log.info("Test File Path: "+ TestFile)

				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{
				/////////////////////////////////////////////////////////
				// run test step details
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)

				///////////////////////////////////////////////////////// 
				// Log in as Manager
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear()
				driver.findElement(By.name("j_username")).sendKeys(TestManager)
				driver.findElement(By.name("j_password")).clear()
				driver.findElement(By.name("j_password")).sendKeys(TestManagerPW)
				driver.findElement(By.name("submit")).click()
				driver.findElement(By.linkText("OAuth Token Management")).click();
				driver.findElement(By.linkText("Delete All OAuth Tokens")).click();
				driver.findElement(By.id("logout")).click();
				///////////////////////////////////////////////////////// 
				// Log in as Alan and do the OAuth thing
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.linkText("Third Parties")).click();
				driver.findElement(By.name("Third_party")).click();
				driver.findElement(By.cssSelector("label")).click();
				driver.findElement(By.name("next")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.name("scope")).click();
				driver.findElement(By.name("next")).click();
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click(); sleep(1000)
				driver.findElement(By.linkText("Usage Points")).click();
				driver.findElement(By.linkText("Front Electric Meter")).click();
				sleep(2000)	
				driver.findElement(By.id("logout")).click();

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="StopDriver" id="2a30cbce-dd35-4846-996f-761daf430e84">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;



				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try {
				//Close the browser
				driver.quit()

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}
			</script>
		</con:config>
	</con:testStep>
	<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="EstablishTwoSubscriptions" searchProperties="true" id="842a41c8-96fb-4b15-bab5-c26d1f3f0dba">
	<con:settings/>
	<con:testStep type="groovy" name="resetDB" id="55d33794-80f3-4a40-bb8e-721b359f1a99">
		<con:settings/>
		<con:config>
			<script>	// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);

				assert true;</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="StartDriver" id="4e0e2ad8-b914-4cd1-b773-40914166a5ad">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver
				import org.greenbutton.cmd.utils.DriverHelper;

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// get variables from the project Custom Properties
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")


				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);
				driver._bLogActions = true;

				if( context["driver"] == null )
				context["driver"] = driver

				return
				//Then in later steps you can retrieve it as context["driverInstance"] 
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="LoginManager" id="1ee801b5-fa00-405a-b3fc-f1e89b27d7f5">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")

				log.info( TestManager + "  " + TestManagerPW)
				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{
				/////////////////////////////////////////////////////////
				// Open the DataCustodian Page
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)


				/////////////////////////////////////////////////////////
				// Log in as Manager
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear()
				driver.findElement(By.name("j_username")).sendKeys(TestManager)
				driver.findElement(By.name("j_password")).clear()
				driver.findElement(By.name("j_password")).sendKeys(TestManagerPW)
				driver.findElement(By.name("submit")).click()

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="UploadTwoFilesViaGui" id="ab389e66-3ccd-4954-8222-bf8d1282f77f">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def tf= new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"));
				def TestFile = tf.getAbsolutePath();
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")


				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]
				try {
				/////////////////////////////////////////////////////////
				// Open the DataCustodian Page
				/////////////////////////////////////////////////////////


				/////////////////////////////////////////////////////////
				// Now to the upload
				/////////////////////////////////////////////////////////
				// Alan id=1
				driver.findElement(By.linkText("Upload")).click();
				driver.findElement(By.name("file")).sendKeys(TestFile);
				driver.findElement(By.name("upload")).click();
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();
				driver.findElement(By.partialLinkText("Add Usage")).click();
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys("48C2A019-5598-4E16-B0F9-49E4FF27F5FB");
				driver.findElement(By.name("create")).click();

				// Charles id=5
				def tf1= new File(projectPath + "/../data/" + "Gas.xml");
				TestFile = tf1.getAbsolutePath();

				driver.findElement(By.linkText("Upload")).click();
				driver.findElement(By.name("file")).sendKeys(TestFile);
				driver.findElement(By.name("upload")).click();
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText("charles")).click();
				driver.findElement(By.partialLinkText("Add Usage")).click();
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys("0642EABA-8E42-4D1A-A375-AF54993C007B");
				driver.findElement(By.name("create")).click();

				driver.findElement(By.id("logout")).click();

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="AuthorizeTwoCustomer" id="add5f47c-d759-4b62-aedf-ea53295a4989">
		<con:settings/>
		<con:config><script>/////////////////////////////////////////////////////////
				//	WebDriverTestStepTemplate
				//
				// This template allows for interactions with a web browser
				// based on the previous initialization of a webdriver 
				// stored in the context of the test.
				//
				// Previous to this step, include a copy of the StartDriver
				// script. You can then use the driver in this test step or
				// others like it.

				// Also note that steps created this way can only be run as 
				// part of the complete test and not as inidividual steps
				// run in isolation
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;
				import com.eviware.soapui.support.types.StringToStringMap;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian/home"

				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try {
				/////////////////////////////////////////////////////////
				// run test step details
				/////////////////////////////////////////////////////////
				// open Data Custodian
				driver.get(ServiceEndpoint)


				///////////////////////////////////////////////////////// 
				// Log in as Alan and do the OAuth thing
				/////////////////////////////////////////////////////////

				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys("alan");
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys("koala");
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.linkText("Third Parties")).click();
				driver.findElement(By.name("Third_party")).click();
				driver.findElement(By.cssSelector("label")).click();
				driver.findElement(By.name("next")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys("alan");
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys("koala");
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.name("scope")).click();
				driver.findElement(By.name("next")).click();
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click(); 
				sleep(1000);
				List&lt;WebElement> rows = driver.FindElementsByXpath("//td[@class='access_token']");
			String accessToken1 = rows.get(rows.size() - 1).getText();
			log.info("accessToken1:" +  accessToken1);

			def headers = new StringToStringMap();
			headers.put("Authorization","Bearer " + accessToken1);

			//	testRunner.testCase.getTestStepByName("GET Subscription 1").testRequest.setRequestHeaders(headers);
			//	testRunner.testCase.getTestStepByName("GET Subscription 2").testRequest.setRequestHeaders(headers);

			project.setPropertyValue("subscriptionID","1");
			driver.findElement(By.id("logout")).click();
			ServiceEndpoint=BaseURL+"/DataCustodian/home"
			driver.get(ServiceEndpoint)
			driver.findElement(By.id("logout")).click();
			driver.findElement(By.id("login")).click();
			driver.findElement(By.name("j_username")).clear();
			driver.findElement(By.name("j_username")).sendKeys("charles");
			driver.findElement(By.name("j_password")).clear();
			driver.findElement(By.name("j_password")).sendKeys("koala");
			driver.findElement(By.name("submit")).click();
			driver.findElement(By.linkText("Third Parties")).click();
			driver.findElement(By.name("Third_party")).click();
			driver.findElement(By.cssSelector("label")).click();
			driver.findElement(By.name("next")).click();
			driver.findElement(By.name("j_username")).clear();
			driver.findElement(By.name("j_username")).sendKeys("charles");
			driver.findElement(By.name("j_password")).clear();
			driver.findElement(By.name("j_password")).sendKeys("koala");
			driver.findElement(By.name("submit")).click();
			driver.findElement(By.name("scope")).click();
			driver.findElement(By.name("next")).click();
			driver.findElement(By.name("scope.FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();
			driver.findElement(By.name("authorize")).click(); sleep(1000)
			driver.findElement(By.id("logout")).click();


			//ServiceEndpoint=BaseURL+"/DataCustodian/home"
			//driver.get(ServiceEndpoint)
			//driver.findElement(By.id("logout")).click();
			} catch(Exception e) {
			testRunner.fail(driver.getErrorString())
			driver.quit();
			}</script></con:config>
</con:testStep>
<con:testStep type="groovy" name="Set Access Tokens" id="67c786c8-0108-4665-b3e7-03b828d963fe">
	<con:settings/>
	<con:config>
		<script>/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////
			import org.openqa.selenium.By
			import org.openqa.selenium.Keys;
			import org.openqa.selenium.WebDriver
			import org.openqa.selenium.WebElement
			import org.openqa.selenium.firefox.FirefoxDriver

			import java.util.concurrent.TimeUnit;
			import java.util.regex.Pattern;
			import java.util.concurrent.TimeUnit;
			import org.junit.*;
			import static org.junit.Assert.*;
			import static org.hamcrest.CoreMatchers.*;
			import com.eviware.soapui.support.types.StringToStringMap;


			/////////////////////////////////////////////////////////
			// fetch driver from context
			/////////////////////////////////////////////////////////
			Object driver = context["driver"];

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def BaseURL = project.getPropertyValue("BaseURL");
			def ServiceEndpoint=BaseURL+"/ThirdParty/home";
			List&lt;WebElement> rows;
		def teststep;

		log.info("Service Endpoint: " + ServiceEndpoint);

		try {
		/////////////////////////////////////////////////////////
		// run test step details
		/////////////////////////////////////////////////////////
		// open Data Custodian
		driver.get(ServiceEndpoint)

		driver.findElement(By.id("login")).click();
		driver.findElement(By.name("j_username")).clear();
		driver.findElement(By.name("j_username")).sendKeys("alan");
		driver.findElement(By.name("j_password")).clear();
		driver.findElement(By.name("j_password")).sendKeys("koala");
		driver.findElement(By.name("submit")).click();
		driver.findElement(By.linkText("Authorizations")).click();
		rows = driver.FindElementsByXpath("//td[@class='access_token']");
		String accessToken1 = rows.get(rows.size() - 1).getText();
		log.info("accessToken1:" +  accessToken1);
		project.setPropertyValue("userAccessToken1",accessToken1);
		driver.findElement(By.id("logout")).click();

		driver.findElement(By.id("login")).click();
		driver.findElement(By.name("j_username")).clear();
		driver.findElement(By.name("j_username")).sendKeys("charles");
		driver.findElement(By.name("j_password")).clear();
		driver.findElement(By.name("j_password")).sendKeys("koala");
		driver.findElement(By.name("submit")).click();
		driver.findElement(By.linkText("Authorizations")).click();
		rows = driver.FindElementsByXpath("//td[@class='access_token']");
		String accessToken2 = rows.get(rows.size() - 1).getText();
		log.info("accessToken2:" +  accessToken2);
		project.setPropertyValue("userAccessToken2",accessToken2);
		driver.findElement(By.id("logout")).click();

		} catch(Exception e) {
		testRunner.fail(driver.getErrorString())
		driver.quit();
		}
	</script>
</con:config>
</con:testStep>
<con:testStep type="groovy" name="LogoutManager" id="7f187f84-ae08-482b-a645-747bf5c11ee9">
	<con:settings/>
	<con:config>
		<script>/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////
			import org.openqa.selenium.By
			import org.openqa.selenium.Keys;
			import org.openqa.selenium.WebDriver
			import org.openqa.selenium.WebElement
			import org.openqa.selenium.firefox.FirefoxDriver

			import java.util.concurrent.TimeUnit;
			import java.util.regex.Pattern;
			import java.util.concurrent.TimeUnit;
			import org.junit.*;
			import static org.junit.Assert.*;
			import static org.hamcrest.CoreMatchers.*;

			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def BaseURL = project.getPropertyValue("BaseURL")
			def ServiceEndpoint=BaseURL+"/DataCustodian"
			def TestManager=project.getPropertyValue("TestManager")
			def TestManagerPW=project.getPropertyValue("TestManagerPW")

			/////////////////////////////////////////////////////////
			// fetch driver from context
			/////////////////////////////////////////////////////////
			Object driver = context["driver"]
			try {
			/////////////////////////////////////////////////////////
			// Logout Manager
			/////////////////////////////////////////////////////////
			driver.get(ServiceEndpoint)
			driver.findElement(By.id("logout")).click();

			} catch(Exception e) {
			testRunner.fail(driver.getErrorString())
			driver.quit();
			}</script>
	</con:config>
</con:testStep>
<con:testStep type="groovy" name="StopDriver" id="e938faaf-6f51-4831-bed8-257b1466f5a2">
	<con:settings/>
	<con:config>
		<script>/////////////////////////////////////////////////////////
			// Note: Generated by capture using Selenium in FF. 
			// Export to Java / JUnit 4 / WebDriver
			// Copy and paste into Groovy Script with minor tweaks
			/////////////////////////////////////////////////////////

			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////
			import org.openqa.selenium.By
			import org.openqa.selenium.Keys;
			import org.openqa.selenium.WebDriver
			import org.openqa.selenium.WebElement
			import org.openqa.selenium.firefox.FirefoxDriver

			import java.util.concurrent.TimeUnit;
			import java.util.regex.Pattern;
			import java.util.concurrent.TimeUnit;
			import org.junit.*;
			import static org.junit.Assert.*;
			import static org.hamcrest.CoreMatchers.*;



			/////////////////////////////////////////////////////////
			// Create a new instance of the Firefox driver
			/////////////////////////////////////////////////////////
			Object driver = context["driver"]

			//Close the browser
			driver.quit();

			//Then in later steps you can retrieve it as context["driverInstance"] 
		</script>
	</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AuthorizeSubcscription" searchProperties="true" id="4c20478c-a431-4761-bd93-3e878a74bbad">
	<con:description>Authorizes subscription for Alan</con:description>
	<con:settings/>
	<con:testStep type="groovy" name="StartDriver" id="dfb4e415-2520-401a-90ab-dd68991e5c22">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				import org.greenbutton.cmd.utils.DriverHelper;

				/////////////////////////////////////////////////////////
				// get variables from the project Custom Properties
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")


				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

				driver._bLogActions = true;

				if( context["driver"] == null )
				context["driver"] = driver

				return
				//Then in later steps you can retrieve it as context["driverInstance"] 
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="AuthorizeStartDataCustodian" id="ab05ca0e-8b19-467e-9474-ac5daac4bcf6">
		<con:settings/>
		<con:config><script>/////////////////////////////////////////////////////////
				//	WebDriverTestStepTemplate
				//
				// This template allows for interactions with a web browser
				// based on the previous initialization of a webdriver 
				// stored in the context of the test.
				//
				// Previous to this step, include a copy of the StartDriver
				// script. You can then use the driver in this test step or
				// others like it.

				// Also note that steps created this way can only be run as 
				// part of the complete test and not as inidividual steps
				// run in isolation
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////
				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def ServiceEndpoint=BaseURL+"/DataCustodian"
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=project.getPropertyValue("TestFile")
				log.info("We are talking to: " + ServiceEndpoint) 
				log.info("Test File Path: "+ TestFile)

				/////////////////////////////////////////////////////////
				// fetch driver from context
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try{
				/////////////////////////////////////////////////////////
				// run test step details
				/////////////////////////////////////////////////////////
				driver.get(ServiceEndpoint)

				/* Dont clear tokens
				///////////////////////////////////////////////////////// 
				// Log in as Manager
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear()
				driver.findElement(By.name("j_username")).sendKeys(TestManager)
				driver.findElement(By.name("j_password")).clear()
				driver.findElement(By.name("j_password")).sendKeys(TestManagerPW)
				driver.findElement(By.name("submit")).click()
				driver.findElement(By.linkText("OAuth Token Management")).click();
				driver.findElement(By.linkText("Delete All OAuth Tokens")).click();
				driver.findElement(By.id("logout")).click();*/
				///////////////////////////////////////////////////////// 
				// Log in as Alan and do the OAuth thing
				/////////////////////////////////////////////////////////
				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.linkText("Third Parties")).click();
				driver.findElement(By.name("Third_party")).click();
				driver.findElement(By.cssSelector("label")).click();
				driver.findElement(By.name("next")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.name("scope")).click();
				driver.findElement(By.name("next")).click();
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click(); 
				//sleep(1000)
				//driver.findElement(By.linkText("Usage Points")).click();
				driver.findElement(By.id("logout")).click();

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="StopDriver" id="6847afaf-b9b9-4893-94be-3ecbf18725c6">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;



				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				try {
				//Close the browser
				driver.quit()

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}
			</script>
		</con:config>
	</con:testStep>
	<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ResourceTestScripts" searchProperties="true" id="3790fa3a-d527-4967-914f-127f7bb087c5">
	<con:settings/>
	<con:testStep type="groovy" name="resourceTests" id="3fda0502-2b45-4ddd-b460-f0e597be40d6">
		<con:settings/>
		<con:config><script><![CDATA[import org.xml.sax.SAXException;
import org.w3c.dom.*;
import javax.xml.parsers.*;
import javax.xml.xpath.*;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import javax.xml.namespace.NamespaceContext;

import groovyx.net.http.HTTPBuilder
import groovyx.net.http.HttpResponseException;
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT
import groovyx.net.http.Method;

import org.xml.sax.InputSource;

import java.io.File;
import java.io.FilenameFilter;

import org.apache.commons.io.FileUtils;


public class SimpleNamespaceContext implements NamespaceContext {

    private final Map<String, String> PREF_MAP = new HashMap<String, String>();

    public SimpleNamespaceContext(final Map<String, String> prefMap) {
        PREF_MAP.putAll(prefMap);       
    }

    public String getNamespaceURI(String prefix) {
        return PREF_MAP.get(prefix);
    }

    public String getPrefix(String uri) {
        throw new UnsupportedOperationException();
    }

    public Iterator getPrefixes(String uri) {
        throw new UnsupportedOperationException();
    }

}


public class ResourceTester {

	Object log;
	public String _strError = "";
	Document _docResponse = null;
	String _strResponseBody = null;

	String default_access_token;

	ResourceTester(Object theLog)
	{
		log = theLog;
	}

	public setAccessToken(String token)
	{
		default_access_token = token;
	//*********************************************************
	log.info("Default Access Token Service = " + default_access_token);
	//*********************************************************
	
		
	}

	public String parseSelfLink(Document srcDoc)
	{
		XPath xpath = XPathFactory.newInstance().newXPath();
		
		// add namespaces
		HashMap<String, String> prefMap = new HashMap<String, String>() {{
		    put("espi", "http://naesb.org/espi");
		    put("ns3", "http://www.w3.org/2005/Atom");
		}};
		
		SimpleNamespaceContext namespaces = new SimpleNamespaceContext(prefMap);
		
		xpath.setNamespaceContext(namespaces);
		
		// find resource self link
		String strExpr = "/ns3:entry/ns3:link[@rel='self']/@href";
		XPathExpression expr = xpath.compile(strExpr);
		String href = expr.evaluate(srcDoc);
	
		return href; 
	}
	
	
	public String parseEntryName(Document srcDoc)
	{
		String strEntryName;
		
		//find tag name of espi content
		Element feed = srcDoc.getDocumentElement();
		NodeList nlContent = feed.getElementsByTagName("content");
//		NodeList nlContent = feed.getElementsByTagName("ns3:content");
		NodeList nlContentChildren = nlContent.item(0).getChildNodes();
	
		for(int j = 0 ; j < nlContentChildren.getLength();j++) {
			if(nlContentChildren.item(j).getNodeType()==Node.ELEMENT_NODE)
			{
				Element espi = (Element) nlContentChildren.item(j);
				strEntryName = espi.getNodeName();
			}
		}

		return strEntryName;
	}

	public Document parseDocument(String strInputFile)
	{
		DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();
		domFactory.setNamespaceAware(true); 
		DocumentBuilder builder = domFactory.newDocumentBuilder();
		
		// parse source document "Xpath form
		Document srcDoc = builder.parse(strInputFile);
	
		return srcDoc;
	}


	private Element getDirectChild(Element parent, String name) {
		
	    for(Node child = parent.getFirstChild(); child != null; child = child.getNextSibling())
	    {
	        if(child instanceof Element && name.equals(child.getNodeName())) return (Element) child;
	    }
	    
	    return null;
	}
	
	private String getNodeValue( Node node ) {
		
	    NodeList childNodes = node.getChildNodes();
	    
	    for (int x = 0; x < childNodes.getLength(); x++ ) {
	    	
	        Node data = childNodes.item(x);
	        if ( data.getNodeType() == Node.TEXT_NODE )
	            return data.getNodeValue().trim();
	    }
	    
	    return "";
	}
	
	private boolean CompareLinks(Node nodeSource,Node nodeResult,Object log) {
		
		String strHrefSrc = nodeSource.getAttribute("href");
		String strRelSrc = nodeSource.getAttribute("rel");
	
		//log.info("Compare link: href:" + strHrefSrc + " rel:" + strRelSrc); 
		
		NodeList nlRes = nodeResult.getChildNodes();
	
		for (int i = 0; i < nlRes.getLength(); i++) 
		{	
			if(nlRes.item(i).getNodeType()==Node.ELEMENT_NODE)
			{
				String strResNodeName = nlRes.item(i).getNodeName();
				if(strResNodeName.equals("ns3:link"))
				{
					String strHrefRes = nlRes.item(i).getAttribute("href");
					String strRelRes = nlRes.item(i).getAttribute("rel");		
	
					if((strHrefRes.equals(strHrefSrc)) && (strRelRes.equals(strRelSrc)))
					{
						return false;
					}
				}
			}
		}
	
		log.error("Did not find matching link for href:" + strHrefSrc + " rel:" + strRelSrc);

		_strError = _strError + "Did not find matching link for href:" + strHrefSrc + " rel:" + strRelSrc;
		
		return true;
	}
	
	private boolean CompareNodes(Node nodeSource,Node nodeResult,Object log) {
		
		boolean bFailure = false;
		
		if(nodeSource.getNodeType()==Node.ELEMENT_NODE) {
	
			String strSrcNodeName = nodeSource.getNodeName();	 
			String strResNodeName = nodeResult.getNodeName();	 
	
			//log.info("Comparing nodes: " + strSrcNodeName + " and " + strResNodeName);
	
			if(!strSrcNodeName.equals(strResNodeName)) {
				log.error("Node: " + strSrcNodeName + " names not equal");
				_strError = _strError + "Node: " + strSrcNodeName + " names not equal";
				bFailure = true;
			}
	
			String strSrcNodeValue = getNodeValue(nodeSource);	 
			String strResNodeValue = getNodeValue(nodeResult);
	
			if( (strSrcNodeName.equals("ns3:id")) || (strSrcNodeName.equals("id")))
			{
				strSrcNodeValue = strSrcNodeValue.toUpperCase();
				strResNodeValue = strResNodeValue.toUpperCase();
			}
	
			//log.info("Node: " + strSrcNodeName + "SrcNodeVal: " + strSrcNodeValue + " ResNodeVal: " + strResNodeValue);
	
			//if(!strSrcNodeName.equals("ns3:published") && !strSrcNodeName.equals("ns3:updated")) {	
				if(!strSrcNodeValue.equals(strResNodeValue))
				{
					log.error("Node: " + strSrcNodeName + " values not equal: SrcNodeVal: " + strSrcNodeValue + " ResNodeVal: " + strResNodeValue);	
					_strError = _strError + "Node: " + strSrcNodeName + " values not equal: SrcNodeVal: " + strSrcNodeValue + " ResNodeVal: " + strResNodeValue;
					bFailure = true;
				}
			//}
	
			NodeList nlSrc = nodeSource.getChildNodes();
			NodeList nlRes = nodeResult.getChildNodes();
	
			for (int i = 0; i < nlSrc.getLength(); i++) 
			{
				if(nlSrc.item(i).getNodeType()==Node.ELEMENT_NODE)
				{
					if(strSrcNodeName.equals("espi:IntervalBlock"))
					{
						//log.info("espi:IntervalBlock");
						bFailure = bFailure  | CompareNodes(nlSrc.item(i),nlRes.item(i),log);
					}
					else if(!nlSrc.item(i).getNodeName().equals("ns3:link"))
					{
	
						Element elResultChild = getDirectChild(nodeResult,nlSrc.item(i).getNodeName());
						if(elResultChild==null)
						{
							log.error("Node: " + strSrcNodeName + " Result does not contain Child: " + nlSrc.item(i).getNodeName());
							_strError = _strError + "Node: " + strSrcNodeName + " Result does not contain Child: " + nlSrc.item(i).getNodeName();
							bFailure = true;
							
						}
						else
						{
							bFailure = bFailure  | CompareNodes(nlSrc.item(i),elResultChild,log);
						}
					}
					else
					{
						// treat links specially
						//bFailure = bFailure  | CompareLinks(nlSrc.item(i),nodeResult,log);				
					}
				}
			}
		}
	
		return bFailure;
	}
	
	
	public String ReplaceLinks(String strEntryName,String strOriginal)
	{
		String strReturn;
		
		if(strEntryName.equals("espi:IntervalBlock")) {
		
			strReturn = strOriginal.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}/MeterReading\\/[0-9A-Fa-f]{1,20}","");						
			//strReturn = strOriginal.replaceAll("/IntervalBlock\\/[0-9A-Fa-f]{1,20}","/IntervalBlock/" + _intervalBlockId);
		}
		else if(strEntryName.equals("espi:UsagePoint")) {
			
			strReturn = strOriginal.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}","");
			//strReturn = strOriginal.replaceAll("/UsagePoint\\/[0-9A-Fa-f]{1,20}","/UsagePoint/" + _usagePointId);
		}
		else if(strEntryName.equals("espi:MeterReading")) {
		
			strReturn = strOriginal.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
			//strReturn = strOriginal.replaceAll("/MeterReading\\/[0-9A-Fa-f]{1,20}","/MeterReading/" + _meterReadingId);
		}
		else if(strEntryName.equals("espi:ReadingType")) {
		
			strReturn = strOriginal.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
			//strReturn = strOriginal.replaceAll("/MeterReading\\/[0-9A-Fa-f]{1,20}","/MeterReading/" + _meterReadingId);
		}	
		else if(strEntryName.equals("espi:ElectricPowerUsageSummary")) {
			
			strReturn = strOriginal.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
			//strReturn = strOriginal.replaceAll("/ElectricPowerUsageSummary\\/[0-9A-Fa-f]{1,20}","/ElectricPowerUsageSummary/" + _ElectricPowerUsageSummaryId);
				
		}
		else if(strEntryName.equals("espi:ElectricPowerQualitySummary")) {
			
			strReturn = strOriginal.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
			//strReturn = strOriginal.replaceAll("/ElectricPowerQualitySummary\\/[0-9A-Fa-f]{1,20}","/ElectricPowerQualitySummary/" + _ElectricPowerQualitySummaryId);					
		}
		else if(strEntryName.equals("espi:LocalTimeParameters")) {
			
			strReturn = strOriginal.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
			//strReturn = strOriginal.replaceAll("/LocalTimeParameters\\/[0-9A-Fa-f]{1,20}","/LocalTimeParameters/" + _localTimeParametersId);					
		}	
		else
		{
			
			//strReturn = strOriginal.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}","/RetailCustomer/" + _retailCustomerId);
			//strReturn = strOriginal.replaceAll("/UsagePoint\\/[0-9A-Fa-f]{1,20}","/UsagePoint/" + _usagePointId);
			//strReturn = strOriginal.replaceAll("/MeterReading\\/[0-9A-Fa-f]{1,20}","/MeterReading/" + _meterReadingId);
			//strReturn = strOriginal.replaceAll("/ReadingType\\/[0-9A-Fa-f]{1,20}","/ReadingType/" + _readingTypeId);
			//strReturn = strOriginal.replaceAll("/IntervalBlock\\/[0-9A-Fa-f]{1,20}","/IntervalBlock/" + _intervalBlockId);
			//strReturn = strOriginal.replaceAll("/resource\\/[0-9A-Fa-f]{1,20}","/resource/" + _resourceId);							
		}				
	}
	

	public boolean doDELETE(boolean bShouldPass,String strBaseEndpoint,String href, String token) {
	
		boolean bFailure = false;
		String strResult = "";
			
		try {
			
			def http = new HTTPBuilder(strBaseEndpoint);
	
			def res = http.request(Method.DELETE) { req ->
			    uri.path = href	
			    headers.Authorization = 'Bearer ' + token
			    response.success = { resp, object ->			        
			        strResult = "DELETE succeeded: " + resp.status;
			    }		 
			    response.failure = { resp ->
			       
			        strResult = "DELETE Failed: " + resp.statusLine;
			        bFailure = true;
			    }	    
			}		      		
		} catch ( HttpResponseException ex ) {
		    
		    // default failure handler throws an exception:
		    strResult = "DELETE Unexpected response error: ${ex.statusCode}";
		    _strError = strResult;
		    bFailure = true;
		    return true;
		}			
	
	
		if(bShouldPass) {
			if(bFailure) {
				_strError = strResult;
				return true;
			} else {
				return false;
			}
		} else {
			if(!bFailure) {
				_strError = "DELETE did not fail as expected " + strResult ;
				return true;
			} else {
				return false;
			}		
		}
		
		return true;
	}
	
	public boolean doGET(boolean bShouldPass,String strBaseEndpoint,String strInputFile,Document docSrc,String href, String token) {
		
		boolean bFailure = false;
		String strResult = "";
		String strBody = "";
		
	  	def http = new HTTPBuilder();
	  
		try {
	
			http.request( strBaseEndpoint, GET, TEXT ) { req ->
				uri.path = href
			     headers.Authorization = 'Bearer ' + token
				headers.Accept = 'application/atom+xml'
				
				response.success = { resp, reader ->
					log.info "resourceTests (doGET) -- Response Status: ${resp.statusLine}"
					log.info "resourceTests (doGET) -- Content-Type: ${resp.headers.'Content-Type'}"
					log.info "resourceTests (doGET) -- Content-Encoding: ${resp.headers.'Content-Encoding'}"
					
					strBody = reader.getText();	
					_strResponseBody = strBody; 		
					log.info "resourceTests (doGET) -- strBody: " + strBody;
				}						
				response.failure = { resp ->
					log.info "resourceTests (doGET) -- Get Failed with Status: ${resp.statusLine}";
					log.info "resourceTests (doGET) -- bShouldPass: " + bShouldPass;
					strResult = "GET Failed: " + resp.statusLine;
					bFailure = true;
				}  
			}
		} catch ( HttpResponseException ex ) {
		    // default failure handler throws an exception:
		    log.info "resourceTests (doGET) -- GET HttpResponseException Error: ${ex.statusCode}"
		    strResult ="GET Unexpected response error: ${ex.statusCode}"
		    _strError = strResult;
		    bFailure = true;
		    return true;

		} catch (IOException io) {
		    if (strBody == "") {
		        log.info "resourceTests (doGET) -- GET IOException Error (strBody): " + strBody;
		        log.info "resourceTests (doGET) -- GET IOException Error: " + io;
		        strResult = "GET IOException error: " + io;
		        _strError = strResult;
		        bFailure = true;
		        return true;
		    }	    
		} catch (Exception e) {
		    log.info "resourceTests (doGET) -- GET Exception Error: " + e;
		    strResult ="GET Unexpected error"
		    _strError = strResult;
		    bFailure = true;
		    return true;			
		}
	
		if(bShouldPass) {
			if(!bFailure) {
				
				DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();
				domFactory.setNamespaceAware(true); 
				DocumentBuilder builder = domFactory.newDocumentBuilder();
			
				def Document docResult = builder.parse(new InputSource(new StringReader(strBody)));

				if(strInputFile!=null) {
					
					Element feedSrc = docSrc.getDocumentElement();
					Element feedResult = docResult.getDocumentElement();
				
					bFailure = CompareNodes(feedSrc,feedResult,log);			
		
					if(bFailure) {
						_strError = "GET content verification failure" + _strError;
						return true;
					} else {
						_docResponse = docResult;
						return false;
					}
				}
				else
				{
					_docResponse = docResult;
					return false;					
				}
			} else {
				_strError = strResult;
				return true;
			}
		} else {
			if(bFailure) {
				return false;
			} else {
				_strError = "GET did not fail as expected: " + _strError + strResult;
				return true;
			}
		}
	
		return true;
	}
	
	
	
	public boolean doPOST(boolean bShouldPass,String strBaseEndpoint,String strInputFile,String href, String token) {
		
		// used for creating new record
	
		boolean bFailure = false;
		String strResult = "";
		
		try {
			
			String strContent = FileUtils.readFileToString(new File(strInputFile));
	
			try {
				
				def http = new HTTPBuilder(strBaseEndpoint);
		
				def res = http.request(Method.POST) { req ->
				    uri.path = href
				    headers.Authorization = 'Bearer ' + token
				    send("application/atom+xml", strContent)
				 
				    response.success = { resp, object ->
				    		strResult = "POST succeeded: " + resp.status;	   
				    }
				 
				    response.failure = { resp ->
					    strResult = "POST Failed: " + resp.statusLine;
				        	bFailure = true;
				    }			 
				}
			      		
  			} catch (HttpResponseException ex) {
			    
			    // default failure handler throws an exception:
                   log.info "resourceTests (doPOST) -- POST httpResponseException Error: ${ex.statusCode}";			    
  			    strResult = "POST Unexpected response error: ${ex.statusCode}";
  			    _strError = strResult;
  			    bFailure = true;
  			    return true;
  			}

		} catch (IOException ioe) {			
		    log.info("resourceTests (doPOST) -- POST IOException Error reading file: " + strInputFile);
		    _strError = "POST Error reading file: " + strInputFile;
		    bFailure = true;
		    return true;
		}
	
	
		if(bShouldPass) {
			if(bFailure) {
				_strError = strResult;
				return true;
			} else {
				return false;
			}
		} else {
			if(!bFailure) {
				_strError = "POST did not fail as expected " + strResult;
				return true;
			} else {
				return false;
			}		
		}
		
		return true;
	}
	
	
	public boolean doPUT(boolean bShouldPass,String strBaseEndpoint,String strInputFile,String href, String token) {
		
		boolean bFailure = false;
		String strResult = "";
			
		// used for putdating record
		try {
			
			String strContent = FileUtils.readFileToString(new File(strInputFile));
	
			try {
				
				def http = new HTTPBuilder(strBaseEndpoint);
		
				def res = http.request(Method.PUT) { req ->
				    uri.path = href
				    headers.Authorization = 'Bearer ' + token
				    send("application/atom+xml", strContent)
				 
				    response.success = { resp, object ->
				        strResult = "PUT succeeded: " + resp.status;		        
				    }			 
				    response.failure = { resp ->	       
				        strResult = "PUT Failed: " + resp.statusLine;				    
				        bFailure = true;
				    }
				}
			      		
			}catch ( HttpResponseException ex ) {
			    
			    // default failure handler throws an exception:
			    strResult = "PUT Unexpected response error: ${ex.statusCode}";
			    bFailure = true;
			}			
		} catch (IOException e) {
			
			//e.printStackTrace();
			strResult = "PUT Error reading file: " + strInputFile;
			_strError = strResult;
			return true;
		}
	
		if(bShouldPass)
		{
			if(bFailure)
			{
				_strError = strResult;
				return true;
			}
			else
			{
				return false;
			}
		}
		else
		{
			if(!bFailure)
			{
				_strError = "PUT did not fail as expected" + strResult;
				return true;
			}
			else
			{
				return false;
			}		
		}
		
		return true;
	}
	
	
	public boolean TestDeleteXPATH(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile) {
		
		boolean bFailure = false;
		
		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
	
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");
	
		// read back xpath style resource and validate response against source
		log.info("Delete XPATH " + strBaseEndpoint + href);	
		bFailure = doDELETE(bShouldPass,strBaseEndpoint,href, default_access_token);

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: Delete XPATH " + strBaseEndpoint + href + " with error:" + _strError);	
			}
		}

		return bFailure;
	}

	public boolean TestDeleteROOT(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile) {
		
		boolean bFailure = false;
		
		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
	
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");

		//find tag name of espi content
		String strEntryName = parseEntryName(srcDoc);
	
		// based on entry type replace links 
		href = ReplaceLinks(strEntryName,href);	
			
		// read back xpath style resource and validate response against source
		log.info("Delete ROOT " + strBaseEndpoint + href);	
		bFailure = doDELETE(bShouldPass,strBaseEndpoint,href, default_access_token);

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: Delete ROOT " + strBaseEndpoint + href + " with error:" + _strError);	
			}
		}		
	
		return bFailure;
	}	
	
	public boolean TestPostXPATH(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile)
	{
		
		boolean bFailure = false;

		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
		
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");
	
		int idx = href.lastIndexOf("/");
		href = href.substring(0,idx);
	
		log.info("POST XPATH " + strBaseEndpoint + href);		
		bFailure = doPOST(bShouldPass,strBaseEndpoint,strInputFile,href, default_access_token);

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: POST XPATH " + strBaseEndpoint + href + " with error:" + _strError);	
			}
		}	
					
		return bFailure;
	}
	
	public boolean TestPutXPATH(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile) {
		
		boolean bFailure = false;
		
		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
		
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");
	
		log.info("PUT XPATH " + strBaseEndpoint + href);			
		bFailure = doPUT(bShouldPass,strBaseEndpoint,strInputFile,href, default_access_token);	

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: PUT XPATH " + strBaseEndpoint + href + " with error:" + _strError);	
			}
		}	
				
		return bFailure;
	}
	
	public boolean TestPutROOT(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile) {
		
		boolean bFailure = false;
		
		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
	
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");
	
		//find tag name of espi content
		String strEntryName = parseEntryName(srcDoc);
	
		// based on entry type replace links 
		href = ReplaceLinks(strEntryName,href);	
	
		log.info("PUT ROOT " + strBaseEndpoint + href);		
		bFailure = doPUT(bShouldPass,strBaseEndpoint,strInputFile,href, default_access_token);	

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: PUT ROOT " + strBaseEndpoint + href + " with error:" + _strError);	
			}
		}	
				
		return bFailure;
	}
	
	public boolean TestPostROOT(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile) {
		
		boolean bFailure = false;
		
		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
	
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");
	
		//find tag name of espi content
		String strEntryName = parseEntryName(srcDoc);
	
		// based on entry type replace links 
		href = ReplaceLinks(strEntryName,href);	
	
		int idx = href.lastIndexOf("/");
		href = href.substring(0,idx);
	
		log.info("POST ROOT " + strBaseEndpoint + href);		
		bFailure = doPOST(bShouldPass,strBaseEndpoint,strInputFile,href, default_access_token);

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: POST ROOT " + strBaseEndpoint + href + " with error:" + _strError);	
			}
		}	
					
		return bFailure;
	}
	
	
	public boolean TestGetXPATH(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile) {
		
		boolean bFailure = false;
		
		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
	
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");
	
		// read back xpath style resource and validate response against source
		log.info("Get XPATH " + strBaseEndpoint + href);		
		bFailure = doGET(bShouldPass,strBaseEndpoint,strInputFile,srcDoc,href, default_access_token);	

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: Get XPATH " + strBaseEndpoint + href + " with error:" + _strError);	
			}
		}	
							
		return bFailure;
	}

	public boolean TestGetROOT(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile) {
		
		boolean bFailure = false;
	
		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
	
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");
	
		//find tag name of espi content
		String strEntryName = parseEntryName(srcDoc);
	
		// based on entry type replace links 
		href = ReplaceLinks(strEntryName,href);		
	
		// read back root style resource and validate response against source
		log.info("Get ROOT " + strBaseEndpoint + href);				
		bFailure = doGET(bShouldPass,strBaseEndpoint,strInputFile,srcDoc,href, default_access_token);

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: Get ROOT " + strBaseEndpoint + href + " with error:" + _strError);	
			}
		}	
				
		return bFailure;
	}

	public boolean TestGetSaveResponse(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strResource,String strOutputFile) {
		
		boolean bFailure = false;
		
		// read back xpath style resource and validate response against source
		log.info("Get " + strBaseEndpoint + strResource + " save to file:" + strOutputFile);		
		bFailure = doGET(bShouldPass,strBaseEndpoint,null,null,strResource, default_access_token);	

		if(bReportError) {
			if(bShouldPass && bFailure) {
				log.error("FAILED: Get " + strBaseEndpoint + strResource + " with error:" + _strError);	
			}
		}	

		if(!bFailure) {
			PrintStream out = null;
			try {
			    out = new PrintStream(new FileOutputStream(strOutputFile));
			    out.print(_strResponseBody);
			} finally {
			    if (out != null) out.close();
			}			
		}
							
		return bFailure;
	}	

	public boolean TestGetROOTAndLinks(boolean bShouldPass,boolean bReportError,String strBaseEndpoint,String strLinkPrefixForReplace,String strInputFile) {
			
		Document srcDoc = parseDocument(strInputFile);
		String href = parseSelfLink(srcDoc);
	
		// remove endpoint root prefix
		href = href.replace(strLinkPrefixForReplace,"");
	
		//find tag name of espi content
		String strEntryName = parseEntryName(srcDoc);
	
		// based on entry type replace links 
		href = ReplaceLinks(strEntryName,href);		
	
		// read back root style resource and validate response against source
		log.info("Get ROOT And links " + strBaseEndpoint + href);				
		boolean bFailure = doGET(bShouldPass,strBaseEndpoint,strInputFile,srcDoc,href, default_access_token);

		if(bFailure)
		{
			if(bReportError) {
				if(bShouldPass && bFailure) {
					log.error("FAILED: Get ROOT And links " + strBaseEndpoint + href + " with error:" + _strError);	
				}
			}				
			return true;
		}

		
		XPath xpath = XPathFactory.newInstance().newXPath();
		
		// add namespaces
		HashMap<String, String> prefMap = new HashMap<String, String>() {{
		    put("espi", "http://naesb.org/espi");
		    put("ns3", "http://www.w3.org/2005/Atom");
		}};
		
		SimpleNamespaceContext namespaces = new SimpleNamespaceContext(prefMap);
		
		xpath.setNamespaceContext(namespaces);
		
		// find resource self link
		String strExpr = "/ns3:entry/ns3:link/@href";
		XPathExpression expr = xpath.compile(strExpr);
		NodeList nlLinks = (NodeList) expr.evaluate(_docResponse,XPathConstants.NODESET);

		boolean bFailOccurred = false;

		for (int i = 0; i < nlLinks.getLength(); i++) {
			
			String strLinkhref = getNodeValue(nlLinks.item(i));
	
			log.info("*Get resource for link: " + strLinkhref);				
			bFailure = doGET(bShouldPass,strBaseEndpoint,null,null,strLinkhref, default_access_token);	
			
			if(bFailure) {
				log.error(_strError);	
				bFailOccurred = true;
			}
			else
			{
				if(strLinkhref.endsWith("UsagePoint")||
					strLinkhref.endsWith("LocalTimeParameters")||
					strLinkhref.endsWith("MeterReading")||
					strLinkhref.endsWith("ReadingType")||
					strLinkhref.endsWith("ElectricPowerUsageSummary")||
					strLinkhref.endsWith("ElectricPowerQualitySummary")||
					strLinkhref.endsWith("IntervalBlock")) {
				
					// we should get back a feed
					
					String strExpr2 = "ns3:feed";
					xpath.setNamespaceContext(namespaces);
					XPathExpression expr2 = xpath.compile(strExpr2);
					NodeList nlEntries = (NodeList) expr2.evaluate(_docResponse,XPathConstants.NODESET);
					
					if(nlEntries.getLength()!=1) {
						_strError = "Response did not contain 1 'ns3:feed'";
						log.error(_strError);

						log.info("Response body: " + _strResponseBody);
						bFailOccurred = true;	
					}		
					
				} else {
					
					// we should get back an entry
					
					String strExpr2 = "ns3:entry";
					xpath.setNamespaceContext(namespaces);
					XPathExpression expr2 = xpath.compile(strExpr2);
					NodeList nlEntries = (NodeList) expr2.evaluate(_docResponse,XPathConstants.NODESET);
					
					if(nlEntries.getLength()!=1) {
						_strError = "Response did not contain 1 'ns3:entry'";
						log.error(_strError);

						log.info("Response body: " + _strResponseBody);
						bFailOccurred = true;
					}				
				}	
			}
		}

		return bFailOccurred;
	}	
	
	public boolean TestType1XPATH(Object testRunner,Object context,String strInputFile) {
	
		def project = testRunner.testCase.testSuite.project
		def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
		def projectPath = groovyUtils.projectPath	
		
		def BaseURL = project.getPropertyValue("BaseURL")
		def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
		def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
		def linkPrefixForReplace = project.getPropertyValue("linkPrefixForReplace")
		
		def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
		def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;

		
		String strBaseEndpoint = ServiceEndpointDataCustodian + "/";
		String strSourceDataFile = projectPath + "/../data/testSets/" + strInputFile;

		boolean bFailure = false;
	
		log.info("**********************************************");
		log.info("** Running test TestType1XPATH for ${strInputFile} ");
		log.info("**********************************************");
			
	//	bFailure = bFailure | TestPostXPATH(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetXPATH(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetROOT(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		
		bFailure = bFailure | TestPutXPATH(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);	
		bFailure = bFailure | TestGetXPATH(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetROOT(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		
		bFailure = bFailure | TestDeleteXPATH(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetXPATH(false,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile); //	(should fail)
		bFailure = bFailure | TestGetROOT(false,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile); //(should fail)
	
		if(bFailure) {
			_strError = "** FAILURE: test TestType1XPATH for ${strInputFile} ";		
		} else {
			log.info("**********************************************");
			log.info("** SUCCESS: TestType1XPATH for ${strInputFile} ");
			log.info("**********************************************");			
		}
		
		return bFailure;
	}

public boolean TestType1ROOT(Object testRunner,Object context,String strInputFile) {
	
		def project = testRunner.testCase.testSuite.project
		def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
		def projectPath = groovyUtils.projectPath	
		
		def BaseURL = project.getPropertyValue("BaseURL")
		def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
		def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
		def linkPrefixForReplace = project.getPropertyValue("linkPrefixForReplace")
		
		def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
		def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
		
		String strBaseEndpoint = ServiceEndpointDataCustodian + "/";
		String strSourceDataFile = projectPath + "/../data/testSets/" + strInputFile;
		
	
		boolean bFailure = false;
	
		log.info("**********************************************");
		log.info("** Running test TestType1ROOT for ${strInputFile} ");
		log.info("**********************************************");
	
//		bFailure = bFailure | TestPostROOT(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetXPATH(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetROOT(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		
		bFailure = bFailure | TestPutROOT(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetXPATH(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetROOT(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		
		bFailure = bFailure | TestDeleteROOT(true,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		bFailure = bFailure | TestGetXPATH(false,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile); //	(should fail)
		bFailure = bFailure | TestGetROOT(false,true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile); //(should fail)


		if(bFailure) {
			_strError = "** FAILURE: TestType1ROOT for ${strInputFile} ";		
		} else {
			log.info("**********************************************");
			log.info("** SUCCESS: TestType1ROOT for ${strInputFile} ");
			log.info("**********************************************");			
		}
		
		return bFailure;
	}	
	
	
	public boolean TestType2(Object testRunner,Object context,String strInputFile) {
		
	/*
	POST ROOT
	POST XPATH
	GET XPATH
	GET ROOT
	*/
		
		def project = testRunner.testCase.testSuite.project
		def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
		def projectPath = groovyUtils.projectPath	
		
		def BaseURL = project.getPropertyValue("BaseURL")
		def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
		def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
		def linkPrefixForReplace = project.getPropertyValue("linkPrefixForReplace")
		
		def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
		def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
		
		String strBaseEndpoint = ServiceEndpointDataCustodian + "/";
		String strSourceDataFile = projectPath + "/../data/testSets/" + strInputFile;
	
		boolean bFailure = false;
	
		//log.info("**********************************************");
		//log.info("** Processing: " + strSourceDataFile);
		//log.info("**********************************************");
	
	
		bFailure = bFailure | TestPostROOT(true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
	
		bFailure = bFailure | TestPostXPATH(true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
		
		bFailure = bFailure | TestGetXPATH(true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile)
	
		bFailure = bFailure | TestGetROOT(true,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);	
		
		return bFailure;
	}
}

///////////////////////////////
// 
//	Main Body
//
///////////////////////////////
	def project = testRunner.testCase.testSuite.project
	def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
	def projectPath = groovyUtils.projectPath	
	
	def BaseURL = project.getPropertyValue("BaseURL")
	def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
	def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
	def linkPrefixForReplace = project.getPropertyValue("linkPrefixForReplace")
	
	def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
	def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
	//*********************************************************
	log.info("StartTests");
	//*********************************************************

	
	String strBaseEndpoint = ServiceEndpointDataCustodian + "/";
	String resourceTestFileName = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"].getPropertyValue("resourceTestFileName");
	String resourceOutputFileName = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"].getPropertyValue("resourceOutputFileName");
	String strResource = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"].getPropertyValue("resource");
	String testShouldPass = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"].getPropertyValue("testShouldPass");
	String testType = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"].getPropertyValue("testType");
	String strSourceDataFile = projectPath + "/../data/testSets/" + resourceTestFileName;
	String strOutputDataFile = projectPath + "/../data/" + resourceOutputFileName;
	String default_access_token = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"].getPropertyValue("default_access_token");


	boolean bShouldPass = true;

	testShouldPass = testShouldPass.toUpperCase();
	
	if(testShouldPass.equals("FALSE")) {
		bShouldPass = false;
	}

	boolean bFailure = false;

	ResourceTester resourceTester = new ResourceTester(log);

	try{	
		resourceTester.setAccessToken(default_access_token);

		if(testType.equals("TestType1ROOT")) {
			
			bFailure = resourceTester.TestType1ROOT(testRunner,context,resourceTestFileName);
			
		} else  if(testType.equals("TestType1XPATH")) {
			
			bFailure = resourceTester.TestType1XPATH(testRunner,context,resourceTestFileName);
			
		} else if(testType.equals("testType2")) {
			
			bFailure = resourceTester.TestType2(testRunner,context,resourceTestFileName);
			
		} else if(testType.equals("PostXPATH")) {
			
			bFailure = resourceTester.TestPostXPATH(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
			
		} else if(testType.equals("PostROOT")) {
			
			bFailure = resourceTester.TestPostROOT(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
			
		} else if(testType.equals("PutROOT")) {
			
			bFailure = resourceTester.TestPutROOT(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
			
		} else if(testType.equals("PutXPATH")) {
			
			bFailure = resourceTester.TestPutXPATH(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
			
		} else if(testType.equals("GetXPATH")) {
			
			bFailure = resourceTester.TestGetXPATH(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile)
			
		} else if(testType.equals("GetROOT")) {
			
			bFailure = resourceTester.TestGetROOT(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
				
		} else if(testType.equals("GetSaveResponse")) {
			
			bFailure = resourceTester.TestGetSaveResponse(bShouldPass,false,strBaseEndpoint,strResource,strOutputDataFile);
				
		} else if(testType.equals("DeleteXPATH")) {
			
			bFailure = resourceTester.TestDeleteXPATH(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);	
					
		} else if(testType.equals("DeleteROOT")) {
			
			bFailure = resourceTester.TestDeleteROOT(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);	
			
		} else if(testType.equals("GetROOTAndLinks")) {
			
			bFailure = resourceTester.TestGetROOTAndLinks(bShouldPass,false,strBaseEndpoint,linkPrefixForReplace,strSourceDataFile);
				
		}
		
	} catch(java.io.FileNotFoundException e) {
		resourceTester._strError = "java.io.FileNotFoundException";
		bFailure = true;
	}

	if(bFailure) {
		log.error("**********************************************");		
		testRunner.fail("Failed test '${testType}' processing resource:" + resourceTestFileName + " With error: " + resourceTester._strError)
		log.error("**********************************************");		
		testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"].setPropertyValue("testFailed", "TRUE")

	} else {
		
		testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"].setPropertyValue("testFailed", "FALSE")
	}
	
	return;


	]]></script></con:config>
	</con:testStep>
	<con:properties>
		<con:property>
			<con:name>resourceTestFileName</con:name>
			<con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
		</con:property>
		<con:property>
			<con:name>testType</con:name>
			<con:value>GetSaveResponse</con:value>
		</con:property>
		<con:property>
			<con:name>default_access_token</con:name>
			<con:value>2a85f4bd-30db-4b7d-8f41-b046b0566cb3</con:value>
		</con:property>
		<con:property>
			<con:name>testShouldPass</con:name>
			<con:value>TRUE</con:value>
		</con:property>
		<con:property>
			<con:name>resourceOutputFileName</con:name>
			<con:value>test_subscription.xml</con:value>
		</con:property>
		<con:property>
			<con:name>resource</con:name>
			<con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:value>
		</con:property>
		<con:property>
			<con:name>testFailed</con:name>
			<con:value>FALSE</con:value>
		</con:property>
		<con:property>
			<con:name>uploadFile</con:name>
			<con:value>test_usage_data.xml</con:value>
		</con:property>
		<con:property>
			<con:name>retailCustomerId</con:name>
			<con:value>1</con:value>
		</con:property>
	</con:properties>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create Authorization and extract all information" searchProperties="true" id="00812f7a-b4ce-4782-bf13-f27a979f6d00"><con:description/><con:settings/><con:testStep type="groovy" name="branch based on need to authorize" id="6b034b9d-6d63-4355-9920-b69e41fdb5bd"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

//	Create addressability to global variables
def project = testRunner.testCase.testSuite.project;
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

log.info("authcase client_secret: " + authCase.getPropertyValue("client_secret"));
log.info("project client_secret: " + project.getPropertyValue("client_secret") + "\n");
log.info("Create Authorization and extract all information (Branch based on need to authorize) client_secret: " + authCase.getPropertyValue("client_secret"));

result = ui.getDialogs().confirm("Do you need to perform an Authorization?", "");


if(!result)
{
	log.info("Create Authorization and extract all information (Branch based on need to authorize) response: NO");
	testRunner.gotoStepByName("Done");
	
} else {

	log.info("Create Authorization and extract all information (Branch based on need to authorize) response: YES (Creating Authorization) ");
		
}
</script></con:config></con:testStep><con:testStep type="groovy" name="Start Mock Service" id="b5180cc9-a09b-47cf-b76f-42ed235424c3"><con:settings/><con:config><script>//	Create addressability to global variables
def project = testRunner.testCase.testSuite.project
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

log.info("Create Authorization and extract all information (Start Mock Service) Started");

context.mockService = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Authorization Mock Service");

//   ****************************************************************************************************************************
//   *
//   *    Verify all mock service global variables are valid
//   *
//   ****************************************************************************************************************************

// Verify mockPort variable is valid
log.info("authCase mockPort: " + authCase.getPropertyValue("mockPort"));
log.info("project mockPort: " + project.getPropertyValue("mockPort"));

if (authCase.getPropertyValue("mockPort") == "" || authCase.getPropertyValue("mockPort") == null) {

  	log.error("Create Authorization and extract all information (Start Mock Service) mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	testRunner.fail("Create Authorization and extract all information (Start Mock Service) mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information (Start Mock Service) mockPort variable: " + authCase.getPropertyValue("mockPort"));
	}

// Verify proxyOutPort variable is valid
if (authCase.getPropertyValue("proxyOutPort") == "" || authCase.getPropertyValue("proxyOutPort") == null) {

//	log.info("Create Authorization and extract all information (Start Mock Service) proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	log.error("Create Authorization and extract all information (Start Mock Service) proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	testRunner.fail("Create Authorization and extract all information (Start Mock Service) proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information (Start Mock Service) proxyOutPort variable: " + authCase.getPropertyValue("proxyOutPort"));
	}

// Verify OAuth Authorization Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == "" || authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == null) {

//	log.info("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	log.error("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	testRunner.fail("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Endpoint variable: " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	}

// Verify OAuth Authorization Redirect URI variable is valid
if (authCase.getPropertyValue("redirect_uri") == "" || authCase.getPropertyValue("redirect_uri") == null) {

//	log.info("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Redirect URI variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	log.error("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Redirect URI Endpoint variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	testRunner.fail("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Redirect URI variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Redirect URI variable: " + authCase.getPropertyValue("redirect_uri"));
	}

// Verify OAuth Authorization Token Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerTokenEndpoint") == "" || authCase.getPropertyValue("authorizationServerTokenEndpoint") == null) {

//	log.info("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	log.error("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	testRunner.fail("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information (Start Mock Service) OAuth Authorization Token Endpoint variable: " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	}

// Verify Client ID variable is valid
if (authCase.getPropertyValue("client_id") == "" || authCase.getPropertyValue("client_id") == null) {

//	log.info("Create Authorization and extract all information (Start Mock Service) Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	log.error("Create Authorization and extract all information (Start Mock Service) Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	testRunner.fail("Create Authorization and extract all information (Start Mock Service) Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information (Start Mock Service) Client ID variable: " + authCase.getPropertyValue("client_id"));
	}

// Verify Client Secret variable is valid
if (authCase.getPropertyValue("client_secret") == "" || authCase.getPropertyValue("client_secret") == null) {

//	log.info("Create Authorization and extract all information (Start Mock Service) Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	log.error("Create Authorization and extract all information (Start Mock Service) Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	testRunner.fail("Create Authorization and extract all information (Start Mock Service) Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information (Start Mock Service) Client Secret variable: " + authCase.getPropertyValue("client_secret"));
	}

// Verify Data Custodian Scope Selection Screen URI is valid
if (authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == "" || authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == null) {

//	log.info("Create Authorization and extract all information (Start Mock Service) Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	log.error("Create Authorization and extract all information (Start Mock Service) Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	testRunner.fail("Create Authorization and extract all information (Start Mock Service) Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information (Start Mock Service) Data Custodian Scope Selection Screen URI variable: " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	}

//   ****************************************************************************************************************************
//   *
//   *    Initialize mock service variables
//   *
//   ****************************************************************************************************************************

context.mockService.setPropertyValue("tokenResponse",""); 
context.mockService.setPropertyValue("authorizationServerAuthorizationEndpoint",authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
context.mockService.setPropertyValue("redirect_uri",authCase.getPropertyValue("redirect_uri"));
context.mockService.setPropertyValue("authorizationServerTokenEndpoint",authCase.getPropertyValue("authorizationServerTokenEndpoint"));
context.mockService.setPropertyValue("client_id",authCase.getPropertyValue("client_id"));
context.mockService.setPropertyValue("client_secret",authCase.getPropertyValue("client_secret"));
context.mockService.setPropertyValue("dataCustodianScopeSelectionScreenURI",authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));

context.mockService.setPort(authCase.getPropertyValue("mockPort").toInteger());
def runner = context.mockService.start(); 
context.mockRunner = runner;  
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Script will bring up browser to DC Scope selection screen" id="1afd759c-0ac6-4184-99ad-d9656769face"><con:settings/><con:config><script>import org.greenbutton.cmd.utils.DriverHelper;
//import java.net.*;
//import java.io.*;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

//String parseEndpointFromURI(String strURI) throws Exception {
String parseBaseUrlFromURI(String strURI) throws Exception {	
    URL aURL = new URL(strURI);

    if(aURL.getPort().equals(-1)) {
	    log.info("Create Authorization and extract all information Script will bring up browser to DC Scope selection screen -- aURL.getPort(): " + aURL.getPort());
	    log.info("Create Authorization and extract all information Script will bring up browser to DC Scope selection screen -- strBaseUrl: " + aURL.getProtocol() + "://" +  aURL.getHost());
	    return aURL.getProtocol() + "://" +  aURL.getHost() ;
    } else {
	    log.info("Create Authorization and extract all information Script will bring up browser to DC Scope selection screen -- aURL.getPort(): " + aURL.getPort());
	    log.info("Create Authorization and extract all information Script will bring up browser to DC Scope selection screen -- strBaseUrl: " + aURL.getProtocol() + "://" +  aURL.getHost() + ":" + aURL.getPort());
	    return aURL.getProtocol() + "://" +  aURL.getHost() + ":" + aURL.getPort();
    }
}


String parseResource(String strURI) throws Exception {
    URL aURL = new URL(strURI);

    log.info("Create Authorization and extract all information Script will bring up browser to DC Scope selection screen -- strResource: " + aURL.getPath());
    return aURL.getPath();
}

//def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def strScopeSelURI = authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI");

//String strEndpoint = parseEndpointFromURI(ScopeSelURI);
String strEndpoint = parseBaseUrlFromURI(strScopeSelURI);
String strResource = parseResource(strScopeSelURI);
//log.info "Configured Endpoint: " + strEndpoint;
//log.info "Configured Resource: " + strResource;

log.info "Create Authorization and extract all information Script will bring up browser to DC Scope selection screen -- Scope select URI: " + strScopeSelURI;

DriverHelper driver = new DriverHelper(strEndpoint,strResource,"",log);

context["driver"] = driver;

driver.get(strScopeSelURI);
</script></con:config></con:testStep><con:testStep type="groovy" name="Wait for Authorization to Complete and End Browser session" id="b113e147-1128-47b8-ad30-8e704a9a4446"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

result = ui.getDialogs().showInfoMessage("Perform logon and authorization and hit OK when done", "");

context["driver"].quit();

context["driver"] = null;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="e3732230-df71-49cd-a5c2-f5d2e3837c82"><con:settings/><con:config><script>context.mockRunner.stop();
context.mockRunner = null;
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate and extract information from authorization" id="8adc4ae0-5c25-4c99-959e-5b1052ebb74c"><con:settings/><con:config><script>import groovy.json.JsonSlurper;
import com.eviware.soapui.support.types.StringToStringMap;

testRunner.testCase.setPropertyValue("error","");
testRunner.testCase.setPropertyValue("access_token","");
testRunner.testCase.setPropertyValue("token_type","");
testRunner.testCase.setPropertyValue("refresh_token","");
testRunner.testCase.setPropertyValue("expires_in","");
testRunner.testCase.setPropertyValue("scope","");
testRunner.testCase.setPropertyValue("resourceURI","");
testRunner.testCase.setPropertyValue("authorizationURI","");
testRunner.testCase.testSuite.project.setPropertyValue("access_token","");
	
String strError =  context.mockService.getPropertyValue("error");
if(strError!="")
{
	testRunner.testCase.setPropertyValue("error",strError);

	return;	
}



String strTokenResponse =  context.mockService.getPropertyValue("tokenResponse");

if((strTokenResponse==null)||(strTokenResponse=="")){
	log.error("No authorization received");
	testRunner.fail("No authorization received");
	return;
}

def slurper = new JsonSlurper();
def tokenResponse = slurper.parseText(strTokenResponse);
def headers = new StringToStringMap()

log.info("access_token = " + tokenResponse.access_token);
log.info("token_type = " + tokenResponse.token_type);
log.info("refresh_token = " + tokenResponse.refresh_token);
log.info("expires_in = " + tokenResponse.expires_in);
log.info("scope = " + tokenResponse.scope);
log.info("resourceURI = " + tokenResponse.resourceURI);
log.info("authorizationURI = " + tokenResponse.authorizationURI);


testRunner.testCase.setPropertyValue("access_token",tokenResponse.access_token);
testRunner.testCase.setPropertyValue("token_type",tokenResponse.token_type);
testRunner.testCase.setPropertyValue("refresh_token",tokenResponse.refresh_token);
testRunner.testCase.setPropertyValue("expires_in",tokenResponse.expires_in.toString());
testRunner.testCase.setPropertyValue("scope",tokenResponse.scope);
testRunner.testCase.setPropertyValue("resourceURI",tokenResponse.resourceURI);
testRunner.testCase.setPropertyValue("authorizationURI",tokenResponse.authorizationURI);


testRunner.testCase.testSuite.project.setPropertyValue("access_token",testRunner.testCase.getPropertyValue("access_token"));</script></con:config></con:testStep><con:testStep type="groovy" name="Done" id="1506c724-dddb-4676-bd09-aabebed84455"><con:settings/><con:config><script>log.info("General Scripts: Create Authorization and extract all information (Done)");</script></con:config></con:testStep><con:tearDownScript>if(context.mockRunner != null){
	log.info("Create Authorization and extract all information 'SoapUI TestSteps TearDown Script' -- client_secret: " + authCase.getPropertyValue("client_secret"));
	log.info("Create Authorization and extract all information 'SoapUI TestSteps TearDown Script' -- Stop Mock Service");

	context.mockRunner.stop();
	context.mockRunner = null;
}

if(context["driver"] != null){
	context["driver"].quit();
	context["driver"] = null;	
}

</con:tearDownScript><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">https://localhost:8443/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">https://localhost:8443/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>access_token</con:name><con:value>d68f0ebc-5f8b-4a8d-9564-919cb82d6576</con:value></con:property><con:property><con:name>resourceURI</con:name><con:value>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/9</con:value></con:property><con:property><con:name>authorizationURI</con:name><con:value>https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/9</con:value></con:property><con:property><con:name>token_type</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">bearer</con:value></con:property><con:property><con:name>refresh_token</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">bba483be-c705-4e73-a692-157b218a9468</con:value></con:property><con:property><con:name>expires_in</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">315359999</con:value></con:property><con:property><con:name>scope</con:name><con:value>FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>error</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>client_id</con:name><con:value>surface_tp</con:value></con:property><con:property><con:name>old_access_token</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">59ff6c86-7ebc-4220-b247-a6bcc4834613</con:value></con:property><con:property><con:name>client_secret</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">secret</con:value></con:property><con:property><con:name>authorizationServerProxy</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>resourceServerProxy</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>mockPort</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">8080</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpointProxy</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>authorizationServerTokenEndpointProxy</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>client_access_token</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">dc14c6f5-07c2-46bf-8302-6b1d5ff8e9ac</con:value></con:property><con:property><con:name>resourceServer</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">localhost:8443</con:value></con:property><con:property><con:name>registration_access_token</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">16552e67-59bc-4e70-a7f1-28d288fba8e6</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="RunCommand" searchProperties="true" id="a3ec95e4-9f8e-40f3-a3ce-37609ecfe6e3"><con:settings/><con:testStep type="groovy" name="runCommand" id="06648a84-6352-4b25-b179-693e52d162cc"><con:settings/><con:config><script>def project = testRunner.testCase.testSuite.project

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath


public boolean RunCommand(String path,String cmd)
{
	def doCmd;
	def myTimeoutValue= testRunner.testCase.getPropertyValue("timeout").toInteger();
	def timeoutCmd= testRunner.testCase.testSuite.project.getPropertyValue("timeoutCmd");

	if(myTimeoutValue > 0)
	{
		cmd = timeoutCmd + " " + myTimeoutValue + " " + cmd;
	}

	
	log.info("path: " + path);
	log.info("exec: " + cmd);
	log.info("os  : " + System.properties['os.name']);
	testRunner.testCase.setPropertyValue("stderr", "");
	testRunner.testCase.setPropertyValue("returncode", "0");
	testRunner.testCase.setPropertyValue("stdout", "");

	
	try {
		
		if (System.properties['os.name'].toLowerCase().contains('windows')) {
			doCmd = ["cmd", "/c",cmd].execute(null, new File(path));
		} else {
			doCmd = ["bash", "-c",cmd].execute(null, new File(path));
		}
	
		doCmd.waitFor()
	
		} catch (Exception e) {
			testRunner.fail( e.getMessage());
			return false;
	}

	if(doCmd.exitValue()!=0)
	{
		testRunner.testCase.setPropertyValue("stderr", doCmd.err.text);
		testRunner.testCase.setPropertyValue("returncode", doCmd.exitValue().toString());
		testRunner.testCase.setPropertyValue("stdout", doCmd.in.text);

		log.error "return code: " + testRunner.testCase.getPropertyValue("returncode");
		log.error "stderr: " + testRunner.testCase.getPropertyValue("stderr");
		log.error "stdout: " + testRunner.testCase.getPropertyValue("stdout");
		
		testRunner.fail(  "return code: " + testRunner.testCase.getPropertyValue("returncode"));
		return false;
	}

	testRunner.testCase.setPropertyValue("stdout", doCmd.in.text);
	log.info  "stdout: " + 	testRunner.testCase.getPropertyValue("stdout");

	return true;
}

// run the command
cmd = testRunner.testCase.getPropertyValue("cmd");
td = testRunner.testCase.getPropertyValue("path");
return (RunCommand(td,cmd));
</script></con:config></con:testStep><con:properties><con:property><con:name>stdout</con:name><con:value>issuer= /C=Unknown/ST=Unknown/L=Unknown/O=Unknown/OU=Unknown/CN=openespissl
</con:value></con:property><con:property><con:name>cmd</con:name><con:value>openssl x509 -issuer -noout -in /home/bitnami/Git/energyos/test/OpenESPI-GreenButtonCMDTest/SOAPUI/etc/getcert.pem</con:value></con:property><con:property><con:name>path</con:name><con:value>/etc/stunnel</con:value></con:property><con:property><con:name>stderr</con:name><con:value/></con:property><con:property><con:name>returncode</con:name><con:value>0</con:value></con:property><con:property><con:name>timeout</con:name><con:value>2</con:value></con:property><con:property><con:name>uri</con:name><con:value>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:value></con:property><con:property><con:name>token</con:name><con:value>326bf68d-b49e-45b7-8296-46d80ada302d</con:value></con:property></con:properties></con:testCase><con:testCase id="978db0b7-3ecb-45f4-afd8-d7cb7e0dd584" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GenericResourceGet" searchProperties="true"><con:description>This GET will retrieve a resource via REST GET or SFTP or deferred GET with a 202 response followed by a notification
</con:description><con:settings/><con:testStep type="groovy" name="GenericResourceGet" id="7f4bdcdd-bd1f-4016-b05d-3176630848b5"><con:settings/><con:config><script><![CDATA[import org.xml.sax.SAXException;
import org.w3c.dom.*;
import javax.xml.parsers.*;
import javax.xml.xpath.*;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import javax.xml.namespace.NamespaceContext;

import groovyx.net.http.HTTPBuilder
import groovyx.net.http.HttpResponseException;
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT
import static groovyx.net.http.ContentType.XML

import groovyx.net.http.*;

import groovyx.net.http.Method;

import org.xml.sax.InputSource;

import groovy.io.FileType;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];


def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def mockPort = authCase.getPropertyValue("mockPort");

String url = "http://localhost:8085/DataCustodian/espi/1_1/resource/UsagePoint";
//String url = "http://localhost:8080/DataCustodian/espi/1_1/resource/UsagePoint";
String token = "2a85f4bd-30db-4b7d-8f41-b046b0566cb3";

//String url = "http://localhost:8080/DataCustodi43an/espi/1_1/resource/Batch/Subscription/7";

//String url = testRunner.testCase.getPropertyValue("uri");
//String token = testRunner.testCase.getPropertyValue("token");
log.info "uri : " + url;
log.info "token : " + token;


public Integer doSFTPGET(String url, String token) {
	def transferDir = groovyUtils.projectPath + "/../transferred";
	def list = []
	def dir = new File(transferDir);

// must replace URL class with URI class.(universal get parsed)
	
	def aURL = new URL(url);
	
	dir.eachFileRecurse (FileType.FILES) { file ->
		list << file
	}
	
	if(list.size()>0){

		cmdRm = 'rm ' + transferDir +  '/*';
		
		if(RunCommand(cmdRm) != true) {
			log.error("could not clear transfer directory");
			testRunner.fail("could not clear transfer directory");
			return;
		} 
	}
	
	cmdGet = 'sftp ' + aURL.getHost() + ':' + context.strResource + ' ' + transferDir;
	tc.setPropertyValue("path",transferDir);
	tc.setPropertyValue("timeout","20");
	tc.setPropertyValue("cmd", cmdGet);
	tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
	strResult = tc.getPropertyValue("stdout");
	
	if(RunCommand(cmdGet) != true) {
		log.error("could not issue sftp get");
		testRunner.fail("could not issue sftp get");
		return;
	}	
}

public Integer doHTTPGET(String url, String token) {
		

	def http = new HTTPBuilder();
	def result = 500;

//	http.client.removeRequestInterceptorByClass( ContentEncoding.RequestInterceptor.class );
//     http.client.removeResponseInterceptorByClass( ContentEncoding.ResponseInterceptor.class );

//http.setContentEncoding(ContentEncoding.Type.GZIP,ContentEncoding.Type.DEFLATE);

http.setContentEncoding("");

	try {
	
		http.request( url, GET, TEXT ) { req ->
	//		uri.path = href
		     headers.Authorization = 'Bearer ' + token
			headers.Accept = 'application/atom+xml'
			
			response.success = { resp, reader ->
				log.info "Response Status: ${resp.status}"
				log.info "Response Status: ${resp.statusLine}"
				log.info "Content-Type: ${resp.headers.'Content-Type'}"
				log.info "Content-Encoding: ${resp.headers.'Content-Encoding'}"
				
				strBody = reader.getText();
				testRunner.testCase.setPropertyValue("response",strBody);	
				log.info "doHTTPGET (GET) -- strBody: " + strBody;
				log.info "Done doHTTPGET (GET)1";
				result = resp.status;
				log.info "Done doHTTPGET (GET)2";
				
			}
			response.'401' = { resp ->
	        		println 'access denied'
				result = resp.status;
	    		}						
			response.'403' = { resp ->
	        		println 'access not authorized'
				result = resp.status;
	    		}						
			response.'202' = { resp ->
	        		println 'accepted but will provide notification when done'
				result = resp.status;
	    		}						
			response.failure = { resp ->
				log.info "doHTTPGET (GET) -- Get Failed with Status: ${resp.statusLine}";
				//log.info "doHTTPGET (GET) -- bShouldPass: " + bShouldPass;
				strResult = "GET Failed: " + resp.statusLine;
				bFailure = true;
				result = resp.status;
			}  
		}
	} catch ( HttpResponseException ex ) {
	    // default failure handler throws an exception:
	    log.info "resourceTests (GET) -- GET HttpResponseException Error: ${ex.statusCode}"
	    strResult ="GET Unexpected response error: ${ex.statusCode}"
	    _strError = strResult;
	    bFailure = true;
	    return 500;
	
	} catch (IOException io) {
	        log.info "GET IOException Error: " + io;
	        strResult = "GET IOException error: " + io;
	        _strError = strResult;
	        bFailure = true;
	        return 500;
	} catch (Exception e) {
	    log.info "GET Exception Error: " + e;
	    strResult ="GET Unexpected error"
	    _strError = strResult;
	    bFailure = true;
	    return 500;			
	}
return result;
}

/////////////////////////////////////////////////////////
// Main Script
/////////////////////////////////////////////////////////
def responseToGet;
def responses = [];
def aURL = new URL(url);

/////////////////////////////////////////////////////////
// start notification mock service to listen for results
/////////////////////////////////////////////////////////
context.mockService = testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification");
context.mockService.setPort(authCase.getPropertyValue("mockPort").toInteger());
def runner = context.mockService.start(); 
context.mockRunner = runner;  
// clear notification of BatchList result
context.mockService.setPropertyValue("BatchList","");

log.info "Prototocl: " +aURL.getProtocol()

if( (aURL.getProtocol()=="http") || (aURL.getProtocol()=="https")){
// based on result of initial GET, handle response
	responseToGet = doHTTPGET(url,token);

	log.info "Done call to doHTTPGET";
	switch (responseToGet)
	{
		case 200:
			log.info "Done call to doHTTPGET/200";
			responses << testRunner.testCase.getPropertyValue("response");	
			log.info "Done call to doHTTPGET/200B";
			break;
		case 202:
			// we must wait for notification of BatchList with URLs to retrieve
			def delayWait = 10;
			while (delayWait > 0)
			{
				delayWait --;
				sleep (1000);
				
				if (context.mockService.getPropertyValue("BatchList").length() > 0)
				{
					log.info "Notification Received: " + responseToGet ;
					break;
				}
			}
	
			// Check if we have further processing
			if (context.mockService.getPropertyValue("BatchList").length() == 0)
			{
				testRunner.fail("No Notification Received");
			}
			else
			{
				// process batch list
				def rootNode = new XmlSlurper().parseText(context.mockService.getPropertyValue("BatchList"));
	
				// iterate through resources
				rootNode.resources.each {resources ->
					responseToGet = doHTTPGET(resources.text(),token);
					responses << testRunner.testCase.getPropertyValue("response");	
				}
			}
			break;
		default:
			break;
	}
}
else if (aURL.getProtocol()=="sftp"){
	doSFTPGET(url,token);
	responses << testRunner.testCase.getPropertyValue("response");	
}
else {
	testRunner.fail("Unknown protocol in URL");
}

	

/////////////////////////////////////////////////////////
// stop notification mock service to listen for results
/////////////////////////////////////////////////////////
context.mockRunner.stop();
context.mockRunner = null;

/*
responses.each { it->
	log.info "Here is an entry: " + it;
}
*/

return true;
]]></script></con:config></con:testStep><con:properties><con:property><con:name>uri</con:name><con:value>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:value></con:property><con:property><con:name>token</con:name><con:value>326bf68d-b49e-45b7-8296-46d80ada302d</con:value></con:property><con:property><con:name>response</con:name><con:value>HELLO
</con:value></con:property></con:properties></con:testCase><con:properties/>
</con:testSuite>
<con:testSuite name="OpenEspiIntegrationTests" id="078c93b9-0aac-4a68-a290-27fec2b4942d">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="50000" name="ResourceTests" searchProperties="true" id="a536dcbe-f106-47e2-9c97-93c2d78cffa9" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="">
		<con:settings>
			<con:setting id="com.eviware.soapui.impl.wsdl.panels.testcase.JTestRunLog$OptionsForm@max_rows">20000</con:setting>
			<con:setting id="com.eviware.soapui.impl.wsdl.panels.testcase.JTestRunLog$OptionsForm@errors_only">false</con:setting>
		</con:settings>
		<con:testStep type="groovy" name="InitializeDataSets" id="428c4598-f235-469d-a6ce-95ae03ae28e0">
			<con:settings/>
			<con:config><script><![CDATA[import org.xml.sax.SAXException;
import org.w3c.dom.*;
import javax.xml.parsers.*;
import javax.xml.transform.stream.*;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.Transformer;
import javax.xml.transform.OutputKeys;
import javax.xml.transform.TransformerFactory;
import java.io.IOException;


public class ConvType {
    public static final int INT_VALUE = 0;
    public static final int ENTRY = 1;
    public static final int ROOT_ENTRY= 2;
   // public static final int ENTRY_FEED = 3;
   // public static final int ROOT_ENTRY_FEED = 4;    
}

class XMLHelper {
	
	private static boolean _skipNL;

	private static String _baseEndpoint;
	private static int _retailCustomerId;
	private static int _usagePointId;
	private static int _localTimeParametersID;
	private static int _ElectricPowerUsageSummaryId;
	private static int _ElectricPowerQualitySummaryId;
	private static int _meterReadingId;
	private static int _readingTypeId;
	private static int _intervalBlockId;
	private static int _resourceId;
	private static int _subscriptionId;


	public static ConvertToEntry(String strEndpoint,Element feed,String StoragePath,Object log) {
		
		NodeList list = feed.getElementsByTagName("entry");


		XMLHelper._baseEndpoint = strEndpoint;
		XMLHelper._retailCustomerId = 1;
		XMLHelper._usagePointId = 1;
		XMLHelper._localTimeParametersID = 1;
		XMLHelper._ElectricPowerUsageSummaryId = 1;
		XMLHelper._ElectricPowerQualitySummaryId = 1;		
		XMLHelper._meterReadingId = 1;
		XMLHelper._readingTypeId = 1;
		XMLHelper._intervalBlockId = 1;
		XMLHelper._resourceId = 1;
  		XMLHelper._subscriptionId = 5;
//		XMLHelper._subscriptionId = 1;
		
		for(int i = 0 ; i < list.getLength();i++) {
			
			Element entry = (Element) list.item(i);
			NodeList content = entry.getElementsByTagName("content");
			NodeList contentChildren = content.item(0).getChildNodes();

			String strEntryName = "";
			
			for(int j = 0 ; j < contentChildren.getLength();j++) {
				
				if(contentChildren.item(j).getNodeType()==Node.ELEMENT_NODE) {
					
					Element espi = (Element) contentChildren.item(j);
					log.info("Processing node: " + espi.getNodeName());
					strEntryName = espi.getNodeName();
				}
			}
			
			String strFileName = "entry_" + strEntryName + "_" + i + ".xml";

			def file = new PrintWriter (StoragePath + strFileName)

			file.print("<?xml version=\"1.0\" encoding=\"UTF-8\"?>");
			
			Convert(list.item(i),file,ConvType.ENTRY,strEntryName);

			file.flush();
			file.close();
		}
		
	}

	public static ConvertToRootEntry(String strEndpoint,Element feed,String StoragePath,Object log) {
		
		NodeList list = feed.getElementsByTagName("entry");


		XMLHelper._baseEndpoint = strEndpoint;
		XMLHelper._retailCustomerId = 1;
		XMLHelper._usagePointId = 1;
		XMLHelper._localTimeParametersID = 1;
		XMLHelper._ElectricPowerUsageSummaryId = 1;
		XMLHelper._ElectricPowerQualitySummaryId = 1;		
		XMLHelper._meterReadingId = 1;
		XMLHelper._readingTypeId = 1;
		XMLHelper._intervalBlockId = 1;
		XMLHelper._resourceId = 1;
		XMLHelper._subscriptionId = 1;		
		
		for(int i = 0 ; i < list.getLength();i++) {
			
			Element entry = (Element) list.item(i);
			NodeList content = entry.getElementsByTagName("content");
			NodeList contentChildren = content.item(0).getChildNodes();

			String strEntryName = "";
			
			for(int j = 0 ; j < contentChildren.getLength();j++) {
				if(contentChildren.item(j).getNodeType()==Node.ELEMENT_NODE)
				{
					Element espi = (Element) contentChildren.item(j);
					log.info("Processing node: " + espi.getNodeName());
					strEntryName = espi.getNodeName();
				}
			}
			
			String strFileName = "root_entry_" + strEntryName + "_" + i + ".xml";

			def file = new PrintWriter (StoragePath + strFileName)

			file.print("<?xml version=\"1.0\" encoding=\"UTF-8\"?>");
			
			Convert(list.item(i),file,ConvType.ROOT_ENTRY,strEntryName);

			file.flush();
			file.close();
		}
		
	}
	
	public static Convert(Node rootNode,PrintWriter file,int convType,String strEntryName) {
		
	    String tab = "";
	    _skipNL = false;
	    boolean bHasContents = false;
	    boolean bIsESPI = false;
	    
	    PrivConvert(rootNode, file,tab,bHasContents,bIsESPI,convType,strEntryName);
	    
	}

	private static boolean listAllAttributes(Element element,PrintWriter file,int convType,String strEntryName) {
		
		boolean bHasAttribs = false;

		NamedNodeMap attributes = element.getAttributes();
		
		int numAttrs = attributes.getLength();

		for (int i = 0; i < numAttrs; i++) 
		{
			Attr attr = (Attr) attributes.item(i);
			
			String attrName = attr.getNodeName();
			
			if(!attrName.equals("xmlns"))
			{
				String attrValue = attr.getNodeValue();

				if(attrName.equals("href"))
				{
					// replace RetailCustomer with Subscription
					attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}","/Subscription/" + _subscriptionId);
					
					if(convType==ConvType.ENTRY)
					{

						//attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}","/RetailCustomer/" + _retailCustomerId);
						attrValue = attrValue.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}","/Subscription/" + _subscriptionId);
						attrValue = attrValue.replaceAll("/UsagePoint\\/[0-9A-Fa-f]{1,20}","/UsagePoint/" + _usagePointId);
						attrValue = attrValue.replaceAll("/MeterReading\\/[0-9A-Fa-f]{1,20}","/MeterReading/" + _meterReadingId);
						attrValue = attrValue.replaceAll("/ReadingType\\/[0-9A-Fa-f]{1,20}","/ReadingType/" + _readingTypeId);
						attrValue = attrValue.replaceAll("/IntervalBlock\\/[0-9A-Fa-f]{1,20}","/IntervalBlock/" + _intervalBlockId);
						attrValue = attrValue.replaceAll("/resource\\/[0-9A-Fa-f]{1,20}","/resource/" + _resourceId);
						attrValue = attrValue.replaceAll("/ElectricPowerUsageSummary\\/[0-9A-Fa-f]{1,20}","/ElectricPowerUsageSummary/" + _ElectricPowerUsageSummaryId);
						attrValue = attrValue.replaceAll("/ElectricPowerQualitySummary\\/[0-9A-Fa-f]{1,20}","/ElectricPowerQualitySummary/" + _ElectricPowerQualitySummaryId);
						attrValue = attrValue.replaceAll("/LocalTimeParameters\\/[0-9A-Fa-f]{1,20}","/LocalTimeParameters/" + _localTimeParametersID);
						
					}
					else if(convType==ConvType.ROOT_ENTRY)
					{
						if(strEntryName.equals("IntervalBlock")) {

							attrValue = attrValue.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}/MeterReading\\/[0-9A-Fa-f]{1,20}","");						
							//attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}/MeterReading\\/[0-9A-Fa-f]{1,20}","");						
							attrValue = attrValue.replaceAll("/IntervalBlock\\/[0-9A-Fa-f]{1,20}","/IntervalBlock/" + _intervalBlockId);
						}
						else if(strEntryName.equals("UsagePoint")) {
							
							attrValue = attrValue.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}","");
							//attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}","");
							attrValue = attrValue.replaceAll("/UsagePoint\\/[0-9A-Fa-f]{1,20}","/UsagePoint/" + _usagePointId);
						}
						else if(strEntryName.equals("MeterReading")) {

							attrValue = attrValue.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
							//attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
							attrValue = attrValue.replaceAll("/MeterReading\\/[0-9A-Fa-f]{1,20}","/MeterReading/" + _meterReadingId);
						}
						else if(strEntryName.equals("ElectricPowerUsageSummary")) {
							
							attrValue = attrValue.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
							//attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
							attrValue = attrValue.replaceAll("/ElectricPowerUsageSummary\\/[0-9A-Fa-f]{1,20}","/ElectricPowerUsageSummary/" + _ElectricPowerUsageSummaryId);
								
						}
						else if(strEntryName.equals("ElectricPowerQualitySummary")) {
							
							attrValue = attrValue.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
							//attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
							attrValue = attrValue.replaceAll("/ElectricPowerQualitySummary\\/[0-9A-Fa-f]{1,20}","/ElectricPowerQualitySummary/" + _ElectricPowerQualitySummaryId);					
						}
						else if(strEntryName.equals("LocalTimeParameters")) {
							
							attrValue = attrValue.replaceAll("/Subscription\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
							//attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}/UsagePoint\\/[0-9A-Fa-f]{1,20}","");
							attrValue = attrValue.replaceAll("/LocalTimeParameters\\/[0-9A-Fa-f]{1,20}","/LocalTimeParameters/" + _localTimeParametersID);					
						}						
						else
						{
							
//							attrValue = attrValue.replaceAll("/RetailCustomer\\/[0-9A-Fa-f]{1,20}","/RetailCustomer/" + _retailCustomerId);
							attrValue = attrValue.replaceAll("/UsagePoint\\/[0-9A-Fa-f]{1,20}","/UsagePoint/" + _usagePointId);
							attrValue = attrValue.replaceAll("/LocalTimeParameters\\/[0-9A-Fa-f]{1,20}","/LocalTimeParameters/" + _localTimeParametersID);							
							attrValue = attrValue.replaceAll("/MeterReading\\/[0-9A-Fa-f]{1,20}","/MeterReading/" + _meterReadingId);
							attrValue = attrValue.replaceAll("/ReadingType\\/[0-9A-Fa-f]{1,20}","/ReadingType/" + _readingTypeId);
							attrValue = attrValue.replaceAll("/IntervalBlock\\/[0-9A-Fa-f]{1,20}","/IntervalBlock/" + _intervalBlockId);
							attrValue = attrValue.replaceAll("/resource\\/[0-9A-Fa-f]{1,20}","/resource/" + _resourceId);							
						}					
					}

					attrValue = _baseEndpoint + attrValue;
				}
				
				file.print(" " + attrName + "=\"" + attrValue + "\"");
				
				bHasAttribs = true;
			}
		}
		
		return bHasAttribs;
		
	}
	
	private static PrivConvert(Node rootNode,PrintWriter file, String tab,boolean bHasContents,boolean bIsESPI,int convType,String strEntryName) {
		
		if(rootNode.getNodeType()==Node.ELEMENT_NODE) {

			String strNodeName = rootNode.getNodeName();

			if(bIsESPI)
			{
				strNodeName = "espi:" + strNodeName;
			}
			else
			{
//				strNodeName = "ns3:" + strNodeName;	
			}
			
			file.print("\n" + tab + "<" + strNodeName);	

			if(strNodeName.equals("ns3:entry"))
			{
				file.print(" xmlns:espi=\"http://naesb.org/espi\" xmlns:ns3=\"http://www.w3.org/2005/Atom\"");
			}
			else
			{
				file.print(" xmlns:espi=\"http://naesb.org/espi\" xmlns=\"http://www.w3.org/2005/Atom\"");
			}
			
			listAllAttributes(rootNode,file,convType,strEntryName);
		}

		if(rootNode.getNodeName().equals("content"))
		{
			bIsESPI = true;
		}

		if(rootNode.getNodeName().equals("IntervalBlock"))
		{
			_intervalBlockId++;
		}
	    
		NodeList nl = rootNode.getChildNodes();
		
		if(nl.getLength()>0) {

			bHasContents = true;
			file.print(">");
			for (int i = 0; i < nl.getLength(); i++) {
				PrivConvert(nl.item(i),file, tab + "   ",bHasContents,bIsESPI,convType,strEntryName);
			}
			
		} else {

			if(rootNode.getNodeType()!=Node.COMMENT_NODE){
				if(rootNode.getNodeValue()!=null) {
					
					file.print(rootNode.getNodeValue().trim());
		
					if(rootNode.getNodeValue().trim() !="") {
						bHasContents = true;
						_skipNL = true;
					} else {
						_skipNL = false;
					}
				} else {
					
					bHasContents = false;
					_skipNL = true;
				}				
			}

		}
	    
		if(rootNode.getNodeType()==Node.ELEMENT_NODE){
			
			if(!_skipNL) {
				file.print("\n" + tab);
			}
			
			_skipNL = false;
			
			if(bHasContents) {

				String strNodeName = rootNode.getNodeName();

				if(strNodeName.equals("content"))
				{
					bIsESPI = false;
				}
	
				if(bIsESPI)
				{
					strNodeName = "espi:" + strNodeName;
				}
				else
				{
//					strNodeName = "ns3:" + strNodeName;	
				}	
				
				file.print("</"+strNodeName+">");
				
			} else {
				file.print("/>");
			}
		}
	}
}

///////////////////////////////
// 
//	Main Body
//
///////////////////////////////

	def project = testRunner.testCase.testSuite.project;
	def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
	def projectPath = groovyUtils.projectPath	
	
	def BaseURL = project.getPropertyValue("BaseURL")
	def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
	def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
	def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
	def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
	
	def TestFile = projectPath + "/../data/" + project.getPropertyValue("TestFile");
	def String StoragePath = projectPath + "/../data/testSets/";

	//ServiceEndpointDataCustodian = ServiceEndpointDataCustodian.replace("http:","https:");
	
	DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
	DocumentBuilder db = dbf.newDocumentBuilder();	
	
	try {
			
		Document doc = db.parse(TestFile);
		Element feed = doc.getDocumentElement();
		
		XMLHelper.ConvertToEntry(ServiceEndpointDataCustodian,feed,StoragePath,log);
		//XMLHelper.ConvertToRootEntry(ServiceEndpointDataCustodian,feed,StoragePath,log);
		
		
	}
	catch(ParserConfigurationException pce) {
		//pce.printStackTrace();
		log.error("Parser configureation exception occurred");
	}
	catch(SAXException se) {
		//se.printStackTrace();
		log.error("SAX exception occurred");
	}
	catch(IOException ioe) {
		//ioe.printStackTrace();
		log.error("IO exception occurred");
	}
	
	return;]]></script></con:config>
		</con:testStep>
		<con:testStep type="groovy" name="testType1_RestVerbs after XPATH Posts" id="d49252f1-d087-4c49-adc5-3d225390100f">
			<con:settings/>
			<con:config>
				<script>import org.openqa.selenium.*;


					public boolean ServiceTest(String strTestType,boolean bShouldPass,String strFileName)
					{
					def project = testRunner.testCase.testSuite.project

					tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"]
					tc.setPropertyValue("resourceTestFileName", strFileName)
					tc.setPropertyValue("testType", strTestType)
					tc.setPropertyValue("default_access_token",project.getPropertyValue("data_custodian_access_token"));

					if(bShouldPass) {
					tc.setPropertyValue("testShouldPass", "TRUE")
					}
					else {
					tc.setPropertyValue("testShouldPass", "FALSE")
					}

					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['ResourceTestScripts'].testSteps['resourceTests']);

					String strResult = tc.getPropertyValue("testFailed");	

					boolean bResult = false;

					if(strResult.equals("TRUE")) {
					bResult = true;
					}

					return bResult;
					}

					///////////////////////////////
					// 
					//	Main Body
					//
					///////////////////////////////

					//*********************************************************
					log.info("Init DB");
					//*********************************************************
					// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
					// Create Subscription to use in path methods
					testRunner.testCase.testSuite.project.testSuites['Library'].testCases['AuthorizeSubcscription'].run(null, false);


					boolean bTestFailed =false;


					bTestFailed = ServiceTest("PostXPATH",true,"entry_LocalTimeParameters_1.xml");
					bTestFailed = ServiceTest("PostXPATH",true,"entry_ReadingType_3.xml");

					bTestFailed = ServiceTest("PostXPATH",true,"entry_UsagePoint_0.xml");
					bTestFailed = ServiceTest("PostXPATH",true,"entry_MeterReading_2.xml");	
					bTestFailed = ServiceTest("PostXPATH",true,"entry_IntervalBlock_4.xml");
					bTestFailed = ServiceTest("PostXPATH",true,"entry_ElectricPowerUsageSummary_18.xml");
					bTestFailed = ServiceTest("PostXPATH",true,"entry_ElectricPowerQualitySummary_19.xml");

					bTestFailed = ServiceTest("TestType1XPATH",true,"entry_ElectricPowerQualitySummary_19.xml");
					bTestFailed = ServiceTest("TestType1XPATH",true,"entry_ElectricPowerUsageSummary_18.xml");
					bTestFailed = ServiceTest("TestType1XPATH",true,"entry_IntervalBlock_4.xml");
					bTestFailed = ServiceTest("TestType1XPATH",true,"entry_MeterReading_2.xml");
					bTestFailed = ServiceTest("TestType1XPATH",true,"entry_UsagePoint_0.xml");

					bTestFailed = ServiceTest("TestType1XPATH",true,"entry_LocalTimeParameters_1.xml");
					bTestFailed = ServiceTest("TestType1XPATH",true,"entry_ReadingType_3.xml");


					return;
				</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="testType1_RestVerbs after ROOT Posts (link UP after POST)" id="6c670c78-234b-4acb-b90b-35265d6f6cdf">
			<con:settings/>
			<con:config>
				<script>import org.openqa.selenium.*;

					import org.greenbutton.cmd.utils.DriverHelper;

					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath

					def BaseURL = project.getPropertyValue("BaseURL")
					def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
					def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
					def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
					def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
					def TestManager=project.getPropertyValue("TestManager")
					def TestManagerPW=project.getPropertyValue("TestManagerPW")
					def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
					def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
					def TestFile=projectPath + "/../data/" + project.getPropertyValue("TestFile")
					def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
					def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");




					public boolean ServiceTest(String strTestType,boolean bShouldPass,String strFileName)
					{
					tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"]
					tc.setPropertyValue("resourceTestFileName", strFileName)
					tc.setPropertyValue("testType", strTestType)

					if(bShouldPass) {
					tc.setPropertyValue("testShouldPass", "TRUE")
					}
					else {
					tc.setPropertyValue("testShouldPass", "FALSE")
					}

					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['ResourceTestScripts'].testSteps['resourceTests']);

					String strResult = tc.getPropertyValue("testFailed");	

					boolean bResult = false;

					if(strResult.equals("TRUE")) {
					bResult = true;
					}

					return bResult;
					}

					///////////////////////////////
					// 
					//	Main Body
					//
					///////////////////////////////

					//*********************************************************
					log.info("Init DB");
					//*********************************************************
					// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);

					boolean bTestFailed =false;


					bTestFailed = ServiceTest("PostROOT",true,"entry_LocalTimeParameters_1.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ReadingType_3.xml");

					// First test LocalTimeParamters and ReadingType in isolation
					//	bTestFailed = ServiceTest("TestType1ROOT",true,"entry_LocalTimeParameters_1.xml");
					//	bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ReadingType_3.xml");	
					// put back key resources to enable rest of resource tests
					//	bTestFailed = ServiceTest("PostROOT",true,"entry_LocalTimeParameters_1.xml");
					//	bTestFailed = ServiceTest("PostROOT",true,"entry_ReadingType_3.xml");

					bTestFailed = ServiceTest("PostROOT",true,"entry_UsagePoint_0.xml");


					//*********************************************************
					log.info("Link UsagePoint to RetailCustomer and Subscription");
					//*********************************************************
					DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

					try{
					// Browser Init
					driver.Before();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Given a Retail Customer with Usage Points");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
					driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

					// add usage point linkage
					driver.findElement(By.linkText("Customer List")).click();
					driver.findElement(By.linkText(TestRetailCustomer)).click();	
					driver.findElement(By.partialLinkText("Add Usage")).click();	
					driver.findElement(By.id("UUID")).clear();
					driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
					driver.findElement(By.name("create")).click();

					} catch(Exception e) {
					testRunner.fail(driver.getErrorString())
					}

					//Close the browser
					driver.quit();	

					// Create Subscription to use in path methods
					testRunner.testCase.testSuite.project.testSuites['Library'].testCases['AuthorizeSubcscription'].run(null, false);
					//*********************************************************
					//*********************************************************


					bTestFailed = ServiceTest("PostROOT",true,"entry_MeterReading_2.xml");	
					bTestFailed = ServiceTest("PostROOT",true,"entry_IntervalBlock_4.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ElectricPowerUsageSummary_18.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ElectricPowerQualitySummary_19.xml");

					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ElectricPowerQualitySummary_19.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ElectricPowerUsageSummary_18.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_IntervalBlock_4.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_MeterReading_2.xml");

					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_UsagePoint_0.xml");


					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_LocalTimeParameters_1.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ReadingType_3.xml");	

					return;</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="testType1_RestVerbs after ROOT Posts (link UP before POST)" id="6e5218a1-d68c-4092-bd2b-c762f7c89140">
			<con:settings/>
			<con:config>
				<script>import org.openqa.selenium.*;

					import org.greenbutton.cmd.utils.DriverHelper;

					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath

					def BaseURL = project.getPropertyValue("BaseURL")
					def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
					def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
					def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
					def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
					def TestManager=project.getPropertyValue("TestManager")
					def TestManagerPW=project.getPropertyValue("TestManagerPW")
					def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
					def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
					def TestFile=projectPath + "/../data/" + project.getPropertyValue("TestFile")
					def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
					def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");




					public boolean ServiceTest(String strTestType,boolean bShouldPass,String strFileName)
					{
					tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"]
					tc.setPropertyValue("resourceTestFileName", strFileName)
					tc.setPropertyValue("testType", strTestType)

					if(bShouldPass) {
					tc.setPropertyValue("testShouldPass", "TRUE")
					}
					else {
					tc.setPropertyValue("testShouldPass", "FALSE")
					}

					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['ResourceTestScripts'].testSteps['resourceTests']);

					String strResult = tc.getPropertyValue("testFailed");	

					boolean bResult = false;

					if(strResult.equals("TRUE")) {
					bResult = true;
					}

					return bResult;
					}

					///////////////////////////////
					// 
					//	Main Body
					//
					///////////////////////////////
					/*

					*/
					//*********************************************************
					log.info("Init DB");
					//*********************************************************
					// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);

					bTestFailed = ServiceTest("PostROOT",true,"entry_LocalTimeParameters_1.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ReadingType_3.xml");


					DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

					try{
					// Browser Init
					driver.Before();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Given a Retail Customer with Usage Points");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
					driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

					// add usage point linkage
					driver.findElement(By.linkText("Customer List")).click();
					driver.findElement(By.linkText(TestRetailCustomer)).click();	
					driver.findElement(By.partialLinkText("Add Usage")).click();	
					driver.findElement(By.id("UUID")).clear();
					driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
					driver.findElement(By.name("create")).click();

					} catch(Exception e) {
					testRunner.fail(driver.getErrorString())
					}

					//Close the browser
					driver.quit();	

					// Create Subscription to use in path methods
					testRunner.testCase.testSuite.project.testSuites['Library'].testCases['AuthorizeSubcscription'].run(null, false);
					//*********************************************************
					//*********************************************************

					bTestFailed = ServiceTest("PostROOT",true,"entry_UsagePoint_0.xml");

					bTestFailed = ServiceTest("PostROOT",true,"entry_MeterReading_2.xml");	
					bTestFailed = ServiceTest("PostROOT",true,"entry_IntervalBlock_4.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ElectricPowerUsageSummary_18.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ElectricPowerQualitySummary_19.xml");

					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ElectricPowerQualitySummary_19.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ElectricPowerUsageSummary_18.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_IntervalBlock_4.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_MeterReading_2.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_UsagePoint_0.xml");

					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_LocalTimeParameters_1.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ReadingType_3.xml");	

					return;</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="testType1_RestVerbs after ROOT Posts (POST UP via XPATH)" id="b6605af6-c65a-45ce-a720-4da697a1d868">
			<con:settings/>
			<con:config>
				<script>import org.openqa.selenium.*;




					public boolean ServiceTest(String strTestType,boolean bShouldPass,String strFileName)
					{
					tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"]
					tc.setPropertyValue("resourceTestFileName", strFileName)
					tc.setPropertyValue("testType", strTestType)

					if(bShouldPass) {
					tc.setPropertyValue("testShouldPass", "TRUE")
					}
					else {
					tc.setPropertyValue("testShouldPass", "FALSE")
					}

					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['ResourceTestScripts'].testSteps['resourceTests']);

					String strResult = tc.getPropertyValue("testFailed");	

					boolean bResult = false;

					if(strResult.equals("TRUE")) {
					bResult = true;
					}

					return bResult;
					}

					///////////////////////////////
					// 
					//	Main Body
					//
					///////////////////////////////
					/*

					*/
					//*********************************************************
					log.info("Init DB");
					//*********************************************************
					// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
					// Create Subscription to use in path methods
					testRunner.testCase.testSuite.project.testSuites['Library'].testCases['AuthorizeSubcscription'].run(null, false);

					bTestFailed = ServiceTest("PostROOT",true,"entry_LocalTimeParameters_1.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ReadingType_3.xml");

					bTestFailed = ServiceTest("PostXPATH",true,"entry_UsagePoint_0.xml");

					bTestFailed = ServiceTest("PostROOT",true,"entry_MeterReading_2.xml");	
					bTestFailed = ServiceTest("PostROOT",true,"entry_IntervalBlock_4.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ElectricPowerUsageSummary_18.xml");
					bTestFailed = ServiceTest("PostROOT",true,"entry_ElectricPowerQualitySummary_19.xml");

					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ElectricPowerQualitySummary_19.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ElectricPowerUsageSummary_18.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_IntervalBlock_4.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_MeterReading_2.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_UsagePoint_0.xml");

					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_LocalTimeParameters_1.xml");
					bTestFailed = ServiceTest("TestType1ROOT",true,"entry_ReadingType_3.xml");	

					return;</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="testType3_SequentialUploads" id="b4aa6820-99e8-4287-a68e-8533aa56a998">
			<con:settings/>
			<con:config><script>import org.xml.sax.SAXException;
					import org.w3c.dom.*;
					import javax.xml.parsers.*;
					import javax.xml.xpath.*;
					import java.util.HashMap;
					import java.util.Iterator;
					import java.util.Map;
					import javax.xml.namespace.NamespaceContext;


					public class SimpleNamespaceContext implements NamespaceContext {

					private final Map&lt;String, String> PREF_MAP = new HashMap&lt;String, String>();

			public SimpleNamespaceContext(final Map&lt;String, String> prefMap) {
		PREF_MAP.putAll(prefMap);       
		}

		public String getNamespaceURI(String prefix) {
		return PREF_MAP.get(prefix);
		}

		public String getPrefix(String uri) {
		throw new UnsupportedOperationException();
		}

		public Iterator getPrefixes(String uri) {
		throw new UnsupportedOperationException();
		}

		}

		public boolean ServiceTest(String strTestType,boolean bShouldPass,String strFileName,String strResource,String strOutputFile)
		{
		tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"]
		tc.setPropertyValue("resourceTestFileName", strFileName)
		tc.setPropertyValue("testType", strTestType)
		tc.setPropertyValue("resourceOutputFileName", strOutputFile)
		tc.setPropertyValue("resource", strResource)

		if(bShouldPass) {
		tc.setPropertyValue("testShouldPass", "TRUE")
		}
		else {
		tc.setPropertyValue("testShouldPass", "FALSE")
		}

		testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['ResourceTestScripts'].testSteps['resourceTests']);

		String strResult = tc.getPropertyValue("testFailed");	

		boolean bResult = false;

		if(strResult.equals("TRUE")) {
		bResult = true;
		}

		return bResult;
		}


		///////////////////////////////
		// 
		//	Main Body
		//
		///////////////////////////////

		def project = testRunner.testCase.testSuite.project
		def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
		def projectPath = groovyUtils.projectPath


		DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();
		domFactory.setNamespaceAware(true); 
		DocumentBuilder builder = domFactory.newDocumentBuilder();

		XPath xpath = XPathFactory.newInstance().newXPath();

		// add namespaces
		HashMap&lt;String, String> prefMap = new HashMap&lt;String, String>() {{
put("espi", "http://naesb.org/espi");
put("ns3", "http://www.w3.org/2005/Atom");
}};

SimpleNamespaceContext namespaces = new SimpleNamespaceContext(prefMap);

xpath.setNamespaceContext(namespaces);	

//*********************************************************
log.info("Init DB");
//*********************************************************
// reset DB : run library groovy script
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);

log.info("*********************************************************");
log.info("upload usage data 1 using curl");
log.info("*********************************************************");
tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["GeneralScripts"];
tc.setPropertyValue("uploadFile", "Meter_Data_12-30-2013_01-05-2014.xml");
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['curlUpload']);

boolean bTestFailed = ServiceTest("GetSaveResponse",true,null,"espi/1_1/resource/IntervalBlock","test_get_block.xml");	
String strOutputDataFile = projectPath + "/../data/" + "test_get_block.xml";
String strExpr = "";

if(!bTestFailed){

Document docResponse = builder.parse(strOutputDataFile);

strExpr = "/ns3:feed/ns3:entry";
XPathExpression expr = xpath.compile(strExpr);
NodeList nlNodes = (NodeList) expr.evaluate(docResponse,XPathConstants.NODESET);

log.info("Retrieved " + nlNodes.getLength() + " Entries");
if(nlNodes.getLength()!=2)
{
log.error("Response did not contain the correct number of Entries.");
}

strExpr = "/ns3:feed/ns3:entry/ns3:content/espi:IntervalBlock";
expr = xpath.compile(strExpr);
nlNodes = (NodeList) expr.evaluate(docResponse,XPathConstants.NODESET);

log.info("Retrieved " + nlNodes.getLength() + " IntervalBlocks");	
if(nlNodes.getLength()!=2)
{
log.error("Response did not contain the correct number of IntervalBlocks.");
}		

strExpr = "/ns3:feed/ns3:entry/ns3:content/espi:IntervalBlock/espi:IntervalReading";
expr = xpath.compile(strExpr);
nlNodes = (NodeList) expr.evaluate(docResponse,XPathConstants.NODESET);

log.info("Retrieved " + nlNodes.getLength() + " IntervalReadings");
if(nlNodes.getLength()!=20160)
{
log.error("Response did not contain the correct number of IntervalReadings.");
}	

try{

File file = new File(strOutputDataFile);

file.delete();

} catch(Exception e) {

log.error("Error deleing temp file:" + e.getMessage());
}

}
else
{
return;
}

log.info("*********************************************************");
log.info("upload usage data 2 using curl");
log.info("*********************************************************");
tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["GeneralScripts"];
tc.setPropertyValue("uploadFile", "Meter_Data_01-06-2014_01-12-2014.xml");
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['curlUpload']);

bTestFailed = ServiceTest("GetSaveResponse",true,null,"espi/1_1/resource/IntervalBlock","test_get_block2.xml");	
strOutputDataFile = projectPath + "/../data/" + "test_get_block2.xml";
strExpr = "";

if(!bTestFailed){

Document docResponse = builder.parse(strOutputDataFile);

strExpr = "/ns3:feed/ns3:entry";
XPathExpression expr = xpath.compile(strExpr);
NodeList nlNodes = (NodeList) expr.evaluate(docResponse,XPathConstants.NODESET);

log.info("Retrieved " + nlNodes.getLength() + " Entries");
if(nlNodes.getLength()!=4)
{
log.error("Response did not contain the correct number of Entries.");
}

strExpr = "/ns3:feed/ns3:entry/ns3:content/espi:IntervalBlock";
expr = xpath.compile(strExpr);
nlNodes = (NodeList) expr.evaluate(docResponse,XPathConstants.NODESET);

log.info("Retrieved " + nlNodes.getLength() + " IntervalBlocks");
if(nlNodes.getLength()!=4)
{
log.error("Response did not contain the correct number of IntervalBlocks.");
}				

strExpr = "/ns3:feed/ns3:entry/ns3:content/espi:IntervalBlock/espi:IntervalReading";
expr = xpath.compile(strExpr);
nlNodes = (NodeList) expr.evaluate(docResponse,XPathConstants.NODESET);

log.info("Retrieved " + nlNodes.getLength() + " IntervalReadings");
if(nlNodes.getLength()!=40320)
{
log.error("Response did not contain the correct number of IntervalReadings.");
}		

try{

File file = new File(strOutputDataFile);

file.delete();

} catch(Exception e) {

log.error("Error deleing temp file:" + e.getMessage());
}		
}
else
{
return;
}

return;
</script></con:config>
</con:testStep>
<con:testStep type="groovy" name="testType2_embeddedLinkTests" id="1dd738e2-f7ea-409c-a4f9-4d11c45239cc">
	<con:settings/>
	<con:config>
		<script>import org.openqa.selenium.*;



			public boolean ServiceTest(String strTestType,boolean bShouldPass,String strFileName)
			{
			tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"]
			tc.setPropertyValue("resourceTestFileName", strFileName)
			tc.setPropertyValue("testType", strTestType)

			if(bShouldPass) {
			tc.setPropertyValue("testShouldPass", "TRUE")
			}
			else {
			tc.setPropertyValue("testShouldPass", "FALSE")
			}

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['ResourceTestScripts'].testSteps['resourceTests']);

			String strResult = tc.getPropertyValue("testFailed");	

			boolean bResult = false;

			if(strResult.equals("TRUE")) {
			bResult = true;
			}

			return bResult;
			}


			/*
			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def BaseURL = project.getPropertyValue("BaseURL")
			def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
			def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
			def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
			def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
			def TestManager=project.getPropertyValue("TestManager")
			def TestManagerPW=project.getPropertyValue("TestManagerPW")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
			def TestFile=projectPath + "/../data/" + project.getPropertyValue("TestFile")
			def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
			def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

			Object driver = this.class.classLoader.parseClass(new File(projectPath + "/etc/BaseStepUtils.groovy")).GetObj(BaseURL,DataCustodianContext,ThirdPartyContext,log);
			*/

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////

			//*********************************************************
			log.info("Init DB");
			//*********************************************************
			// reset DB : run library groovy script
			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);

			log.info("*********************************************************");
			log.info("upload usage data using curl");
			log.info("*********************************************************");
			// reset DB : run library groovy script

			tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["GeneralScripts"]
			tc.setPropertyValue("uploadFile", "test_usage_data.xml")	
			tc.setPropertyValue("retailCustomerId","1")
			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['curlUpload']);

			// Create Subscription to use in path methods
			testRunner.testCase.testSuite.project.testSuites['Library'].testCases['AuthorizeSubcscription'].run(null, false);


			/*
			try{
			// Browser Init
			driver.Before();

			//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
			driver.logStep("Link Usage Point to Retail Customer");
			//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
			driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
			driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

			// add usage point linkage
			driver.findElement(By.linkText("Customer List")).click();
			driver.findElement(By.linkText(TestRetailCustomer)).click();	
			driver.findElement(By.partialLinkText("Add Usage")).click();	
			driver.findElement(By.id("UUID")).clear();
			driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
			driver.findElement(By.id("description")).clear();
			driver.findElement(By.id("description")).sendKeys(usagePointDescription1);
			driver.findElement(By.name("create")).click();

			// upload usage point file
			//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
			driver.logStep("upload usage point file");
			//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////	
			driver.findElement(By.linkText("Upload")).click();	
			driver.findElement(By.name("file")).sendKeys(TestFile);

			driver.findElement(By.name("upload")).click();	
			driver.assertDoesNotContain("Unable to process file");

			driver.logout(ServiceEndpointDataCustodian);

			} catch(Exception e) {
			testRunner.fail(driver.getErrorString())
			}

			//Close the browser
			driver.quit();
			*/

			log.info("*********************************************************");
			log.info("GETS and get links");
			log.info("*********************************************************");
			bTestFailed = ServiceTest("GetROOTAndLinks",true,"entry_UsagePoint_0.xml");
			bTestFailed = ServiceTest("GetROOTAndLinks",true,"entry_LocalTimeParameters_1.xml");
			bTestFailed = ServiceTest("GetROOTAndLinks",true,"entry_MeterReading_2.xml");
			bTestFailed = ServiceTest("GetROOTAndLinks",true,"entry_ReadingType_3.xml");
			bTestFailed = ServiceTest("GetROOTAndLinks",true,"entry_ElectricPowerUsageSummary_18.xml");
			bTestFailed = ServiceTest("GetROOTAndLinks",true,"entry_ElectricPowerQualitySummary_19.xml");
			bTestFailed = ServiceTest("GetROOTAndLinks",true,"entry_IntervalBlock_4.xml");

			return;
		</script>
	</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Feature: Retail Customers" searchProperties="true" id="fa3949ff-a0a7-4274-ace9-674a8169ebd4" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="">
	<con:settings/>
	<con:testStep type="groovy" name="Feature: Retail Customers" id="12644c5b-93b0-4cea-9bac-0527c9b0b407">
		<con:settings/>
		<con:config>
			<script>//******************************************************************************************************************
				//******************************************************************************************************************
				log.info("Feature: Retail Customers");
				log.info("  As a Retail Customer,");
				log.info("  I want to be able to view my usage point in my browser");
				log.info("  So that I can see my UsagePoints");
				//******************************************************************************************************************
				//******************************************************************************************************************
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer authorizes Usage Points access (reg UP before upload)" id="86ff38b6-a81e-4330-a5a6-2fed2fb15c2d">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;

				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

				driver._bLogActions = true;


				try{
				//*********************************************************
				log.info("Scenario: Retail Customer authorizes Usage Points access");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given a Retail Customer with Usage Points");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();

				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);
				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");

				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				/*
				* 	old software behaved differently- it would route the use to the DC page
				* 	Instread of showwing no authorized usage points
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I look at my Usage Points page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Usage Points")).click();	
				*/

				// Corrected to the following step
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I look at my Data Custodians page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see Data Custodian selection page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertUrlEndsWith("/DataCustodianList");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("And I select a Data Custodian from the list");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();	

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I log into Data Custodian");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
				driver.findElement(By.name("submit")).click();		

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
//				driver.assertContains("FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13");
				driver.assertContains("FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I select Scopes");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.className("scope")).click();	
				driver.findElement(By.xpath("(//input[@name='scope'])[1]")).click();	
				driver.findElement(By.name("next")).click();	

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see authorization screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Please Confirm");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I authorize Third Party");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				//	driver.findElement(By.name("authorize")).click();	
//				driver.findElement(By.name("scope.FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();

				driver.findElement(By.name("authorize")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see all my authorizations");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Authorizations");
				driver.assertContains("data_custodian");
				driver.assertContains("DataCustodian/espi/1_1/resource/Batch/Subscription/");


				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I look at my Usage Points page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Usage Points")).click();	        

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see a Usage Point");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains(usagePointDescription1);

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();


			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer authorizes Usage Points access" id="d51e18e6-2d8f-4a20-b37f-f68632baf6f2">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath

				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

				driver._bLogActions = true;

				try{
				//*********************************************************
				log.info("Scenario: Retail Customer authorizes Usage Points access");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given a Retail Customer with Usage Points");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");


				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);
				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");


				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();


				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				/*
				* 	old software behaved differently- it would route the use to the DC page
				* 	Instread of showwing no authorized usage points
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I look at my Usage Points page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Usage Points")).click();	
				*/

				// Corrected to the following step
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I look at my Data Custodians page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see Data Custodian selection page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertUrlEndsWith("/DataCustodianList");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("And I select a Data Custodian from the list");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();	

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I log into Data Custodian");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
				driver.findElement(By.name("submit")).click();		

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
				driver.assertContains("FB=");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I select Scopes");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.className("scope")).click();	
				driver.findElement(By.xpath("(//input[@name='scope'])[2]")).click();	
				driver.findElement(By.name("next")).click();	

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see authorization screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Please Confirm");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I authorize Third Party");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				//	driver.findElement(By.name("authorize")).click();	
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click();


				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see all my authorizations");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Authorizations");
				driver.assertContains("data_custodian");
				driver.assertContains("DataCustodian/espi/1_1/resource/Batch/Subscription/");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I look at my Usage Points page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Usage Points")).click();	        

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see a Usage Point");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains(usagePointDescription1);

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();


			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer views Usage Points with Meter Readings" id="d6637e99-bbe3-4cb9-b3af-2a6b5004e3a2">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

				//driver._bLogActions = true;


				try{
				//*********************************************************
				log.info("Scenario: Retail Customer views Usage Points with Meter Readings");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				///////////////////////////////////////////////////////////  
				driver.logStep("Given a Retail Customer with Usage Points");
				///////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);

				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();


				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				/*
				* 	old software behaved differently- it would route the use to the DC page
				* 	Instread of showwing no authorized usage points
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I look at my Usage Points page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Usage Points")).click();	
				*/

				// Corrected to the following step
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I look at my Data Custodians page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("And I should see Data Custodian selection page");
				///////////////////////////////////////////////////////////
				driver.assertUrlEndsWith("/DataCustodianList");

				///////////////////////////////////////////////////////////
				driver.logStep("And I select a Data Custodian from the list");
				///////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("When I log into Data Custodian");
				///////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
				driver.findElement(By.name("submit")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
				driver.assertContains("FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13");

				///////////////////////////////////////////////////////////
				driver.logStep("When I select Scopes");
				///////////////////////////////////////////////////////////
				driver.findElement(By.className("scope")).click();	
				driver.findElement(By.xpath("(//input[@name='scope'])[2]")).click();	
				driver.findElement(By.name("next")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see authorization screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Please Confirm");

				///////////////////////////////////////////////////////////
				driver.logStep("When I authorize Third Party");
				///////////////////////////////////////////////////////////
				//	driver.findElement(By.name("authorize")).click();	
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click();


				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see all my authorizations");
				///////////////////////////////////////////////////////////
				driver.assertContains("Authorizations");
				driver.assertContains("data_custodian");
				driver.assertContains("DataCustodian/espi/1_1/resource/Batch/Subscription/");

				///////////////////////////////////////////////////////////
				driver.logStep("When I look at my Usage Points page");
				///////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Usage Points")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see a Usage Point");
				///////////////////////////////////////////////////////////
				driver.assertContains(usagePointDescription1);

				///////////////////////////////////////////////////////////
				driver.logStep("When I select Usage Point");
				///////////////////////////////////////////////////////////
				driver.findElement(By.linkText(usagePointDescription1)).click();	        

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see Usage Point details");
				///////////////////////////////////////////////////////////
				driver.assertContains("Usage Summaries");
				driver.assertContains("Quality Summaries");
				driver.assertContains("Local time zone offset from UTCTime");
				driver.assertContains("-18000");

				///////////////////////////////////////////////////////////
				driver.logStep("When I select Meter Reading");
				///////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Fifteen Minute Electricity Consumption")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see Meter Reading details");
				///////////////////////////////////////////////////////////
				driver.assertContains("Fifteen Minute Electricity Consumption");
				driver.assertContains("Type of Meter Reading Data");
				driver.assertContains("86400");
				driver.assertContains("974");
				driver.assertContains("900");
				driver.assertContains("965");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();
			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer authorizes Scope" id="fa6ab5f0-5599-45fc-9364-7cdbd6140067">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

				//driver._bLogActions = true;

				try{
				//*********************************************************
				log.info("Scenario: Retail Customer authorizes Scope");
				//*********************************************************  
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				///////////////////////////////////////////////////////////  
				driver.logStep("Given I have a Retail Customer account");
				///////////////////////////////////////////////////////////
				// Seed Data

				///////////////////////////////////////////////////////////
				driver.logStep("When I log in as Alan Turing into Third Party");
				///////////////////////////////////////////////////////////
				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				///////////////////////////////////////////////////////////
				driver.logStep("And I select a Data Custodian from the list");
				///////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("When I log into Data Custodian");
				///////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
				driver.findElement(By.name("submit")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
				driver.assertContains("FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13");

				///////////////////////////////////////////////////////////
				driver.logStep("When I select Scopes");
				///////////////////////////////////////////////////////////
				driver.findElement(By.className("scope")).click();	
				driver.findElement(By.xpath("(//input[@name='scope'])[2]")).click();	
				driver.findElement(By.name("next")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see authorization screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Please Confirm");

				///////////////////////////////////////////////////////////
				driver.logStep("When I authorize Third Party");
				///////////////////////////////////////////////////////////
				//	driver.findElement(By.name("authorize")).click();	
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click();


				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see all my authorizations");
				///////////////////////////////////////////////////////////
				driver.assertContains("Authorizations");
				driver.assertContains("data_custodian");
				driver.assertContains("DataCustodian/espi/1_1/resource/Batch/Subscription/");


				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();

			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer denies Scope" id="c8afb5f6-b5f3-4f17-9a88-26305ced9e1a">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

				//driver._bLogActions = true;

				try{
				//*********************************************************
				log.info("Scenario: Retail Customer denies Scope");
				//********************************************************* 
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				///////////////////////////////////////////////////////////
				driver.logStep("Given I have a Retail Customer account");
				///////////////////////////////////////////////////////////
				// Seed Data

				///////////////////////////////////////////////////////////
				driver.logStep("When I log in as Alan Turing into Third Party");
				///////////////////////////////////////////////////////////
				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				///////////////////////////////////////////////////////////
				driver.logStep("And I select a Data Custodian from the list");
				///////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("When I log into Data Custodian");
				///////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
				driver.findElement(By.name("submit")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
				driver.assertContains("FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13");

				///////////////////////////////////////////////////////////
				driver.logStep("When I select Scopes");
				///////////////////////////////////////////////////////////
				driver.findElement(By.className("scope")).click();	
				driver.findElement(By.xpath("(//input[@name='scope'])[2]")).click();	
				driver.findElement(By.name("next")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see authorization screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Please Confirm");

				///////////////////////////////////////////////////////////
				driver.logStep("When I deny Third Party");
				///////////////////////////////////////////////////////////
				//	driver.findElement(By.name("deny")).click();
				driver.findElement(By.xpath("html/body/div[2]/form/ul/li/input[2]")).click();	
				driver.findElement(By.name("authorize")).click();

				/// 
				///////////////////////////////////////////////////////////
				driver.logStep("Then I should be redirected to the home page");
				///////////////////////////////////////////////////////////
				driver.assertUrlContains("RetailCustomer");
				driver.assertUrlEndsWith("/home");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();

			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer authorizes Scope from Data Custodian" id="c0cabbd0-fd85-48b3-b7b2-e83bba9c95da">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();

				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);


				//driver._bLogActions = true;

				try{
				//*********************************************************
				log.info("Scenario: Retail Customer authorizes Scope from Data Custodian");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				///////////////////////////////////////////////////////////
				driver.logStep("Given I have a Retail Customer account");
				///////////////////////////////////////////////////////////
				// Seed Data

				///////////////////////////////////////////////////////////
				driver.logStep("When I log in as Alan Turing into Data Custodian");
				///////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestRetailCustomer,TestRetailCustomerPW);

				///////////////////////////////////////////////////////////
				driver.logStep("And I select a Third Party from the list");
				///////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Third Parties")).click();
				driver.findElement(By.className("third-party")).click();
				driver.findElement(By.name("next")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("When I log into Third Party");
				///////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);
				driver.findElement(By.name("submit")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
				driver.assertContains("FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13");

				///////////////////////////////////////////////////////////
				driver.logStep("When I select Scopes");
				///////////////////////////////////////////////////////////
				driver.findElement(By.className("scope")).click();	
				driver.findElement(By.xpath("(//input[@name='scope'])[2]")).click();	
				driver.findElement(By.name("next")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see authorization screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Please Confirm");

				///////////////////////////////////////////////////////////
				driver.logStep("When I authorize Third Party");
				///////////////////////////////////////////////////////////
				//	driver.findElement(By.name("authorize")).click();	
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see all my authorizations");
				///////////////////////////////////////////////////////////
				driver.assertContains("Authorizations");
				driver.assertContains("data_custodian");
				driver.assertContains("DataCustodian/espi/1_1/resource/Batch/Subscription/");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();

			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer denies Scope from Data Custodian" id="af5ace54-0c77-46f1-8331-d2def8021771">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);


				//driver._bLogActions = true;

				try{
				//*********************************************************
				log.info("Scenario: Retail Customer denies Scope from Data Custodian");
				//*********************************************************  
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				///////////////////////////////////////////////////////////
				driver.logStep("Given I have a Retail Customer account");
				///////////////////////////////////////////////////////////
				// Seed Data

				///////////////////////////////////////////////////////////
				driver.logStep("When I log in as Alan Turing into Data Custodian");
				///////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestRetailCustomer,TestRetailCustomerPW);

				///////////////////////////////////////////////////////////
				driver.logStep("And I select a Third Party from the list");
				///////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Third Parties")).click();
				driver.findElement(By.className("third-party")).click();
				driver.findElement(By.name("next")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("When I log into Third Party");
				///////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);
				driver.findElement(By.name("submit")).click();

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
				driver.assertContains("FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13");

				///////////////////////////////////////////////////////////
				driver.logStep("When I select Scopes");
				///////////////////////////////////////////////////////////
				driver.findElement(By.className("scope")).click();	
				driver.findElement(By.xpath("(//input[@name='scope'])[2]")).click();	
				driver.findElement(By.name("next")).click();	

				///////////////////////////////////////////////////////////
				driver.logStep("Then I should see authorization screen");
				///////////////////////////////////////////////////////////
				driver.assertContains("Please Confirm");

				///////////////////////////////////////////////////////////
				driver.logStep("When I deny Third Party");
				///////////////////////////////////////////////////////////
				//	driver.findElement(By.name("deny")).click();		
				driver.findElement(By.xpath("html/body/div[2]/form/ul/li/input[2]")).click();	
				driver.findElement(By.name("authorize")).click();


				///////////////////////////////////////////////////////////
				driver.logStep("Then I should be redirected to the home page");
				///////////////////////////////////////////////////////////
				driver.assertUrlContains("RetailCustomer");
				driver.assertUrlEndsWith("/home");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();


			</script></con:config>
	</con:testStep>
	<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Feature: Notification" searchProperties="true" id="0b86062c-c041-4957-b41a-22a9fcb7ad41" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="">
	<con:settings/>
	<con:testStep type="groovy" name="Feature: Notification" id="abe712c7-c0e6-4a1b-81d4-a39a7d5e9397">
		<con:settings/>
		<con:config>
			<script>//******************************************************************************************************************
				//******************************************************************************************************************
				log.info("Feature: Notification");
				log.info("  As Data Custodian,");
				log.info("  I should be able to notify Third Party about data updates,");
				log.info("  So Third Party can download updated data");
				//******************************************************************************************************************
				//******************************************************************************************************************
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Data Custodian notifies Third Party of updated Subscription" id="ef66d463-1eef-4b29-9d6f-a61d9ece0957">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);


				def TestFile2=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile2"))).getAbsolutePath();
				def usagePointUUID2 = project.getPropertyValue("usagePointUUID2");
				def usagePointDescription2 = project.getPropertyValue("usagePointDescription2");

				//driver._bLogActions = true;
				// how long to wait between each execution step
				//driver._iSleepBetweenStepsMs = 3000;

				try{
				//*********************************************************
				log.info("Scenario: Data Custodian notifies Third Party of updated Subscription");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given a Retail Customer with Usage Points");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);

				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();

				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("And a Third Party with an updated subscription");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logout(ServiceEndpointThirdParty);

				driver.login(ServiceEndpointThirdParty,TestManager,TestManagerPW);

				driver.findElement(By.linkText("Batch Lists")).click();
				driver.assertDoesNotContain("Whoops");

				log.info("The following step may take up to 30 seconds to complete.");
				int OriginalnumberOfSubscriptions = driver.GetNumElsByTagName("h2");
				log.info("Original number of subscriptions=" + OriginalnumberOfSubscriptions);

				driver.logout(ServiceEndpointThirdParty);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();

				driver.submitLoginForm(TestRetailCustomer,TestRetailCustomerPW);

				driver.findElement(By.name("scope")).click();	
				driver.findElement(By.name("next")).click();	
				//driver.findElement(By.name("authorize")).click();	
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click();

				driver.logout(ServiceEndpointDataCustodian);

				driver.logout(ServiceEndpointThirdParty);

				driver.login(ServiceEndpointDataCustodian, TestManager,TestManagerPW);

				// upload usage point file Sweet Usage Point
				driver.findElement(By.linkText("Upload")).click();		
				driver.findElement(By.name("file")).sendKeys(TestFile2);
				driver.findElement(By.name("upload")).click();	

				driver.assertDoesNotContain("Unable to process file");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();		
				driver.findElement(By.linkText(TestRetailCustomer)).click();		
				driver.findElement(By.partialLinkText("Add Usage")).click();
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID2);
				driver.findElement(By.name("create")).click();	

				driver.logout(ServiceEndpointDataCustodian);


				// Check for Notifications
				driver.login(ServiceEndpointThirdParty,TestManager,TestManagerPW);

				driver.findElement(By.linkText("Batch Lists")).click();
				driver.assertDoesNotContain("Whoops");

				log.info("The following step may take up to 30 seconds to complete.");
				OriginalnumberOfSubscriptions = driver.GetNumElsByTagName("h2");
				log.info("Original number of subscriptions=" + OriginalnumberOfSubscriptions);

				if(OriginalnumberOfSubscriptions != 1)
				{
				log.error("did not see autogenerated notification from subscription creation");
				testRunner.fail("unexpected number of subscriptions");
				}

				driver.logout(ServiceEndpointThirdParty);




				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I notify the Third Party");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.findElement(By.linkText("Notify Third Party")).click();	

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then the Third Party should be notified of the update");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logout(ServiceEndpointDataCustodian);
				driver.login(ServiceEndpointThirdParty,TestManager,TestManagerPW);

				driver.assertContains("Welcome");

				driver.findElement(By.linkText("Batch Lists")).click();

				int numberOfSubscriptions = driver.GetNumElsByTagName("h2");

				log.info("New number of subscriptions=" + numberOfSubscriptions);

				if( (numberOfSubscriptions-OriginalnumberOfSubscriptions) != 2)
				{
				log.error("unexpected number of subscriptions");
				testRunner.fail("unexpected number of subscriptions");
				}

				driver.assertContains("/espi/1_1/resource/Batch/Subscription/");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();

			</script></con:config>
	</con:testStep>
	<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Feature: Subscription" searchProperties="true" id="d7224ab1-0cfd-4bae-b06b-87490390bdc2" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="">
	<con:settings/>
	<con:testStep type="groovy" name="Feature: Subscription" id="9b4ea004-dc2f-46a2-b2f5-d8cc64a19d33">
		<con:settings/>
		<con:config>
			<script>//******************************************************************************************************************
				//******************************************************************************************************************
				log.info("Feature: Subscription");
				log.info("  As a Third Party");
				log.info("  I want to access Retail Customer data");
				log.info("  So that I can display Retail Customer data");
				//******************************************************************************************************************
				//******************************************************************************************************************
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Third Party accesses Subscription" id="0d9050c0-d020-43fa-ab62-1bdf7cd9f42a">
		<con:settings/>
		<con:config><script><![CDATA[import org.openqa.selenium.*;
import org.greenbutton.cmd.utils.DriverHelper;

import org.xml.sax.SAXException;
import org.w3c.dom.*;
import javax.xml.parsers.*;
import javax.xml.xpath.*;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import javax.xml.namespace.NamespaceContext;


public class SimpleNamespaceContext implements NamespaceContext {

    private final Map<String, String> PREF_MAP = new HashMap<String, String>();

    public SimpleNamespaceContext(final Map<String, String> prefMap) {
        PREF_MAP.putAll(prefMap);       
    }

    public String getNamespaceURI(String prefix) {
        return PREF_MAP.get(prefix);
    }

    public String getPrefix(String uri) {
        throw new UnsupportedOperationException();
    }

    public Iterator getPrefixes(String uri) {
        throw new UnsupportedOperationException();
    }

}

public boolean ServiceTest(String strTestType,boolean bShouldPass,String strFileName,String strResource,String strOutputFile)
{
	tc = testRunner.testCase.testSuite.project.testSuites["Library"].testCases["ResourceTestScripts"]
	tc.setPropertyValue("resourceTestFileName", strFileName)
	tc.setPropertyValue("testType", strTestType)
	tc.setPropertyValue("resourceOutputFileName", strOutputFile)
	tc.setPropertyValue("resource", strResource)
	
	if(bShouldPass) {
		tc.setPropertyValue("testShouldPass", "TRUE")
	}
	else {
		tc.setPropertyValue("testShouldPass", "FALSE")
	}
	
	testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['ResourceTestScripts'].testSteps['resourceTests']);

	String strResult = tc.getPropertyValue("testFailed");	

	boolean bResult = false;
	
	if(strResult.equals("TRUE")) {
		bResult = true;
	}

	return bResult;
}




def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath
def BaseURL = project.getPropertyValue("BaseURL")
def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
def TestManager=project.getPropertyValue("TestManager")
def TestManagerPW=project.getPropertyValue("TestManagerPW")
def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");


	DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();
	domFactory.setNamespaceAware(true); 
	DocumentBuilder builder = domFactory.newDocumentBuilder();

	XPath xpath = XPathFactory.newInstance().newXPath();
	
	// add namespaces
	HashMap<String, String> prefMap = new HashMap<String, String>() {{
	    put("espi", "http://naesb.org/espi");
	    put("ns3", "http://www.w3.org/2005/Atom");
	}};
	
	SimpleNamespaceContext namespaces = new SimpleNamespaceContext(prefMap);
	
	xpath.setNamespaceContext(namespaces);

DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);


//driver._bLogActions = true;
//driver._iSleepBetweenStepsMs = 2000;

try{
	//*********************************************************
	log.info("Scenario: Third Party accesses Subscription");
	//*********************************************************
	// reset DB : run library groovy script
	testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
	// Browser Init
	driver.Before();

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	driver.logStep("Given a Retail Customer with Usage Points");
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
	driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");


	// upload usage point file
	driver.findElement(By.linkText("Upload")).click();	
	driver.findElement(By.name("file")).sendKeys(TestFile);
		
	driver.findElement(By.name("upload")).click();	
	driver.assertDoesNotContain("Unable to process file");

		
	// add usage point linkage
	driver.findElement(By.linkText("Customer List")).click();
	driver.findElement(By.linkText(TestRetailCustomer)).click();	
	driver.findElement(By.partialLinkText("Add Usage")).click();	
	driver.findElement(By.id("UUID")).clear();
	driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
	driver.findElement(By.name("create")).click();


	driver.logout(ServiceEndpointDataCustodian);
	
	driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	driver.logStep("Given an authorized Third Party");
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);
	driver.findElement(By.linkText("Data Custodians")).click();	
	driver.findElement(By.name("Data_custodian")).click();	
	driver.findElement(By.name("next")).click();
	
	driver.submitLoginForm(TestRetailCustomer,TestRetailCustomerPW);
	
	driver.findElement(By.name("scope")).click();	
	driver.findElement(By.name("next")).click();	

	driver.findElement(By.name("scope.FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();
	driver.findElement(By.name("authorize")).click();

	// logout of Third Party	
	driver.logout(ServiceEndpointThirdParty);

	// logout of DataCustodian	
	driver.logout(ServiceEndpointDataCustodian);
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//driver.logStep("And I log in as Alan Turing into Data Custodian");
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//driver.login(driver.DATA_CUSTODIAN_CONTEXT, "alan", "koala");
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	driver.logStep("When I log in as Alan Turing");
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);
	driver.assertContains("Welcome");
	 
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	driver.logStep("And I request a Subscription using the REST API");
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	driver.findElement(By.linkText("Authorizations")).click();	

	List<WebElement> rows = driver.FindElementsByXpath("//td[@class='subscription_id']");
		
	String subscription = rows.get(rows.size() - 1).getText();
	
//	driver.get(subscription);
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	driver.logStep("Then I should receive XML for that Subscription");
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//	driver.assertXpathExists("/:feed");

	boolean bTestFailed = ServiceTest("GetSaveResponse",true,null,subscription,"test_subscription.xml");
	
	String strOutputDataFile = projectPath + "/../data/" + "test_subscription.xml";
	String strExpr = "";
	
	if(!bTestFailed){

		Document docResponse = builder.parse(strOutputDataFile);

		strExpr = "/ns3:feed/ns3:entry[ns3:id='urn:uuid:" + usagePointUUID1.toLowerCase() + "']";
	
		XPathExpression expr = xpath.compile(strExpr);
		
		NodeList nlNodes = (NodeList) expr.evaluate(docResponse,XPathConstants.NODESET);

		log.info("Retreived " + nlNodes.getLength() + " Entries");
		if(nlNodes.getLength()!=1)
		{
			log.error("Response did not contain the correct number of Entries.");
			testRunner.fail("Response did not contain the correct number of Entries.")
		}
	}
	else
	{
		log.error("Unable to GET subscription resource.");
		testRunner.fail("Unable to GET subscription resource.")		
	}
	

} catch(Exception e) {
	testRunner.fail(driver.getErrorString())
}

//Close the browser
driver.quit();

]]></script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Third Party customer accesses Authorizations page" id="cbec34e4-6a72-4ba4-9d36-fe2d4a18b8f1">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);


				//driver._bLogActions = true;

				try{
				//*********************************************************
				log.info("Scenario: Third Party customer accesses Authorizations page");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given a Retail Customer with Usage Points");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);

				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();

				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given an authorized Third Party");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				//driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();

				driver.submitLoginForm(TestRetailCustomer,TestRetailCustomerPW);

				driver.findElement(By.name("scope")).click();	
				driver.findElement(By.name("next")).click();	

				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();	
				driver.findElement(By.name("authorize")).click();	

				// logout of Third Party	
				driver.logout(ServiceEndpointThirdParty);

				// logout of DataCustodian	
				driver.logout(ServiceEndpointDataCustodian);

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I log in as Alan Turing");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);
				driver.assertContains("Welcome");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("And I navigate to the Authorizations page");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Authorizations")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see a list of Authorizations");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Authorizations");

				List&lt;WebElement> rows = driver.FindElementsByXpath("//td[@class='subscription_id']");
			String subscription = rows.get(rows.size() - 1).getText();

			driver.AssertStringNotEmpty(subscription);

			List&lt;WebElement> rows2 = driver.FindElementsByXpath("//td[@class='subscription_id']");
		String access_token = rows2.get(rows2.size() - 1).getText();	

		driver.AssertStringNotEmpty(access_token);	

		} catch(Exception e) {
		testRunner.fail(driver.getErrorString())
		}

		//Close the browser
		driver.quit();
	</script></con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Feature: OAuth" searchProperties="true" id="fb28775f-2f52-4441-9dd0-0b9b7e7aba02" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="">
	<con:settings/>
	<con:testStep type="groovy" name="Feature: OAuth" id="b5eff940-c23d-4289-b228-1babb20293a2">
		<con:settings/>
		<con:config>
			<script>//******************************************************************************************************************
				//******************************************************************************************************************
				log.info("Feature: OAuth");
				log.info("As Retail Customer, I should be able to see Data Custodian list");
				//******************************************************************************************************************
				//******************************************************************************************************************
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer views Data Custodian list" id="b99a77a7-be4a-4f13-99cc-f8aed3afb22c">
		<con:settings/>
		<con:config>
			<script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

				//driver._bLogActions = true;

				try{

				//*********************************************************
				log.info("Scenario: Retail Customer views Data Custodian list");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given a Retail Customer with Usage Points");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);

				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();


				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I navigate to Data Custodian list");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see a list of Data Custodians");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("data_custodian");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer selects Data Custodian for the list" id="0fcf0979-3b5c-4bcc-a218-bc81ad69f1e0">
		<con:settings/>
		<con:config>
			<script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);


				//driver._bLogActions = true;

				try{

				//*********************************************************
				log.info("Scenario: Retail Customer selects Data Custodian for the list");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given a Retail Customer with Usage Points");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);

				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();

				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I select a Data Custodian from the list");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see the Data Custodian login screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertUrlContains("/DataCustodian");
				driver.assertContains("Login");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer selects Scope" id="e9df54bd-6caf-4538-93bf-69283bdeb3df">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);


				//driver._bLogActions = true;

				try{

				//*********************************************************
				log.info("Scenario: Retail Customer selects Scope");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given a Retail Customer with Usage Points");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");


				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);

				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();

				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I select a Data Custodian from the list");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();	
				driver.findElement(By.name("Data_custodian")).click();	
				driver.findElement(By.name("next")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see the Data Custodian login screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertUrlContains("/DataCustodian");
				driver.assertContains("Login");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I log into Data Custodian");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
				driver.findElement(By.name("submit")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
				driver.assertContains("FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();
			</script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Scenario: Retail Customer authorizes Third Party" id="363dc94b-475c-48eb-a850-6528391514df">
		<con:settings/>
		<con:config><script>import org.openqa.selenium.*;
				import org.greenbutton.cmd.utils.DriverHelper;

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath
				def BaseURL = project.getPropertyValue("BaseURL")
				def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
				def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
				def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
				def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
				def TestManager=project.getPropertyValue("TestManager")
				def TestManagerPW=project.getPropertyValue("TestManagerPW")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
				def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
				def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
				def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");


				DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);


				//driver._bLogActions = true;

				try{

				//*********************************************************
				log.info("Scenario: Retail Customer authorizes Third Party");
				//*********************************************************
				// reset DB : run library groovy script
				testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
				// Browser Init
				driver.Before();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Given a Retail Customer with Usage Points");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
				driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

				// upload usage point file
				driver.findElement(By.linkText("Upload")).click();	
				driver.findElement(By.name("file")).sendKeys(TestFile);

				driver.findElement(By.name("upload")).click();	
				driver.assertDoesNotContain("Unable to process file");

				// add usage point linkage
				driver.findElement(By.linkText("Customer List")).click();
				driver.findElement(By.linkText(TestRetailCustomer)).click();	
				driver.findElement(By.partialLinkText("Add Usage")).click();	
				driver.findElement(By.id("UUID")).clear();
				driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
				driver.findElement(By.name("create")).click();


				driver.logout(ServiceEndpointDataCustodian);

				driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);	

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I select a Data Custodian from the list");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.linkText("Data Custodians")).click();
				driver.findElement(By.name("Data_custodian")).click();
				driver.findElement(By.name("next")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see the Data Custodian login screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertUrlContains("/DataCustodian");
				driver.assertContains("Login");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I log into Data Custodian");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
				driver.findElement(By.name("submit")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see Scope selection screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Select Scope");
				driver.assertContains("FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I select Scopes");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.findElement(By.className("scope")).click();	
				driver.findElement(By.xpath("(//input[@name='scope'])[2]")).click();	
				driver.findElement(By.name("next")).click();	

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see authorization screen");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Please Confirm");

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("When I authorize Third Party");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				//driver.findElement(By.name("authorize")).click();
				driver.findElement(By.name("scope.FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13")).click();
				driver.findElement(By.name("authorize")).click();

				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.logStep("Then I should see all my authorizations");
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				driver.assertContains("Authorizations");
				driver.assertContains("data_custodian");
				driver.assertContains("DataCustodian/espi/1_1/resource/Batch/Subscription/");

				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				}

				//Close the browser
				driver.quit();
			</script></con:config>
	</con:testStep>
	<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="API" searchProperties="true" id="545b3d0d-00cc-4724-98ae-351af13fccb5">
	<con:description>API Tests based on Role</con:description>
	<con:settings/>
	<con:testStep type="calltestcase" name="Run TestCase EstablishTwoSubscriptions" id="6056be9c-9f27-4a40-afda-54c8f65a1ad2">
		<con:settings/>
		<con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:targetTestCase>842a41c8-96fb-4b15-bab5-c26d1f3f0dba</con:targetTestCase>
			<con:properties/>
			<con:returnProperties/>
			<con:runMode>PARALLELL</con:runMode>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="Feature: Data Custodian Admin API" id="a49facff-60da-4564-a2ee-f1aa635a36ef">
		<con:settings/>
		<con:config>
			<script>//******************************************************************************************************************
				//******************************************************************************************************************
				log.info("Feature: Data Custodian Admin API");
				//******************************************************************************************************************
				//******************************************************************************************************************
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="restrequest" name="GET Authorization Feed" id="0429cbaf-6560-4fda-accd-ac2407642972">
		<con:settings/>
		<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization" methodName="GET Authorization Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="GET Authorization Feed" mediaType="application/json" id="78372758-3493-4c0e-925a-ffff58d1cb41">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="72a7dd72-5f8a-40e9-b6cc-8d8474ceb630">
			<con:configuration>
				<codes>200</codes>
			</con:configuration>
		</con:assertion>
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET Authorization by Id" id="ca4dd883-a325-4175-bf78-f4cd759c22a9">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET Authorization by Id" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET Authorization by Id" mediaType="Application/atom+xml" id="e624979d-efc3-4ebf-a27f-3f78b3284a68">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="d91a33f0-31c3-40e6-9284-39297882c6bd">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="authorizationId" value="1"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET UsagePoint Feed - Request 1" id="464b26a6-bb25-42ac-8d02-7aef3f276e71">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Subscription/{subscriptionId}/UsagePoint" methodName="GET UsagePoint Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET UsagePoint Feed - Request 1" mediaType="application/json" id="19aaf2a0-c8b0-45c3-b56b-3f17a2439839">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/1/UsagePoint</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a74dd1ab-d4d4-4a67-bbd5-fab46e565650">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters/>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET UsagePoint by Id - Request 1" id="95ec5902-1584-4f19-861b-9af6a09209f6">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Subscription/{subscriptionId}/UsagePoint/{usagePointId}" methodName="GET UsagePoint by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET UsagePoint by Id - Request 1" mediaType="application/json" id="60f67287-8953-45c9-872d-a7fc6eeb63af">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="071ed6f0-5a88-4b2f-971f-976ca72a0283">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters/>
	<con:parameterOrder>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
		<con:entry>subscriptionId</con:entry>
		<con:entry>usagePointId</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="groovy" name="Feature: Third Party Admin API" id="3f2f5d2e-9013-402c-a9b0-921d2dce7152">
	<con:settings/>
	<con:config>
		<script>//******************************************************************************************************************
			//******************************************************************************************************************
			log.info("Feature: Third Party Admin API");
			//******************************************************************************************************************
			//******************************************************************************************************************
		</script>
	</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET Authorization - third_party_access" id="b849bcd0-d3d4-4b25-aee5-e5b3e892b411">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET Authorization by Id" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET Authorization - third_party_access" mediaType="Application/atom+xml" id="2e25d1dc-0123-4e61-affa-25b3f9e76c7e">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/5</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="9141b2e2-d55d-4945-94e7-dcdf82a1c94c">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#third_party_access_token}"/>
		<con:entry key="authorizationId" value="5"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET Authorization - third_party_access of User Authorization Subscription 6" id="11f40459-398c-4564-a028-43b08205027c">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET Authorization by Id" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET Authorization - third_party_access of User Authorization Subscription 6" mediaType="Application/atom+xml" id="92002a5d-0170-43d1-909c-77b1a7561881">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/6</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="e39b62e6-a4c2-4f14-a8bc-1dcab636e1ab">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#third_party_access_token}"/>
		<con:entry key="authorizationId" value="6"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET Authorization - third_party_access of User Authorization Subscription 5" id="13deb6c0-197e-43a1-b4bf-3617a1fd9308">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET Authorization by Id" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET Authorization - third_party_access of User Authorization Subscription 5" mediaType="Application/atom+xml" id="3f666c37-42ab-4c66-8912-8bdcec095462">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/5</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a5505dea-6ad6-4c7b-bc8a-28f36f2b864a">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#third_party_access_token}"/>
		<con:entry key="authorizationId" value="5"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET Authorization - third_party_access of User Authorization for DC" id="51d4aef9-d0b3-45e6-9c9c-e68164fc63ce">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET Authorization by Id" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET Authorization - third_party_access of User Authorization for DC" mediaType="Application/atom+xml" id="831e70a1-b4b9-483e-97af-821617c3523f">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ac3cdebf-d702-41a1-8c1c-99e22032068a">
		<con:configuration>
			<codes>400,403</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#third_party_access_token}"/>
		<con:entry key="authorizationId" value="1"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET - Subscription/{subscriptionId}" id="72676b00-cd0f-4662-a906-dc401e6014d7">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Subscription/{subscriptionId}" methodName="Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET - Subscription/{subscriptionId}" mediaType="application/json" id="83faf171-f6e6-4569-98a5-0c1dcf080fe5">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/6</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="321b48d7-5754-4955-9647-c9cf949359b6">
		<con:configuration>
			<codes>400,404</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<entry key="subscriptionId" value="6" xmlns="http://eviware.com/soapui/config"/>
	</con:parameters>
	<con:parameterOrder>
		<con:entry>subscriptionId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET Batch/Subscription/{subscriptionId}" id="9a97a49a-e246-4d54-a048-4ee0315d53c6">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Batch/Subscription/{subscriptionID}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET Batch/Subscription/{subscriptionId}" mediaType="application/json" id="5e441930-970e-4fb0-bc37-2c3b53e912ba">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="53ac6e81-c7a6-466d-ab5c-3fc25b933c0b">
				<con:configuration>
					<codes>200</codes>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<entry key="subscriptionID" value="1" xmlns="http://eviware.com/soapui/config"/>
			</con:parameters>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:parameterOrder>
		<con:entry>subscriptionID</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET ServiceStatus" id="9e2a95d4-5903-428d-915b-e7cb7300b47f">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadServiceStatus" methodName="GET ServiceStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET ServiceStatus" mediaType="application/json" id="9fb50fa8-2298-438d-a767-e4a14ba72f10">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="07ba9a63-0f7b-4ca0-b761-94529387c081">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<entry key="Authorization" value="Bearer ${#Project#third_party_access_token}" xmlns="http://eviware.com/soapui/config"/>
	</con:parameters>
	<con:parameterOrder>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="groovy" name="Feature: Third Party User Subscription API" id="0f7fe020-b9d4-409e-a45c-b831cef3ac70">
	<con:settings/>
	<con:config>
		<script>//******************************************************************************************************************
			//******************************************************************************************************************
			log.info("Feature: Third Party User Subscription API");
			//******************************************************************************************************************
			//******************************************************************************************************************
		</script>
	</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET LocalTimeParameters Feed" id="6b7e45d9-e994-456b-a45c-3eab8e633e8f">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/LocalTimeParameters" methodName="GET LocalTimeParameters Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET LocalTimeParameters Feed" mediaType="application/json" id="03bcb211-9b20-4f13-a3d5-ba0897166d66">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/LocalTimeParameters</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="7effecaa-41dc-4618-9525-8c8b31faa598">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<entry key="Authorization" value="Bearer ${#Project#userAccessToken2}" xmlns="http://eviware.com/soapui/config"/>
	</con:parameters>
	<con:parameterOrder>
		<con:entry>Content-Type</con:entry>
		<con:entry>Authorization</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET LocalTimeParameters by Id" id="f855b10a-d8e9-47ad-9522-200df2ad83d1">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/LocalTimeParameters/{localTimeParametersId}" methodName="GET LocalTimeParameters by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET LocalTimeParameters by Id" mediaType="application/json" id="992b9d02-a55d-4839-bbe9-fad896b41aeb">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/LocalTimeParameters/1</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="759d487b-f7ac-404a-824b-7f8390aac2f5">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#userAccessToken2}"/>
		<con:entry key="Content-Type" value="application/atom+xml"/>
	</con:parameters>
	<con:parameterOrder>
		<con:entry>localTimeParametersId</con:entry>
		<con:entry>Content-Type</con:entry>
		<con:entry>Authorization</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="Get root ReadingType feed" id="db82027c-868b-4aae-8ae7-bb649d84f878">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadingType" methodName="Get root ReadingType feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="Get root ReadingType feed" mediaType="application/json" id="b16590e5-f966-4442-be59-1354fbfc5c43">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadingType</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1348cd3f-04ca-45c3-8344-a427c9cfc1af">
				<con:configuration>
					<codes>200</codes>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<entry key="Authorization" value="Bearer ${#Project#userAccessToken1}" xmlns="http://eviware.com/soapui/config"/>
			</con:parameters>
			<con:parameterOrder>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="Get ReadingType by Id" id="1f680568-c2fe-4db9-b60b-2330829ca177">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadingType/{readingTypeId}" methodName="Get ReadingType by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="Get ReadingType by Id" mediaType="application/json" id="8a301fd3-0ea4-46bb-b3bd-6d934d52b57c">
			<con:encoding/>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadingType/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="9fbb7639-f942-45bf-9f7b-23c9b40ce6eb">
				<con:configuration>
					<codes>200</codes>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<entry key="Authorization" value="Bearer ${#Project#userAccessToken1}" xmlns="http://eviware.com/soapui/config"/>
			</con:parameters>
			<con:parameterOrder>
				<con:entry>readingTypeId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET {subscriptionId} id 5 with AccessToken1" id="0b74777b-8816-463a-abd0-0a1b85572b0e">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Batch/Subscription/{subscriptionID}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET {subscriptionId} id 5 with AccessToken1" mediaType="application/json" id="76860f30-073d-4f94-be07-2f0a3435b146">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="2dbcd30c-709e-4a9b-af0c-a691c27c26cf">
				<con:configuration>
					<codes>200</codes>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<con:entry key="subscriptionID" value="5"/>
				<con:entry key="Authorization" value="Bearer ${#Project#userAccessToken1}"/>
			</con:parameters>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:parameterOrder>
		<con:entry>subscriptionID</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET {subscriptionId} id 6 with AccessToken1" id="dcabc108-2c09-4089-a978-433d5e866486">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Batch/Subscription/{subscriptionID}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET {subscriptionId} id 6 with AccessToken1" mediaType="application/json" id="76860f30-073d-4f94-be07-2f0a3435b146">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Subscription/6</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="9e2256d5-6fd0-4095-b272-baa4e4d7c162">
				<con:configuration>
					<codes>400,403</codes>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<con:entry key="Authorization" value="Bearer ${#Project#userAccessToken1}"/>
				<con:entry key="subscriptionID" value="6"/>
			</con:parameters>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:parameterOrder>
		<con:entry>subscriptionID</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET {subscriptionId} User 6 with AccessToken2" id="0f4d5dbd-d3bd-4cbb-9b06-62f120ea08ce">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Batch/Subscription/{subscriptionID}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET {subscriptionId} User 6 with AccessToken2" mediaType="application/json" id="76860f30-073d-4f94-be07-2f0a3435b146">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Subscription/6</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a49b7a93-aba1-46c1-a07e-45c12f37d253">
				<con:configuration>
					<codes>200</codes>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<con:entry key="subscriptionID" value="6"/>
				<con:entry key="Authorization" value="Bearer ${#Project#userAccessToken2}"/>
			</con:parameters>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:parameterOrder>
		<con:entry>subscriptionID</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET {subscriptionId} id 5 with AccessToken2" id="d65c619e-feaf-4a95-9d10-fc519a280ed5">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Batch/Subscription/{subscriptionID}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET {subscriptionId} id 5 with AccessToken2" mediaType="application/json" id="76860f30-073d-4f94-be07-2f0a3435b146">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="be750417-6d32-40a6-8f68-1b525baf15c6">
				<con:configuration>
					<codes>400,403</codes>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<con:entry key="subscriptionID" value="5"/>
				<con:entry key="Authorization" value="Bearer ${#Project#userAccessToken2}"/>
			</con:parameters>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:parameterOrder>
		<con:entry>subscriptionID</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET UsagePoint Path by Id" id="91b9860c-36dc-4e05-881e-5b0cd4a05a2e">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Subscription/{subscriptionId}/UsagePoint/{usagePointId}" methodName="GET UsagePoint by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET UsagePoint Path by Id" mediaType="application/json" id="60f67287-8953-45c9-872d-a7fc6eeb63af">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/5/UsagePoint/1</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="8db4c452-27d7-46ce-be3b-a061e78f1ecf">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#userAccessToken1}"/>
		<con:entry key="usagePointId" value="1"/>
		<con:entry key="subscriptionId" value="5"/>
	</con:parameters>
	<con:parameterOrder>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
		<con:entry>subscriptionId</con:entry>
		<con:entry>usagePointId</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET MeterReading Feed by Path" id="d9127290-aa27-49cf-a23f-1ffeaa6aa4eb">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Subscription/{subscriptionId}/UsagePoint/{usagePointId}/MeterReading" methodName="GET MeterReading Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET MeterReading Feed by Path" mediaType="application/json" id="f5aa923b-979f-4e19-8939-779f508ba6b3">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Subscription/6/UsagePoint/2/MeterReading</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="15a4bf7b-a4f6-4344-a84b-1a124235c124">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#userAccessToken2}"/>
		<con:entry key="usagePointId" value="2"/>
		<con:entry key="subscriptionId" value="6"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="groovy" name="Feature: Upload Admin API" id="57b10e6c-76db-4b63-a281-74f41d82e6fa">
	<con:settings/>
	<con:config>
		<script>//******************************************************************************************************************
			//******************************************************************************************************************
			log.info("Feature: Upload API");
			//******************************************************************************************************************
			//******************************************************************************************************************
		</script>
	</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] upload_access_tokenGET ServiceStatus" id="0455f0f1-60db-4296-a17e-4dbb1b8a6784">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadServiceStatus" methodName="GET ServiceStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] upload_access_tokenGET ServiceStatus" mediaType="application/json" id="57584ac3-ef1f-4024-b18d-16222bbf47d5">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="dd3f7979-9335-49c3-91b4-32e178e06977">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<entry key="Authorization" value="Bearer ${#Project#upload_access_token}" xmlns="http://eviware.com/soapui/config"/>
	</con:parameters>
	<con:parameterOrder>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="groovy" name="Feature: Registration Third Party API" id="e19b7e40-16fd-4107-b1f3-9be4313d9cd2">
	<con:settings/>
	<con:config>
		<script>//******************************************************************************************************************
			//******************************************************************************************************************
			log.info("Feature: Registration Third Party API");
			//******************************************************************************************************************
			//******************************************************************************************************************
		</script>
	</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] registration_third_party_access_token GET ServiceStatus" id="f5e3614f-ef56-4e0d-8081-59578c52f087">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadServiceStatus" methodName="GET ServiceStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] registration_third_party_access_token GET ServiceStatus" mediaType="application/json" id="99772be0-c00d-4c7b-a94f-c28612400817">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fcaa7b23-43b6-42c1-9a9a-6df7faf41c4c">
		<con:configuration>
			<codes>403</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<entry key="Authorization" value="Bearer ${#Project#registration_third_party_access_token}" xmlns="http://eviware.com/soapui/config"/>
	</con:parameters>
	<con:parameterOrder>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:properties/>
</con:testSuite>

<con:testSuite name="RonsSandbox" id="fc6d73c0-e0f3-4cc4-a717-2bd30d6bcbfe">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Sim POST Notify SFTP Bulk" searchProperties="true" id="7277e322-f7e7-4d3a-b282-75d7dc56463e">
		<con:settings/>
		
		<con:testStep type="restrequest" name="Sim POST Notify SFTP Bulk" id="ff38b066-1220-4a4a-82d9-0e31c437a63d"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#notificationUri}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sim POST Notify SFTP Bulk" mediaType="application/xml" postQueryString="false" id="4e3ec003-3e58-4bb3-b982-b3dee3a92998"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#NotificationEndpoint}</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;espi:BatchList xmlns:espi="http://naesb.org/espi">
&lt;espi:resources>sftp://localhost/home/bitnami/git/OpenESPI-GreenButtonCMDTest/SOAPUI/sampledata/BatchBulk.xml
&lt;/espi:resources>
&lt;/espi:BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="45f58593-6728-47fd-bfb3-ca49456508e3"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/>
	</con:testCase>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Sim POST Notify REST Bulk" searchProperties="true" id="840f1422-a75b-44c6-84c7-6d1f45909a85"><con:settings/><con:testStep type="restrequest" name="Sim POST Notify REST Bulk" id="808a6e9e-0a90-45c8-ab81-9f788766e576"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#notificationUri}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sim POST Notify REST Bulk" mediaType="application/xml" postQueryString="false" id="d101ef00-7121-4f56-9760-11fd160b82c0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#NotificationEndpoint}</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;espi:BatchList xmlns:espi="http://naesb.org/espi">
&lt;espi:resources>http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Bulk/1
&lt;/espi:resources>
&lt;/espi:BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="98e7f937-82b9-4687-9831-e6a215060cc9"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Sim POST Notify REST ApplicationInformation" searchProperties="true" id="0dff3e4a-0b1e-44c5-b4a9-ecf17f889b5e"><con:settings/><con:testStep type="restrequest" name="POST - Sim notify : REST" id="0aa69610-39ff-402b-b9e1-23a85f3897ce"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#notificationUri}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="POST - Sim notify : REST" mediaType="application/xml" postQueryString="false" id="e55cc426-8a78-4ea6-a96a-575dcc56f05f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#NotificationEndpoint}</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;espi:BatchList xmlns:espi="http://naesb.org/espi">
&lt;espi:resources>http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation/2
&lt;/espi:resources>
&lt;/espi:BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="42ba2be0-2674-44b7-a48e-1975c0cc2006"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Sim POST Notify SFTP ApplicationInformation" searchProperties="true" id="9218dd46-d405-4273-a60a-ac5a36a7198c"><con:settings/><con:testStep type="restrequest" name="POST - Sim notify : SFTP" id="7b5a4e48-ebaa-4dbf-9f28-0ae65bcf20e3"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#notificationUri}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="POST - Sim notify : SFTP" mediaType="application/xml" postQueryString="false" id="37b2ce51-71dd-4b95-a4f3-b2aa8b03f11e"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#NotificationEndpoint}</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;espi:BatchList xmlns:espi="http://naesb.org/espi">
&lt;espi:resources>sftp://localhost/home/bitnami/git/OpenESPI-GreenButtonCMDTest/SOAPUI/sampledata/ApplicationInformation.xml
&lt;/espi:resources>
&lt;/espi:BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="aae46a5f-c8c9-4fec-bc32-8aabbfdf52c2"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Sim POST Notify REST Authorization" searchProperties="true" id="1a1ae686-efea-474d-a4d0-9b5f869dd6b7"><con:settings/><con:testStep type="restrequest" name="POST - Sim notify : REST" id="c094e61e-1cf4-455e-9b1d-76cc9f789d4e"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#notificationUri}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="POST - Sim notify : REST" mediaType="application/xml" postQueryString="false" id="e0ed9c26-8d9c-47b7-9fe9-fb5b40094b87"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#NotificationEndpoint}</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;espi:BatchList xmlns:espi="http://naesb.org/espi">
&lt;espi:resources>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization
&lt;/espi:resources>
&lt;/espi:BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="4bfe7b83-9ae6-49bc-ad97-9ea0f2e246c5"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Sim POST Notify SFTP Authorization" searchProperties="true" id="5958c534-76cb-43df-a24f-8c20cce2aa40"><con:settings/><con:testStep type="restrequest" name="POST - Sim notify : SFTP" id="e3dcad38-dcb9-450d-8d62-f1c5b5ea86e2"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#notificationUri}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="POST - Sim notify : SFTP" mediaType="application/xml" postQueryString="false" id="75277e7f-0225-4472-bcc5-4844d91719e2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#NotificationEndpoint}</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;espi:BatchList xmlns:espi="http://naesb.org/espi">
&lt;espi:resources>sftp://localhost/home/bitnami/git/OpenESPI-GreenButtonCMDTest/SOAPUI/sampledata/Authorizations.xml
&lt;/espi:resources>
&lt;/espi:BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="915becd8-8d69-46c2-92e8-e7485702acfb"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Sim POST Notify REST Subscription" searchProperties="true" id="6154aac2-4399-41a9-be4c-06c2e58cd59c"><con:settings/><con:testStep type="restrequest" name="POST - Sim notify : REST" id="1321893c-96b3-46f0-84a0-559b699b3ea1"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#notificationUri}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="POST - Sim notify : REST" mediaType="application/xml" postQueryString="false" id="ab5b40f7-ce9e-4b8d-bf54-442eb0ca56a0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#NotificationEndpoint}</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;espi:BatchList xmlns:espi="http://naesb.org/espi">
&lt;espi:resources>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization
&lt;/espi:resources>
&lt;/espi:BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="0a0f0a92-7a3f-409a-8813-4c6e4defbe21"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Sim POST Notify SFTP Subscription" searchProperties="true" id="3bed03af-dbdf-4aa0-a059-bdf61bf074de"><con:settings/><con:testStep type="restrequest" name="POST - Sim notify : SFTP" id="aa31beba-d2a9-4728-8870-d66b1f0f39a9"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#notificationUri}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="POST - Sim notify : SFTP" mediaType="application/xml" postQueryString="false" id="e3e203aa-0555-47c7-bd40-a526d93316fa"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#NotificationEndpoint}</con:endpoint><con:request>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;espi:BatchList xmlns:espi="http://naesb.org/espi">
&lt;espi:resources>sftp://localhost/home/bitnami/git/OpenESPI-GreenButtonCMDTest/SOAPUI/sampledata/Authorizations.xml
&lt;/espi:resources>
&lt;/espi:BatchList></con:request><con:originalUri>http://localhost/DataCustodian/localhost:8081/ThirdParty/espi/1_1/Notification</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ed14c8cd-687a-46f9-8c75-ee2200c4ce0b"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/>
</con:testSuite>
<con:testSuite name="MartySandbox" id="508479c0-72e2-43bb-8f36-77f924943cc7">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Resources" searchProperties="true" id="238c2543-ee6b-41e3-befe-0669a7b1a6c2">
		<con:settings/>
		
		<con:testStep type="httprequest" name="GetPGEClientAccessTokens" id="9de8d645-09ec-4305-b436-cff75ec5bbe6"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="GetPGEClientAccessTokens" postQueryString="false" mediaType="application/xml" id="c4761ff3-3d85-41b8-9826-93a2c62cdaaa" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:endpoint>$(#Project#ServiceEndpoint)</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="restrequest" name="Client Credentials - POST ThirdParty Request" id="1afb4b0b-d51c-41d0-9e7e-e6bc0fd8b8d3"><con:settings/><con:config service="ESPI Resources" resourcePath="" methodName="Client Credentials" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Client Credentials - POST ThirdParty Request" mediaType="application/json" postQueryString="false" id="9ba40594-5ba1-490b-b4b8-0547108733e3">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#authorizationServerProxy}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/oauth/token</con:originalUri>
	<con:credentials>
		<con:username>${#Project#client_id}</con:username>
		<con:password>${#Project#client_secret}</con:password>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
  <con:entry key="scope" value="FB=34_35"/>
  <con:entry key="grant_type" value="client_credentials"/>
</con:parameters>
	<con:parameterOrder><con:entry>grant_type</con:entry><con:entry>scope</con:entry></con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="RunGenericResourceGet" id="46502172-3de4-4bae-b3fe-3d9e0e7679cc"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;
def project = testRunner.testCase.testSuite.project
def auth  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GenericResourceGet'];




tc.setPropertyValue("uri", auth.getPropertyValue("resourceURI"));
tc.setPropertyValue("token",  auth.getPropertyValue("access_token"));
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("response");
//returnCode = tc.getPropertyValue("returncode");
</script></con:config></con:testStep><con:properties/>
	</con:testCase>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestSSL" searchProperties="true" id="974785bd-d7aa-45d7-b757-58e974068e18"><con:settings/><con:testStep type="groovy" name="testssl" id="19a91516-7ed6-4e21-a5f2-c82f5a230a8f"><con:settings/><con:config><script>def project = testRunner.testCase.testSuite.project
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];

def sslhost = project.getPropertyValue( "authorizationServer" );
def opensslCmd = project.getPropertyValue("opensslCmd");
sslport="443";

//def cmdSubString = "s_client -connect " + sslhost + ":" + sslport;
def cmdSubString = "s_client -tls1_2 -connect " + sslhost + ":" + sslport;
def command = opensslCmd + " " + cmdSubString;

log.info command;


tc.setPropertyValue("cmd",command);
tc.setPropertyValue("path",".");
tc.setPropertyValue("timeout","2");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);

assert true;
</script></con:config></con:testStep><con:testStep type="calltestcase" name="Run TestCase" id="097e7bc4-df69-43be-8ba5-b18263c0e1a0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>a3ec95e4-9f8e-40f3-a3ce-37609ecfe6e3</con:targetTestCase><con:properties><con:property><con:name>stdout</con:name><con:value>total 11508
drwxr-xr-x  5 bitnami bitnami     4096 Dec 27 22:09 .
drwxrwxr-x 10 bitnami bitnami     4096 Jul 15 15:17 ..
drwxr-xr-x  2 bitnami bitnami     4096 Apr  9  2014 actions
-rw-rw-r--  1 bitnami bitnami     9422 Dec 28 18:13 error.log
drwxr-xr-x  2 bitnami bitnami     4096 Dec 27 19:11 ext
drwxr-xr-x  2 bitnami bitnami     4096 Apr  9  2014 listeners
-rwxr-xr-x  1 bitnami bitnami     1918 Apr  9  2014 loadtestrunner.sh
-rwxr-xr-x  1 bitnami bitnami     1889 Apr  9  2014 mockservicerunner.sh
-rwxr-xr-x  1 bitnami bitnami     1872 Apr  9  2014 securitytestrunner.sh
-rwxr-xr-x  1 bitnami bitnami    10562 Apr  9  2014 SoapUI-5.0.0
-rw-r--r--  1 bitnami bitnami 11519067 Apr  9  2014 soapui-5.0.0.jar
-rw-rw-r--  1 bitnami bitnami      516 Jul 15 15:17 SoapUI-5.0.0.vmoptions
-rw-rw-rw-  1 bitnami bitnami   100546 Dec 29 07:59 soapui-errors.log
-rw-rw-rw-  1 bitnami bitnami    34611 Dec 29 08:04 soapui.log
-rw-r--r--  1 bitnami bitnami     3606 Apr  9  2014 soapui-log4j.xml
-rwxr-xr-x  1 bitnami bitnami     2326 Apr  9  2014 soapui.sh
-rw-r--r--  1 bitnami bitnami    27186 Apr  9  2014 soapui-splash.png
-rw-r--r--  1 bitnami bitnami     1322 Apr  9  2014 starter-page.html
-rwxr-xr-x  1 bitnami bitnami     1887 Apr  9  2014 testrunner.sh
-rwxr-xr-x  1 bitnami bitnami     1883 Apr  9  2014 toolrunner.sh
-rwxr-xr-x  1 bitnami bitnami     1896 Apr  9  2014 wargenerator.sh
</con:value></con:property><con:property><con:name>cmd</con:name><con:value>ls -al</con:value></con:property><con:property><con:name>path</con:name><con:value>.</con:value></con:property><con:property><con:name>stderr</con:name><con:value>depth=1 C = US, O = DigiCert Inc, CN = DigiCert Secure Server CA verify error:num=20:unable to get local issuer certificate verify return:0 </con:value></con:property><con:property><con:name>returncode</con:name><con:value>124</con:value></con:property><con:property><con:name>timeout</con:name><con:value>0</con:value></con:property><con:property><con:name>uri</con:name></con:property><con:property><con:name>token</con:name></con:property></con:properties><con:returnProperties><con:entry>stdout</con:entry><con:entry>stderr</con:entry><con:entry>returncode</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:properties><con:property><con:name>cmd</con:name><con:value>openssl s_client -tls1_2 -connect services.greenbuttondata.org:443</con:value></con:property><con:property><con:name>path</con:name><con:value>.</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="SetupForTest" searchProperties="true" id="7e6f4176-bacb-4455-91f3-c970b4c7898b"><con:settings/><con:testStep type="groovy" name="setup" id="67e36b32-f28c-4a42-a4b2-ef9f061757cf"><con:settings/><con:config><script>testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfig']);
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDBDC']);
testRunner.testCase.testSuite.project.testSuites['Library'].testCases['UploadTestFile GUI'].run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
testRunner.testCase.testSuite.project.testSuites['[FB_01] Common'].testCases['FND001 Initial Test Configuration'].run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
assert true;</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="b5a5d827-23bd-4b87-a1c7-c3c4f9babc41" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestNotify" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SendNotification" id="a71df42c-e37c-438f-b0bb-038ba3d1ec92"><con:settings/><con:config service="ESPI Resources" methodName="POST" resourcePath="/${#Project#notificationUri}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SendNotification" id="fd941070-d72a-453b-a912-697b177120e0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://localhost:8444/ThirdParty</con:endpoint><con:request><![CDATA[<BatchList>
<resources>http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation</resources>
<resources>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization</resources>
</BatchList>]]></con:request><con:originalUri>http://localhost/DataCustodian/espi/1_1/Notification/Notification</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="TestGenericGet" id="8f98f818-2a9e-4849-b1fb-1cf9f7706cb2"><con:settings/><con:config><script>def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GenericResourceGet'];

tc.setPropertyValue("uri","http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation");
tc.setPropertyValue("token","2a85f4bd-30db-4b7d-8f41-b046b0566cb3 ");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("response");

log.info strResult;
return true;</script></con:config></con:testStep><con:testStep type="groovy" name="TestSFTP Parse" id="e2b2597c-7752-44dc-9822-d5c6c4161849"><con:settings/><con:config><script>def aUri = new URI("sftp://user@openespivm:8443/DataCustodian");


log.info "Protocol: " + aUri.getScheme();
log.info "Host: " + aUri.getHost();
log.info "User: " + aUri.getUserInfo();

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GenericResourceGet'];

tc.setPropertyValue("uri",aURI);
tc.setPropertyValue("token","");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("response");
</script></con:config></con:testStep><con:properties><con:property><con:name>notification</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/Notification</con:value></con:property></con:properties></con:testCase><con:properties>
		<con:property>
			<con:name>sessionid</con:name>
			<con:value>null</con:value>
		</con:property>
	</con:properties>
</con:testSuite>

<con:testSuite name="Dons Sandbox" id="ea56bae1-54ea-4a1c-9e88-ec3a7920958e">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestTwoTokens" searchProperties="true" id="5e39f0ac-f227-48e3-b3f3-45e71f5273de">
		<con:settings/>
		<con:testStep type="groovy" name="StartDriver" id="3dce3d14-cbaa-46af-9db1-5130f0033661">
			<con:settings/>
			<con:config>
				<script>/////////////////////////////////////////////////////////
					// Note: Generated by capture using Selenium in FF. 
					// Export to Java / JUnit 4 / WebDriver
					// Copy and paste into Groovy Script with minor tweaks
					/////////////////////////////////////////////////////////

					/////////////////////////////////////////////////////////
					// Need these imports to run tests
					/////////////////////////////////////////////////////////
					import org.openqa.selenium.By
					import org.openqa.selenium.Keys;
					import org.openqa.selenium.WebDriver
					import org.openqa.selenium.WebElement
					import org.openqa.selenium.firefox.FirefoxDriver

					import java.util.concurrent.TimeUnit;
					import java.util.regex.Pattern;
					import java.util.concurrent.TimeUnit;
					import org.junit.*;
					import static org.junit.Assert.*;
					import static org.hamcrest.CoreMatchers.*;

					import org.greenbutton.cmd.utils.DriverHelper;

					/////////////////////////////////////////////////////////
					// get variables from the project Custom Properties
					/////////////////////////////////////////////////////////
					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath
					def BaseURL = project.getPropertyValue("BaseURL")
					def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
					def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")


					/////////////////////////////////////////////////////////
					// Create a new instance of the Firefox driver
					/////////////////////////////////////////////////////////
					DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);
					driver._bLogActions = true;

					if( context["driver"] == null )
					context["driver"] = driver

					return
					//Then in later steps you can retrieve it as context["driverInstance"] 
				</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="Set Access Tokens" id="dafeb230-75ef-49f0-8b43-4cf42cb660c0">
			<con:settings/>
			<con:config>
				<script>/////////////////////////////////////////////////////////
					// Need these imports to run tests
					/////////////////////////////////////////////////////////
					import org.openqa.selenium.By
					import org.openqa.selenium.Keys;
					import org.openqa.selenium.WebDriver
					import org.openqa.selenium.WebElement
					import org.openqa.selenium.firefox.FirefoxDriver

					import java.util.concurrent.TimeUnit;
					import java.util.regex.Pattern;
					import java.util.concurrent.TimeUnit;
					import org.junit.*;
					import static org.junit.Assert.*;
					import static org.hamcrest.CoreMatchers.*;
					import com.eviware.soapui.support.types.StringToStringMap;


					/////////////////////////////////////////////////////////
					// fetch driver from context
					/////////////////////////////////////////////////////////
					Object driver = context["driver"];

					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath

					def BaseURL = project.getPropertyValue("BaseURL");
					def ServiceEndpoint=BaseURL+"/ThirdParty/home";
					List&lt;WebElement> rows;
				def teststep;

				log.info("Service Endpoint: " + ServiceEndpoint);

				try {
				/////////////////////////////////////////////////////////
				// run test step details
				/////////////////////////////////////////////////////////
				// open Data Custodian
				driver.get(ServiceEndpoint)

				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys("alan");
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys("koala");
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.linkText("Authorizations")).click();
				rows = driver.FindElementsByXpath("//td[@class='access_token']");
				String accessToken1 = rows.get(rows.size() - 1).getText();
				log.info("accessToken1:" +  accessToken1);
				project.setPropertyValue("userAccessToken1",accessToken1);
				driver.findElement(By.id("logout")).click();

				// set message parameters
				teststep = testRunner.testCase.getTestStepByName("GET Subscription 1");
				teststep.setPropertyValue("Authorization","Bearer "+ accessToken1);
				teststep.setPropertyValue("subscriptionId","1");


				driver.findElement(By.id("login")).click();
				driver.findElement(By.name("j_username")).clear();
				driver.findElement(By.name("j_username")).sendKeys("charles");
				driver.findElement(By.name("j_password")).clear();
				driver.findElement(By.name("j_password")).sendKeys("koala");
				driver.findElement(By.name("submit")).click();
				driver.findElement(By.linkText("Authorizations")).click();
				rows = driver.FindElementsByXpath("//td[@class='access_token']");
				String accessToken2 = rows.get(rows.size() - 1).getText();
				log.info("accessToken2:" +  accessToken2);
				project.setPropertyValue("userAccessToken2",accessToken2);
				driver.findElement(By.id("logout")).click();

				// set message parameters
				teststep = testRunner.testCase.getTestStepByName("GET Subscription 2");
				teststep.setPropertyValue("Authorization","Bearer "+ accessToken2);
				teststep.setPropertyValue("subscriptionId","2");


				} catch(Exception e) {
				testRunner.fail(driver.getErrorString())
				driver.quit();
				}
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="groovy" name="StopDriver" id="1f4828cb-55ce-4c5c-af59-a59ca9933809">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Note: Generated by capture using Selenium in FF. 
				// Export to Java / JUnit 4 / WebDriver
				// Copy and paste into Groovy Script with minor tweaks
				/////////////////////////////////////////////////////////

				/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import org.openqa.selenium.By
				import org.openqa.selenium.Keys;
				import org.openqa.selenium.WebDriver
				import org.openqa.selenium.WebElement
				import org.openqa.selenium.firefox.FirefoxDriver

				import java.util.concurrent.TimeUnit;
				import java.util.regex.Pattern;
				import java.util.concurrent.TimeUnit;
				import org.junit.*;
				import static org.junit.Assert.*;
				import static org.hamcrest.CoreMatchers.*;



				/////////////////////////////////////////////////////////
				// Create a new instance of the Firefox driver
				/////////////////////////////////////////////////////////
				Object driver = context["driver"]

				//Close the browser
				driver.quit();

				//Then in later steps you can retrieve it as context["driverInstance"] 
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="restrequest" name="GET Subscription 1" id="4904023e-48d9-4744-af6e-42e7a84ec758">
		<con:settings/>
		<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Batch/Subscription/{subscriptionID}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="GET Subscription 1" mediaType="application/json" id="b16cbd05-c321-4fef-926e-b53c3abf1bbf">
				<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
				<con:request/>
				<con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="22f68af9-c9c4-4d1b-a40c-f2a295b746f1">
					<con:configuration>
						<scriptText>assert messageExchange.responseStatusCode == 200</scriptText>
					</con:configuration>
				</con:assertion>
				<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
				<con:jmsPropertyConfig/>
				<con:parameters>
					<con:entry key="subscriptionID" value="1"/>
					<con:entry key="Authorization" value="Bearer bdd9b97b-b1cf-4b35-9c15-a14356930415"/>
					<con:entry key="subscriptionId" value="1"/>
				</con:parameters>
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:credentials>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:parameterOrder>
			<con:entry>subscriptionID</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET Subscription 2" id="bddae553-f09a-4690-9e76-194f48b331c7">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Batch/Subscription/{subscriptionID}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET Subscription 2" mediaType="application/json" id="bf8f43bd-efa2-4611-baa6-7ad04b4bee1d">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="2906d0f9-8190-4c77-9f49-83555947570c">
				<con:configuration>
					<scriptText>assert messageExchange.responseStatusCode == 200	</scriptText>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<con:entry key="Authorization" value="Bearer 14e9da63-b611-43a3-8010-b4830d789de4"/>
				<con:entry key="subscriptionID" value="2"/>
				<con:entry key="subscriptionId" value="2"/>
			</con:parameters>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:parameterOrder>
		<con:entry>subscriptionID</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET Subscription 1 Wrong Access Token" id="e247f6a9-6402-4a51-b137-221a7db43b5c">
	<con:settings/>
	<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Batch/Subscription/{subscriptionID}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET Subscription 1 Wrong Access Token" mediaType="application/json" id="27621e24-8183-4cd7-9eba-bb9909b941e5">
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="c240652c-76c2-44e3-a025-7b4e17060a86">
				<con:configuration>
					<scriptText>assert messageExchange.responseStatusCode != 200</scriptText>
				</con:configuration>
			</con:assertion>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters>
				<con:entry key="Authorization" value="Bearer ${#Project#useraccesstoken2}"/>
				<con:entry key="subscriptionID" value="1"/>
				<con:entry key="subscriptionId" value="1"/>
			</con:parameters>
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:credentials>
		<con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:parameterOrder>
		<con:entry>subscriptionID</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest>
</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Data Custodian Admin API" searchProperties="true" id="56b71304-c464-461c-bc2b-6e0a74d05b1e">
	<con:settings/>
	<con:testStep type="groovy" name="Feature: Data Custodian Admin API" id="b08c2fbd-6ed6-4e9e-93b4-677460870e58">
		<con:settings/>
		<con:config>
			<script>//******************************************************************************************************************
				//******************************************************************************************************************
				log.info("Dons Sandbox Feature: Data Custodian Admin API");
				//******************************************************************************************************************
				//******************************************************************************************************************
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="restrequest" name="GET MeterReading Feed by Path" id="86939ee4-3d06-4fde-9066-fe24c2c887a6">
		<con:settings/>
		<con:config service="ESPI Resources" methodName="Get root MeterReading feed" resourcePath="/${#Project#resourceUri}/MeterReading" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="GET MeterReading Feed by Path" mediaType="Application/atom+xml" id="79debf75-1b4c-4abf-854a-4e269239ce4e">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:encoding>UTF-8</con:encoding>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/MeterReading</con:originalUri>
		<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="056bc715-eef1-484d-8a0a-bc0cf8c4ca16">
			<con:configuration>
				<codes>401,403</codes>
			</con:configuration>
		</con:assertion>
		<con:credentials>
			<con:authType>No Authorization</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters>
			<con:entry key="Authorization" value="Bearer ${#Project#data_custodian_access_token}"/>
			<con:entry key="Content-Type" value="Application/atom+xml"/>
		</con:parameters>
	</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET /ApplicationInformation" id="9c2e6758-a90b-4270-96fd-ca20f62ce3b9">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation Feed" resourcePath="/${#Project#resourceUri}/ApplicationInformation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET /ApplicationInformation" mediaType="Application/atom+xml" id="b7f4154f-bf91-4ff4-b215-5d18ed74db1e">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="06aba6ff-2f25-4b3c-9f0c-3b932bd81710">
		<con:configuration>
			<codes>401,403</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#data_custodian_access_token}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="Get /ApplicationInformation/{applicationInformationId} ID 1" id="35515cc0-6473-437e-adfe-f18b893cc95c">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="Get /ApplicationInformation/{applicationInformationId} ID 1" mediaType="Application/atom+xml" id="74c6ec0f-78d5-4200-a3b6-345f35f98831">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="11610b71-8ee7-47b1-b7d1-d437b3e12a10">
		<con:configuration>
			<codes>401,403</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#data_custodian_access_token}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
		<con:entry key="applicationInformationId" value="${#Project#applicationInformationId}"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET /ApplicationInformation/{applicationInformationId} ID 2" id="2552b9d9-5d1e-4eb6-9a06-dcc003b59744">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET /ApplicationInformation/{applicationInformationId} ID 2" mediaType="Application/atom+xml" id="6f6df154-245e-465f-af76-00d074e2dfa2">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="3c3edb43-f689-43ad-8dee-02d01ec9ead5">
		<con:configuration>
			<codes>401,403</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#data_custodian_access_token}"/>
		<con:entry key="applicationInformationId" value="2"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET /ApplicationInformation/{applicationInformationId} ID 3" id="40382418-c01c-42ec-be92-a94614d59e7c">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET /ApplicationInformation/{applicationInformationId} ID 3" mediaType="Application/atom+xml" id="5320d948-475d-4d08-ac81-c96d266f1b75">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="90551203-3802-4aec-8cbf-b748344486b8">
		<con:configuration>
			<codes>401,403</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#data_custodian_access_token}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
		<con:entry key="applicationInformationId" value="3"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET /ApplicationInformation/{applicationInformationId} ID 99" id="fcea7cf7-93ef-417f-8846-5a03fc94fe9e">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET /ApplicationInformation/{applicationInformationId} ID 99" mediaType="Application/atom+xml" id="8c2cb8c9-fc1c-4b4c-8559-86e05e4b915b">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="70f33134-e95f-44d4-a692-70922767293a">
		<con:configuration>
			<codes>401,403</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#data_custodian_access_token}"/>
		<con:entry key="applicationInformationId" value="99"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="POST /MeterReading" id="be6d5690-3577-43b2-ad24-51f5a24f2321">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="Post" resourcePath="/${#Project#resourceUri}/MeterReading" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="POST /MeterReading" mediaType="application/atom+xml" postQueryString="false" id="4d27785f-7c45-49a9-b757-d37f2d6e8506">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		<con:setting id="RecordRequestRepresentations">true</con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/MeterReading</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="f0104471-5e16-4793-84d3-402bb832a24a">
		<con:configuration>
			<codes>400,401,403,415</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:attachment>
		<con:name>entry_MeterReading_2.xml</con:name>
		<con:contentType>application/atom+xml</con:contentType>
		<con:size>944</con:size>
		<con:contentId>entry_MeterReading_2.xml</con:contentId>
		<con:data>UEsDBBQACAgIAGdlK0UAAAAAAAAAAAAAAAAYAAAAZW50cnlfTWV0ZXJSZWFkaW5nXzIueG1sxVNNi9swEL3nVwjdHUn52CQm8eKkMfSwUNrspZei2JNErCIZabRp/n3lj7p0WXoqLAjBDO/Ne2+Q1o8/r5q8gvPKmg0VY04JmNJWypw39PlQJEv6mI3Wxk9TMOjuJOKNT8HXakMviHXKmJHgj2Przqxp0x4SKQPidruNb9MWMuF8znK0V5qNCCHtZFVlwZk0BFWlxWJRbIvpLMn5ap/M9ttdsnrgD0lRiHy+ysVil+/XrGcNE7QyL+Ti4DRIaltKfbEe0yVfcvZJotwFjzGZNK1PJn4I5sDb4Epg38LRl07VGPfA5uzZyzN8scogE+wJENxXkM1SmKDEgd5QD/pE2Qc46PVD/SHqsfxsYvkq9TZKvPRu4iURqv9qqVc83GsYtv6ODirUkBXqhACGPCkTEMheQ4lOlQrvZGeND9c2WfdwOsYwoLQxkMG20fQaJ+lfmTssewtu2XU4auUvUGUTLiaJ4MlkduA8bc/3jvQHM9BCXTVB/kH6jRh1Zfv7sl9QSwcI5hDMyn8BAACwAwAAUEsBAhQAFAAICAgAZ2UrReYQzMp/AQAAsAMAABgAAAAAAAAAAAAAAAAAAAAAAGVudHJ5X01ldGVyUmVhZGluZ18yLnhtbFBLBQYAAAAAAQABAEYAAADFAQAAAAA=</con:data>
		<con:id>9bd633ee-3d88-4ddf-8ec3-51dd36736ba2</con:id>
	</con:attachment>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<entry key="Authorization" value="Bearer ${#Project#data_custodian_access_token}" xmlns="http://eviware.com/soapui/config"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="PUT /MeterReading/{meterReadingId} w/o Data" id="021572cd-f6be-4ffe-88ae-8b41272e23eb">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="Put" resourcePath="/${#Project#resourceUri}/MeterReading/{meterReadingId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="PUT /MeterReading/{meterReadingId} w/o Data" mediaType="application/atom+xml" postQueryString="false" id="f1217190-69a5-404b-bf77-414f75844817">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		<con:setting id="RecordRequestRepresentations">true</con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/MeterReading</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="f95a7c2f-14af-415f-a741-d40638d798e6">
		<con:configuration>
			<codes>200,401,403,415</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<entry key="Authorization" value="Bearer ${#Project#data_custodian_access_token}" xmlns="http://eviware.com/soapui/config"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Third Party Registration Admin API" searchProperties="true" id="0f0961eb-aa88-4112-9a96-77089b29bfc7">
	<con:settings/>
	<con:testStep type="groovy" name="Feature: Third Party Registration Admin" id="f360e8b9-907d-4d64-a20a-f83aa5f48644">
		<con:settings/>
		<con:config>
			<script>//******************************************************************************************************************
				//******************************************************************************************************************
				log.info("Dons Sandbox Feature: Third Party Registration Admin API");
				//******************************************************************************************************************
				//******************************************************************************************************************
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="restrequest" name="[NEG] GET MeterReading Feed by Path" id="1e5ff803-b99f-455e-9320-a69bcfac59d7">
		<con:settings/>
		<con:config service="ESPI Resources" methodName="Get root MeterReading feed" resourcePath="/${#Project#resourceUri}/MeterReading" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="[NEG] GET MeterReading Feed by Path" mediaType="Application/atom+xml" id="97a0ae78-9d8b-47f0-8941-9e80100959c7">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:encoding>UTF-8</con:encoding>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/MeterReading</con:originalUri>
		<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="26c2fd64-6e76-4ac6-8d09-5d0e907a3218">
			<con:configuration>
				<codes>200</codes>
			</con:configuration>
		</con:assertion>
		<con:credentials>
			<con:authType>No Authorization</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters>
			<con:entry key="Authorization" value="Bearer ${#Project#registration_third_party_access_token}"/>
			<con:entry key="Content-Type" value="Application/atom+xml"/>
		</con:parameters>
	</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET /ApplicationInformation" id="c30fb329-18dd-428c-bdcd-7054c88d2ad9">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation Feed" resourcePath="/${#Project#resourceUri}/ApplicationInformation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET /ApplicationInformation" mediaType="Application/atom+xml" id="017b2995-6f24-437d-9887-e2aab449ce98">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="86889d35-6cb5-4cdc-9c57-e826fa914ad6">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#registration_third_party_access_token}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 1" id="281004e1-a4e8-43df-a4f7-e1e0c6d55966">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 1" mediaType="Application/atom+xml" id="72b8de38-081a-402a-b6ee-418bd09251f1">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="026b80fd-c86b-4479-baf7-41a3b24f81ac">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#registration_third_party_access_token}"/>
		<con:entry key="applicationInformationId" value="${#Project#applicationInformationId}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="GET /ApplicationInformation/{applicationInformationId} ID 2" id="174ca920-fb42-400b-99fc-f1c20c320b23">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="GET /ApplicationInformation/{applicationInformationId} ID 2" mediaType="Application/atom+xml" id="8442b72c-c148-4021-9c79-5b1853e35f8a">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="f23afa16-042f-4d98-b05c-a7da3e959261">
		<con:configuration>
			<codes>401,403</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#registration_third_party_access_token}"/>
		<con:entry key="applicationInformationId" value="2"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 3" id="4b2b44a1-afdb-4e05-a977-4679bd0fe20d">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 3" mediaType="Application/atom+xml" id="247b8331-f264-4a94-8fe3-dd6bc95eaeaf">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="3f1b232a-5aa8-415c-8bcd-4ce228c31b56">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#registration_third_party_access_token}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
		<con:entry key="applicationInformationId" value="3"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG} GET /ApplicationInformation/{applicationInformationId} ID 99" id="a6288f8f-1961-4279-869b-53f942a57d9f">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG} GET /ApplicationInformation/{applicationInformationId} ID 99" mediaType="Application/atom+xml" id="ea5bcb3e-7db6-4345-994c-9c2ddd887b5b">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="8ecc17c5-c18f-4b7b-a867-f02fffda5876">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#registration_third_party_access_token}"/>
		<con:entry key="applicationInformationId" value="99"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Upload Admin API" searchProperties="true" id="3ffbcd28-3bac-4e89-ba41-682f6e50b43c">
	<con:settings/>
	<con:testStep type="groovy" name="Feature: Upload Admin API" id="ad6e2233-03d3-41c8-8c96-05bd94647142">
		<con:settings/>
		<con:config>
			<script>//******************************************************************************************************************
				//******************************************************************************************************************
				log.info("Dons Sandbox Feature: Upload Admin API");
				//******************************************************************************************************************
				//******************************************************************************************************************
			</script>
		</con:config>
	</con:testStep>
	<con:testStep type="restrequest" name="[NEG] GET /ApplicationInformation" id="5deb60b8-1075-47ee-b237-ad81007fd396">
		<con:settings/>
		<con:config service="ESPI Resources" methodName="GET ApplicationInformation Feed" resourcePath="/${#Project#resourceUri}/ApplicationInformation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="[NEG] GET /ApplicationInformation" mediaType="Application/atom+xml" id="afe1bd11-1a5d-436f-aa37-abd60898ecfd">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:encoding>UTF-8</con:encoding>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation</con:originalUri>
		<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="4fc5c56e-a997-4d79-a40a-d4ff4ca2d482">
			<con:configuration>
				<codes>200</codes>
			</con:configuration>
		</con:assertion>
		<con:credentials>
			<con:authType>No Authorization</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters>
			<con:entry key="Authorization" value="Bearer ${#Project#upload_access_token}"/>
			<con:entry key="Content-Type" value="Application/atom+xml"/>
		</con:parameters>
	</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 1" id="37c47f69-7c95-4e4b-ac9a-976e214894cb">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 1" mediaType="Application/atom+xml" id="1a166859-0ec4-4ca6-863f-b7f071718ba6">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="d170a60c-cd78-4e39-9f18-3dec75abb1af">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#upload_access_token}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
		<con:entry key="applicationInformationId" value="${#Project#applicationInformationId}"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 2" id="519d54db-2c8e-41b4-924c-9b0dab51f94e">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 2" mediaType="Application/atom+xml" id="4b0171d4-37e7-4d3a-9d7b-7ac45e644927">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="11f0f7a3-7f7b-4b8e-b230-10ea08fef29e">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#upload_access_token}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
		<con:entry key="applicationInformationId" value="2"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 3" id="d1f79744-f3f7-4555-93fb-1b798c5c352e">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG] GET /ApplicationInformation/{applicationInformationId} ID 3" mediaType="Application/atom+xml" id="97383b11-7199-41a7-90cc-e0c9fd91824d">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="38ecfc36-6c93-4533-977f-b1fada4cfba8">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#upload_access_token}"/>
		<con:entry key="applicationInformationId" value="3"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:testStep type="restrequest" name="[NEG} GET /ApplicationInformation/{applicationInformationId} ID 99" id="a2b96905-dc44-49e2-9f81-b444618059ae">
	<con:settings/>
	<con:config service="ESPI Resources" methodName="GET ApplicationInformation by Id" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:restRequest name="[NEG} GET /ApplicationInformation/{applicationInformationId} ID 99" mediaType="Application/atom+xml" id="c8c4ca82-65da-4a68-809a-3152f07015ad">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:encoding>UTF-8</con:encoding>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>https://services.greenbuttondata.org/DataCustodian/espi/1_1/resource/ApplicationInformation/2</con:originalUri>
	<con:assertion type="Invalid HTTP Status Codes" name="Invalid HTTP Status Codes" id="6ff9e119-4888-45db-acd0-882b7eceba83">
		<con:configuration>
			<codes>200</codes>
		</con:configuration>
	</con:assertion>
	<con:credentials>
		<con:authType>No Authorization</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
		<con:entry key="Authorization" value="Bearer ${#Project#upload_access_token}"/>
		<con:entry key="Content-Type" value="Application/atom+xml"/>
		<con:entry key="applicationInformationId" value="99"/>
	</con:parameters>
</con:restRequest>
</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="[FB_xx] OAuth 2.0 [RFC6749] Compliance" searchProperties="true" id="9ec4c3ed-91e5-4b79-9273-3c9dec741e34">
	<con:settings/>
	<con:testStep type="groovy" name="[NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter)" id="9a252ac3-f0d3-418b-ba6c-a5c443d4229b">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import groovyx.net.http.Method
				import groovyx.net.http.ContentType
				import groovyx.net.http.HTTPBuilder
				import groovyx.net.http.HttpResponseDecorator
				import groovyx.net.http.HttpResponseException

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath


				def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

				def clientId = project.getPropertyValue("client_id")
				def redirectUri = project.getPropertyValue("redirect_uri")
				def scope = project.getPropertyValue("scope")
				def state = project.getPropertyValue("state")

				public class RestConnector {
				private String baseUrl
				private HTTPBuilder httpBuilder
				private List&lt;String> cookies

			RestConnector(String url) {
			this.baseUrl = url
			this.httpBuilder = initializeHttpBuilder()
			this.cookies = []
			}

			public def request(Method method, ContentType contentType, String url, Map&lt;String, Serializable> params) {
		debug("Send $method request to ${this.baseUrl}$url: $params")
		httpBuilder.request(method, contentType) { request ->
	uri.path = url
	uri.query = params
	headers['Cookie'] = cookies.join(';')
	}
	}

	private HTTPBuilder initializeHttpBuilder() {
	def httpBuilder = new HTTPBuilder(baseUrl)

	httpBuilder.handler.success = { HttpResponseDecorator resp, reader ->
resp.getHeaders('Set-Cookie').each {
String cookie = it.value.split(';')[0]
debug("Adding cookie to collection: $cookie")
cookies.add(cookie)
}
debug("Response: ${reader}")
return reader
}
return httpBuilder
}

private debug(String message) {
System.out.println(message) //for Gradle
}
}

///////////////////////////////
// 
//	Main Body
//
///////////////////////////////


log.info("*****************************************************************************************************");
log.info("   RESET Data Custodian Database ");
log.info("*****************************************************************************************************");	

testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDBDC']);


log.info("*****************************************************************************************************");
log.info("   Login Retail Customer -- Alan ");
log.info("*****************************************************************************************************");	

restConnector = new RestConnector(ServiceEndpoint)

Map params = [j_username: TestRetailCustomer, j_password: TestRetailCustomerPW]

restConnector.request(Method.POST, ContentType.URLENC, '/DataCustodian/j_spring_security_check', params)
assert !(restConnector.cookies.empty)


log.info("*****************************************************************************************************");
log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
log.info("*****************************************************************************************************");	

params = [client_id: clientId, redirect_uri: redirectUri, scope: scope, state: state]

restConnector.request(Method.GET, ContentType.HTML, '/DataCustodian/oauth/authorize', params)

return;

</script>
</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="LoginRetailCustomerAlan" searchProperties="true" id="07f212e3-1599-4361-8e95-63cdaeb51857">
	<con:settings/>
	<con:testStep type="groovy" name="LoginRetailCustomerAlan" id="f5857610-e8d5-4e18-bd03-477d1601803d">
		<con:settings/>
		<con:config>
			<script>/////////////////////////////////////////////////////////
				// Need these imports to run tests
				/////////////////////////////////////////////////////////
				import groovyx.net.http.Method
				import groovyx.net.http.ContentType
				import groovyx.net.http.HTTPBuilder
				import groovyx.net.http.HttpResponseDecorator
				import groovyx.net.http.HttpResponseException

				/////////////////////////////////////////////////////////
				// define some variables
				/////////////////////////////////////////////////////////

				def project = testRunner.testCase.testSuite.project
				def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
				def projectPath = groovyUtils.projectPath


				def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
				def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
				def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")


				public class RestConnector {
				private String baseUrl
				private HTTPBuilder httpBuilder
				private List&lt;String> cookies

			RestConnector(String url) {
			this.baseUrl = url
			this.httpBuilder = initializeHttpBuilder()
			this.cookies = []
			}

			public def request(Method method, ContentType contentType, String url, Map&lt;String, Serializable> params) {
		debug("Send $method request to ${this.baseUrl}$url: $params")
		httpBuilder.request(method, contentType) { request ->
	uri.path = url
	uri.query = params
	headers['Cookie'] = cookies.join(';')
	}
	}

	private HTTPBuilder initializeHttpBuilder() {
	def httpBuilder = new HTTPBuilder(baseUrl)

	httpBuilder.handler.success = { HttpResponseDecorator resp, reader ->
resp.getHeaders('Set-Cookie').each {
String cookie = it.value.split(';')[0]
debug("Adding cookie to collection: $cookie")
cookies.add(cookie)
}
debug("Response: ${reader}")
return reader
}
return httpBuilder
}

private debug(String message) {
System.out.println(message) //for Gradle
}
}

///////////////////////////////
// 
//	Main Body
//
///////////////////////////////

restConnector = new RestConnector(ServiceEndpoint)

Map params = [j_username: TestRetailCustomer, j_password: TestRetailCustomerPW]

restConnector.request(Method.POST, ContentType.URLENC, '/DataCustodian/j_spring_security_check', params)
assert !(restConnector.cookies.empty)

return;

</script>
</con:config>
</con:testStep>
<con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Groovy Test Script [NEG] OAuth Authorize Endpoint -- malformed" searchProperties="true" id="a58f9311-2d1f-44d5-bc7b-ee45a8491e07">
	<con:settings/>
	<con:testStep type="groovy" name="[NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter)" id="15f60a7e-e4fa-4422-9216-3909e2bd95ea">
		<con:settings/>
		<con:config><script><![CDATA[/////////////////////////////////////////////////////////
// Need these imports to run tests
/////////////////////////////////////////////////////////

import groovyx.net.http.Method
import groovyx.net.http.ContentType
import groovyx.net.http.HTTPBuilder
import groovyx.net.http.HttpResponseDecorator
import groovy.util.logging.Log

import org.apache.http.client.RedirectStrategy

/////////////////////////////////////////////////////////
// define some variables
/////////////////////////////////////////////////////////

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath

def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

def clientId = project.getPropertyValue("client_id")
def redirectUri = project.getPropertyValue("redirect_uri")
def scope = project.getPropertyValue("scope")
def state = project.getPropertyValue("state")

def List<String> sessionCookie = []

public class RestConnector {
	private log
	private String baseUrl
	private HTTPBuilder httpBuilder
	private List<String> cookies

	RestConnector(String url, log) {
		this.baseUrl = url
		this.httpBuilder = initializeHttpBuilder()
		this.cookies = []
		this.log = log
	}

	public def request(Method method, ContentType contentType, String url, Map<String, Serializable> params) {
		
		debug("Send $method request to ${this.baseUrl}$url: $params")
		httpBuilder.request(method, contentType) { request ->
			uri.path = baseUrl + url
			uri.query = params
			headers['Cookie'] = cookies.join(';')
		}
	}

	private HTTPBuilder initializeHttpBuilder() {
		def httpBuilder = new HTTPBuilder(baseUrl)

		httpBuilder.handler.success = { HttpResponseDecorator resp, reader ->
			resp.getHeaders('Set-Cookie').each {
				String cookie = it.value.split(';')[0]
				debug("Adding cookie to collection: $cookie")
				cookies.add(cookie)
			}
			debug("Response: ${reader}")
			return reader
		}
		return httpBuilder
	}

	private debug(String message) {
  		log.info(message);  		
	}
}


//////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 
//	httpBuilder class used to test Oauth Authorize Endpoint so that 302 failures can be captured
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////

public class OauthConnector { 
	private log
	private String baseUrl
	private HTTPBuilder httpBuilder
	private List<String> cookies

	OauthConnector(String url, List<String> cookies, log) {
		this.baseUrl = url
		this.httpBuilder = initializeOauthHttpBuilder()
		this.cookies = cookies
		this.log = log
	}

	public def request(Method method, ContentType contentType, String url, Map<String, Serializable> params) {
				
		debug("Send $method request to ${this.baseUrl}$url: $params")

		String strResult = "";

		// Make sure the HttpClient doesn't perform a redirect
		def dontHandleRedirectStrategy = [
			getRedirect : { request, response, context -> null},
			isRedirected : { request, response, context -> false}
		]

		httpBuilder.client.setRedirectStrategy(dontHandleRedirectStrategy as RedirectStrategy)
		
		// Execute a GET request and expect a redirect
		httpBuilder.request(method, contentType) { req ->
			uri.path = baseUrl + url
			uri.query = params
			headers['Cookie'] = cookies.join(';')

			response.success = { response, reader ->

				strResult = "OauthConnector Succeeded: " + response.statusLine.statusCode + " \n" + response.headers['Location'].value;
				debug(strResult);
			
				assertThat response.statusLine.statusCode, is (302)
				assertThat response.headers['Location'].value, startsWith("${baseUrl}")
			}

			response.failure = { response, reader ->
				fail("Expected redirect but received ${response.statusLine} \n ${reader}")
				strResult = "OauthConnector Failed: " + response.statusLine;
				debug(strResult)	
			}	
		}
	}

	private HTTPBuilder initializeOauthHttpBuilder() {
		def httpBuilder = new HTTPBuilder(baseUrl)

		return httpBuilder
	}
	
	private debug(String message) {
  		log.info(message);
	}
}
///////////////////////////////
// 
//	Main Body
//
///////////////////////////////


log.info("*****************************************************************************************************");
log.info("   RESET Data Custodian Database ");
log.info("*****************************************************************************************************");	
	
testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDBDC']);


log.info("*****************************************************************************************************");
log.info("   Login Retail Customer -- Alan ");
log.info("*****************************************************************************************************");	

restConnector = new RestConnector(ServiceEndpoint, log)

url = '/j_spring_security_check'
Map params = [j_username: TestRetailCustomer, j_password: TestRetailCustomerPW]
log.info("URL = " + "POST " + restConnector.baseUrl + url + params);

restConnector.request(Method.POST, ContentType.URLENC, url, params)
assert !(restConnector.cookies.empty)

sessionCookie = restConnector.cookies;

log.info("Returned session cookie = " + restConnector.cookies);


log.info("*****************************************************************************************************");
log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
log.info("*****************************************************************************************************");	

oauthConnector = new OauthConnector(ServiceEndpoint, sessionCookie, log)

log.info("oauthConnector = " + oauthConnector);
log.info("oauthConnector baseUrl = " + oauthConnector.baseUrl);
log.info("oauthConnector httpBuilder = " + oauthConnector.httpBuilder);
log.info("oauthConnector cookies = " + oauthConnector.cookies);

url = '/oauth/authorize'
params = [client_id: clientId, redirect_uri: redirectUri, scope: scope, state: state]
log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
log.info("Cookies = " + oauthConnector.cookies);

oauthConnector.request(Method.GET, ContentType.HTML, url, params);
	
return;

]]></script></con:config>
	</con:testStep>
	<con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter)" id="376f5922-9eea-4023-96a9-c236ab379a79">
		<con:settings/>
		<con:config><script>			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&amp;j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?client_id=" + clientId + "&amp;redirect_uri=" + redirectUri + "&amp;scope=" + scope + "&amp;state=" + state
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;</script></con:config>
</con:testStep>			<con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (no client_id parameter)" id="ef4da91c-3616-4521-bc45-a8a94d65504d">
		<con:settings/>
		<con:config><script>			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&amp;j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&amp;redirect_uri=" + redirectUri + "&amp;scope=" + scope + "&amp;state=" + state
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;</script></con:config>
</con:testStep><con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (no redirect_uri parameter)" id="b08194b4-a303-4fa7-9e26-0143db4cd8de">
		<con:settings/>
		<con:config><script>			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&amp;j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&amp;client_id=" + clientId + "&amp;scope=" + scope + "&amp;state=" + state 
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;</script></con:config>
</con:testStep><con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (no scope parameter)" id="54bbb444-2b5e-42da-9916-477ad64f9c45">
		<con:settings/>
		<con:config><script>			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&amp;j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&amp;client_id=" + clientId + "&amp;redirect_uri=" + redirectUri + "&amp;state=" + state
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;</script></con:config>
</con:testStep><con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (no state parameter)" id="c64f8a7f-68d3-4775-89a2-764f10901178">
		<con:settings/>
		<con:config><script>			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&amp;j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&amp;client_id=" + clientId + "&amp;redirect_uri=" + redirectUri + "&amp;scope=" + scope
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;</script></con:config>
</con:testStep><con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (multiple response_type parameters)" id="94590336-5764-4dd3-bfa7-7837e43824fb">
		<con:settings/>
		<con:config><script><![CDATA[			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&client_id=" + clientId + "&redirect_uri=" + redirectUri + "&scope=" + scope +"&state=" + state + "&response_type=" + "code"
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;]]></script></con:config>
</con:testStep><con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (multiple client_id parameters)" id="76f71fd5-6cc2-4358-a5e8-77fc365e0758">
		<con:settings/>
		<con:config><script><![CDATA[			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&client_id=" + clientId + "&redirect_uri=" + redirectUri + "&scope=" + scope +"&state=" + state + "&client_id=" + clientId
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;]]></script></con:config>
</con:testStep><con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (multiple scope parameters)" id="5bffc5cd-4a36-4a00-b54c-05ee70118974">
		<con:settings/>
		<con:config><script><![CDATA[			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&client_id=" + clientId + "&redirect_uri=" + redirectUri + "&scope=" + scope +"&state=" + state + "&scope=" + scope
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;]]></script></con:config>
</con:testStep><con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (multiple redirect_uri parameters)" id="3be12eca-461f-4ef8-bf65-8c51df08fbcb">
		<con:settings/>
		<con:config><script><![CDATA[			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&client_id=" + clientId + "&redirect_uri=" + redirectUri + "&scope=" + scope +"&state=" + state + "&redirect_uri=" + redirectUri
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;]]></script></con:config>
</con:testStep><con:testStep type="groovy" name="DEMO [NEG] OAuth Authorize Endpoint -- Reject malformed request (multiple state parameters)" id="8997037f-f533-4a88-b55e-3d05c7243bea">
		<con:settings/>
		<con:config><script><![CDATA[			/////////////////////////////////////////////////////////
			// Need these imports to run tests
			/////////////////////////////////////////////////////////

			import com.rhythmicsoftware.cmd.utils.HTTPConnector;



			/////////////////////////////////////////////////////////
			// define some variables
			/////////////////////////////////////////////////////////

			def project = testRunner.testCase.testSuite.project
			def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
			def projectPath = groovyUtils.projectPath

			def ServiceEndpoint=project.getPropertyValue("ServiceEndpoint")
			def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
			def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")

			def clientId = project.getPropertyValue("client_id")
			def redirectUri = project.getPropertyValue("redirect_uri")
			def scope = project.getPropertyValue("scope")
			def state = project.getPropertyValue("state")

			def String sessionCookie = null

			///////////////////////////////
			// 
			//	Main Body
			//
			///////////////////////////////


			log.info("*****************************************************************************************************");
			log.info("   Load Certification Configuration ");
			log.info("*****************************************************************************************************");	

			testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);


			log.info("*****************************************************************************************************");
			log.info("   Login Retail Customer -- Alan ");
			log.info("*****************************************************************************************************");	

			HTTPConnector httpConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log);
//			log.info("httpConnector: " + httpConnector);

			if( context["httpConnector"] == null )
			context["httpConnector"] = httpConnector
//			log.info("context: " + context["httpConnector"]);

			url = '/j_spring_security_check'
			params = "?j_username=" + TestRetailCustomer + "&j_password=" + TestRetailCustomerPW
			status = 302

			boolean bResult = httpConnector.doPOST("application/x-www-form-urlencoded", url, params, status);
			log.info("bResult: " + bResult);
			log.info("httpConnector cookies: " + httpConnector.cookies);

			assert (bResult)
			assert !(httpConnector.cookies.empty)

			sessionCookie = httpConnector.cookies;

			log.info("Returned session cookie = " + httpConnector.cookies);


			log.info("*****************************************************************************************************");
			log.info("   [NEG] OAuth Authorize Endpoint -- Reject malformed request (no response_type parameter");
			log.info("*****************************************************************************************************");	

			oauthConnector = new HTTPConnector(ServiceEndpoint, sessionCookie, log)

			log.info("oauthConnector: " + oauthConnector);
			log.info("oauthConnector baseUrl: " + oauthConnector.baseUrl);
			log.info("oauthConnector cookies: " + oauthConnector.cookies);

			url = '/oauth/authorize'
			params = "?response_type=" + "code" + "&client_id=" + clientId + "&redirect_uri=" + redirectUri + "&scope=" + scope +"&state=" + state + "&state=" + state
			status = 302

			log.info("url: " + url);
			log.info("client_id: " + clientId);
			log.info("redirect_uri: " + redirectUri);
			log.info("scope: " + scope);
			log.info("state: " + state);			
			
			log.info("URL = " + "GET " + oauthConnector.baseUrl + url + params);
			log.info("Cookies = " + oauthConnector.cookies);

			bResult = oauthConnector.doGET("HTML", url, params, status)
			assert(bResult)
			
			return;]]></script></con:config>
</con:testStep><con:properties/>
</con:testCase>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="[FB_14] Authorization and Authentication" searchProperties="true" id="b7ac6ce8-a97f-4e68-995c-bab4e4076eb8">
		<con:settings/>
		<con:testStep type="groovy" name="Scenario: Retail Customer views Data Custodian list" id="f7d0dbae-8c9a-41b2-b048-799495031f5a">
			<con:settings/>
			<con:config>
				<script>import org.openqa.selenium.*;
					import org.greenbutton.cmd.utils.DriverHelper;

					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath
					def BaseURL = project.getPropertyValue("BaseURL")
					def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
					def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
					def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
					def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
					def TestManager=project.getPropertyValue("TestManager")
					def TestManagerPW=project.getPropertyValue("TestManagerPW")
					def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
					def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
					def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
					def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
					def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

					DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);
					//driver._bLogActions = true;

					try{

					//*********************************************************
					log.info("Scenario: Retail Customer views Data Custodian list");
					//*********************************************************
					// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
					// Browser Init
					driver.Before();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Given a Retail Customer with Usage Points");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
					driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

					// upload usage point file
					driver.findElement(By.linkText("Upload")).click();	
					driver.findElement(By.name("file")).sendKeys(TestFile);

					driver.findElement(By.name("upload")).click();	
					driver.assertDoesNotContain("Unable to process file");

					// add usage point linkage
					driver.findElement(By.linkText("Customer List")).click();
					driver.findElement(By.linkText(TestRetailCustomer)).click();	
					driver.findElement(By.partialLinkText("Add Usage")).click();	
					driver.findElement(By.id("UUID")).clear();
					driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
					driver.findElement(By.name("create")).click();


					driver.logout(ServiceEndpointDataCustodian);

					driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("When I navigate to Data Custodian list");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.findElement(By.linkText("Data Custodians")).click();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Then I should see a list of Data Custodians");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.assertContains("data_custodian");

					} catch(Exception e) {
					testRunner.fail(driver.getErrorString())
					}

					//Close the browser
					driver.quit();
				</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="Scenario: Retail Customer selects Data Custodian for the list" id="e57c5f9d-9aa9-48d1-b289-c98f542bdbd9">
			<con:settings/>
			<con:config>
				<script>import org.openqa.selenium.*;
					import org.greenbutton.cmd.utils.DriverHelper;

					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath
					def BaseURL = project.getPropertyValue("BaseURL")
					def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
					def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
					def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
					def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
					def TestManager=project.getPropertyValue("TestManager")
					def TestManagerPW=project.getPropertyValue("TestManagerPW")
					def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
					def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
					def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
					def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
					def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

					DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

					//driver._bLogActions = true;

					try{

					//*********************************************************
					log.info("Scenario: Retail Customer selects Data Custodian for the list");
					//*********************************************************
					// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
					// Browser Init
					driver.Before();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Given a Retail Customer with Usage Points");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
					driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

					// upload usage point file
					driver.findElement(By.linkText("Upload")).click();	
					driver.findElement(By.name("file")).sendKeys(TestFile);

					driver.findElement(By.name("upload")).click();	
					driver.assertDoesNotContain("Unable to process file");

					// add usage point linkage
					driver.findElement(By.linkText("Customer List")).click();
					driver.findElement(By.linkText(TestRetailCustomer)).click();	
					driver.findElement(By.partialLinkText("Add Usage")).click();	
					driver.findElement(By.id("UUID")).clear();
					driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
					driver.findElement(By.name("create")).click();

					driver.logout(ServiceEndpointDataCustodian);

					driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("When I select a Data Custodian from the list");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.findElement(By.linkText("Data Custodians")).click();	
					driver.findElement(By.name("Data_custodian")).click();	
					driver.findElement(By.name("next")).click();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Then I should see the Data Custodian login screen");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.assertUrlContains("/DataCustodian");
					driver.assertContains("Login");

					} catch(Exception e) {
					testRunner.fail(driver.getErrorString())
					}

					//Close the browser
					driver.quit();
				</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="Scenario: Retail Customer selects Scope" id="1b696561-889d-413d-b4e5-1bea3eaeacb0">
			<con:settings/>
			<con:config>
				<script>import org.openqa.selenium.*;
					import org.greenbutton.cmd.utils.DriverHelper;

					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath
					def BaseURL = project.getPropertyValue("BaseURL")
					def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
					def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
					def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
					def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
					def TestManager=project.getPropertyValue("TestManager")
					def TestManagerPW=project.getPropertyValue("TestManagerPW")
					def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
					def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
					def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
					def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
					def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");

					DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

					//driver._bLogActions = true;

					try{

					//*********************************************************
					log.info("Scenario: Retail Customer selects Scope");
					//*********************************************************
					// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
					// Browser Init
					driver.Before();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Given a Retail Customer with Usage Points");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
					driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");


					// upload usage point file
					driver.findElement(By.linkText("Upload")).click();	
					driver.findElement(By.name("file")).sendKeys(TestFile);

					driver.findElement(By.name("upload")).click();	
					driver.assertDoesNotContain("Unable to process file");

					// add usage point linkage
					driver.findElement(By.linkText("Customer List")).click();
					driver.findElement(By.linkText(TestRetailCustomer)).click();	
					driver.findElement(By.partialLinkText("Add Usage")).click();	
					driver.findElement(By.id("UUID")).clear();
					driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
					driver.findElement(By.name("create")).click();

					driver.logout(ServiceEndpointDataCustodian);

					driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("When I select a Data Custodian from the list");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.findElement(By.linkText("Data Custodians")).click();	
					driver.findElement(By.name("Data_custodian")).click();	
					driver.findElement(By.name("next")).click();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Then I should see the Data Custodian login screen");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.assertUrlContains("/DataCustodian");
					driver.assertContains("Login");

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("When I log into Data Custodian");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.findElement(By.name("j_username")).clear();
					driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
					driver.findElement(By.name("j_password")).clear();
					driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
					driver.findElement(By.name("submit")).click();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Then I should see Scope selection screen");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.assertContains("Select Scope");
					driver.assertContains("FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13");

					} catch(Exception e) {
					testRunner.fail(driver.getErrorString())
					}

					//Close the browser
					driver.quit();
				</script>
			</con:config>
		</con:testStep>
		<con:testStep type="groovy" name="Scenario: Retail Customer authorizes Third Party" id="911461cd-77e7-4970-83e9-e77718642139">
			<con:settings/>
			<con:config>
				<script>import org.openqa.selenium.*;
					import org.greenbutton.cmd.utils.DriverHelper;

					def project = testRunner.testCase.testSuite.project
					def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
					def projectPath = groovyUtils.projectPath
					def BaseURL = project.getPropertyValue("BaseURL")
					def DataCustodianContext = project.getPropertyValue("DataCustodianContext")
					def ThirdPartyContext = project.getPropertyValue("ThirdPartyContext")
					def ServiceEndpointDataCustodian = BaseURL + "/" + DataCustodianContext
					def ServiceEndpointThirdParty = BaseURL + "/" + ThirdPartyContext;
					def TestManager=project.getPropertyValue("TestManager")
					def TestManagerPW=project.getPropertyValue("TestManagerPW")
					def TestRetailCustomer=project.getPropertyValue("TestRetailCustomer")
					def TestRetailCustomerPW=project.getPropertyValue("TestRetailCustomerPW")
					def TestFile=(new File(projectPath + "/../data/" + project.getPropertyValue("TestFile"))).getAbsolutePath();
					def usagePointUUID1 = project.getPropertyValue("usagePointUUID1");
					def usagePointDescription1 = project.getPropertyValue("usagePointDescription1");


					DriverHelper driver = new DriverHelper(BaseURL,DataCustodianContext,ThirdPartyContext,log);

					//driver._bLogActions = true;

					try{

					//*********************************************************
					log.info("Scenario: Retail Customer authorizes Third Party");
					//*********************************************************
					// reset DB : run library groovy script
					testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['resetDB']);
					// Browser Init
					driver.Before();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Given a Retail Customer with Usage Points");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.login(ServiceEndpointDataCustodian,TestManager,TestManagerPW);
					driver.assertUrlContains("/" + DataCustodianContext + "/custodian/home");

					// upload usage point file
					driver.findElement(By.linkText("Upload")).click();	
					driver.findElement(By.name("file")).sendKeys(TestFile);

					driver.findElement(By.name("upload")).click();	
					driver.assertDoesNotContain("Unable to process file");

					// add usage point linkage
					driver.findElement(By.linkText("Customer List")).click();
					driver.findElement(By.linkText(TestRetailCustomer)).click();	
					driver.findElement(By.partialLinkText("Add Usage")).click();	
					driver.findElement(By.id("UUID")).clear();
					driver.findElement(By.id("UUID")).sendKeys(usagePointUUID1);
					driver.findElement(By.name("create")).click();


					driver.logout(ServiceEndpointDataCustodian);

					driver.login(ServiceEndpointThirdParty,TestRetailCustomer,TestRetailCustomerPW);	

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("When I select a Data Custodian from the list");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.findElement(By.linkText("Data Custodians")).click();
					driver.findElement(By.name("Data_custodian")).click();
					driver.findElement(By.name("next")).click();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Then I should see the Data Custodian login screen");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.assertUrlContains("/DataCustodian");
					driver.assertContains("Login");

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("When I log into Data Custodian");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.findElement(By.name("j_username")).clear();
					driver.findElement(By.name("j_username")).sendKeys(TestRetailCustomer);	
					driver.findElement(By.name("j_password")).clear();
					driver.findElement(By.name("j_password")).sendKeys(TestRetailCustomerPW);	
					driver.findElement(By.name("submit")).click();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Then I should see Scope selection screen");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.assertContains("Select Scope");
					driver.assertContains("FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13");

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("When I select Scopes");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.findElement(By.className("scope")).click();	
					driver.findElement(By.xpath("(//input[@name='scope'])[2]")).click();	
					driver.findElement(By.name("next")).click();	

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Then I should see authorization screen");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.assertContains("Please Confirm");

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("When I authorize Third Party");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					//driver.findElement(By.name("authorize")).click();
					driver.findElement(By.name("scope.FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13")).click();
					driver.findElement(By.name("authorize")).click();

					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.logStep("Then I should see all my authorizations");
					//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					driver.assertContains("Authorizations");
					driver.assertContains("data_custodian");
					driver.assertContains("DataCustodian/espi/1_1/resource/Batch/Subscription/");

					} catch(Exception e) {
					testRunner.fail(driver.getErrorString())
					}

					//Close the browser
					driver.quit();
				</script>
			</con:config>
		</con:testStep>
		<con:properties/>
	</con:testCase><con:testCase id="0efd2e12-e718-41f8-92e4-90ff9def4ceb" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="HTTPBuilder GZIP IOException Test" searchProperties="true"><con:settings/><con:testStep type="groovy" name="HttpBuilder GZIP IOException Test" id="e25a0cc8-f9bd-49be-8887-781ecd4ad898"><con:settings/><con:config><script>import java.net.*;
import java.io.*;
import groovyx.net.http.HTTPBuilder
import groovyx.net.http.HttpResponseException;
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT
import groovyx.net.http.Method;




boolean bFailure = false;
String strResult = "";
String strBody = "";
String strBaseEndpoint = "http://localhost:8080/DataCustodian";
//String href = "/espi/1_1/resource/IntervalBlock";
String href = "/espi/1_1/resource/MeterReading/1";
String _strError="";

def http = new HTTPBuilder();


try {
	http.request( strBaseEndpoint, GET, TEXT ) { req ->
		uri.path = strBaseEndpoint+href
		headers.Authorization = 'Bearer 2a85f4bd-30db-4b7d-8f41-b046b0566cb3' ;
//  		headers.'Accept-Encoding' = 'deflate';
		headers.Accept = 'application/atom+xml'

		response.success = { resp, reader ->
			//assert resp.statusLine.statusCode == 200
			log.info "response.success -- Got response: ${resp.statusLine}"
			log.info "response.success -- Content-Type: ${resp.headers.'Content-Type'}"
			log.info "response.success -- Content-Encoding: ${resp.headers.'Content-Encoding'}"
//			log.info "response.success -- strBody: " + reader.getText();
			strBody = reader.getText();        

			}                                                                                              

			response.failure = { resp ->
				strResult = "GET Failed: " + resp.statusLine;
				bFailure = true;
			}  
	}

} catch ( HttpResponseException ex ) {
		// default failure handler throws an exception:
		log.info "HttpResponse Exception";
		strResult ="GET Unexpected response error: ${ex.statusCode}"
		_strError = strResult;
		bFailure = true;
		return true;

} catch (IOException io) {
		log.info "IO Exception!: ${io.statusLine}";
		return true;

} catch (SocketException se) {
		log.info "Socket Exception!: ${se.statusLine}";
		bFailure = true;
		return true;
	
} catch (Exception e) {
		log.info "The body in the catch is: " + strBody;
		log.info "Unexpected Exception" + e;
		strResult ="GET Unexpected error"
		_strError = strResult;
		bFailure = true;
		return true;                                    

}
</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/>
</con:testSuite>
<con:testSuite id="cb8785d5-6cd3-45d7-8366-c921d6bd07fb" name="[PrepareForCMDTest]"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="b332048a-1ae4-43da-a873-7dc3b96713ef" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="PrepareForCMDTest" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Load Configuration from gbcmdcert.conf" id="a2c9a014-e1ff-420a-895f-c441145b3b75"><con:settings/><con:config><script>// load configuration
result=testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);

</script></con:config></con:testStep><con:testStep type="groovy" name="Start Generice Get Service" id="9b4421b8-6e90-4338-b14e-15bea9bf9ab4"><con:settings/><con:config><script>def runner = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService").start();
return;</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLogs" id="0cc1676a-e15c-40b8-a127-649c10bc5f77"><con:settings/><con:config><script>com.eviware.soapui.SoapUI.logMonitor.getLogArea("script log").clear()</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite>
<con:testSuite id="c85b105c-03a4-469f-9026-eb04b60fb046" name="[FinalizeCMDTest]"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f342bb56-efdb-4a98-b131-0257bfeba1de" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FinalizeCMDTest" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Stop GenericGetService" id="02c9b42e-2bcf-4abc-929f-30a8cdfd3cd2"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService").getMockRunner().stop();
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Generate Results" id="cdd17d8f-4a19-4026-b22b-8e9cb02b460a"><con:settings/><con:config><script>result=testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['SaveScriptLog']);
return;</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite>

<con:testSuite name="[FB_01] Common" id="705bf39e-206c-4ee4-90a5-0483778c0cb0"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TR_CPYRT001 Verify the implementer has purchased the NAESB ESPI standard" searchProperties="true" id="171f69e0-c8a5-4aaa-88ed-edf5513db70f"><con:settings/><con:testStep type="groovy" name="Verify Purchase" id="6366c389-4459-419d-af48-56b5a11b49e4"><con:settings/><con:config><script>def procedure;

procedure = "Verify that testee has evidence of purchase of the NAESB standard"+"\n";
procedure = procedure + "1.  Obtain the current 'NAESB Copyright Policy and Companies\n with Access to NAESB Standard' at http://www.naesb.org/pdf2/copyright.pdf. \nAlternatively, review list of purchased standards provided by NAESB to UCAIug for this purpose. If using NAESB list, \nskip steps 2&amp;3 and paste instead row from NAESB list into box below." + "\n"
procedure = procedure + "2.  Locate implementer's name on the North American \nEnergy Standards Board's (NAESB) 'Companies with Access to NAESB Standards' report." + "\n"
procedure = procedure + "3.  Verify the 'Retail Version(s)' column of the report's \n'Standard Products' section contains evidence of implementer having \npurchased the NAESB ESPI 1.0 Standard [column includes  the '2.0' version or 'Final Action (ESPI): 2011 Retail API 8c/R10008' \n| 'REQ.21 (ESPI'] or equivalent evidence of purchase.";

def ui = com.eviware.soapui.support.UISupport;

result = ui.getDialogs().confirm(procedure, "");
log.info (result)

if(result)
{
	assert("true");
} else {
testRunner.fail("Failed to verify purchase of standard");
}</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase id="d504ff25-e9a3-4df2-94b6-3df956a371dc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FND001 Initial Test Configuration" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Initial Test Configuration from FB_03" id="adef6ec8-fc7a-4b64-acce-a2aaf9dab7d2"><con:settings/><con:config xsi:type="con:RunTestCaseStep" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f98eaed-016c-4e8a-b571-dc8759474507</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase id="acf62110-632f-4c2a-b562-91179204d826" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CERT001 Verify Presence of Certification Link" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="GET ApplicationInformation and Verify Presence of GBACertId" id="1f425628-e5ba-4345-966c-41c42fa1a132"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation and Verify Presence of GBACertId" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="50e43d76-9d7f-479a-8aa7-5e4ad89b071e"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" id="70841fb0-3621-4ef3-85ef-0a876e4cb1ee" name="XPath Match"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';</path><content>True</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
				<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
				<con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>applicationInformationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/><con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FB_03] Core Green Button Connect My Data" id="c8953f5e-e697-4dc8-b20a-edd5b8bb2eda">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FND001 [POS] Initial Test Configuration" searchProperties="true" id="6f98eaed-016c-4e8a-b571-dc8759474507"><con:description>The ThirdParty tester requires the following initial information be provided as part of the application for certification and readiness for testing.
Verify this information has been received and that SoapUI has been configured with this information.

dataCustodianId="data_custodian"
federalEIN="123456"
dataCustodianResourceEndpoint="http://localhost:8080/DataCustodian/espi/1_1/resource/"
applicationInformationId="1"
authorizationId="1"
registration_access_token="1"
client_access_token="1"
client_id="test_third_party"
client_secret="secret"</con:description><con:settings/><con:testStep type="groovy" name="Load Configuration from gbcmdcert.conf" id="2f89d7a4-a43a-4f0b-9c57-c123f63eb425"><con:settings/><con:config><script>// load configuration
result=testRunner.runTestStep(testRunner.testCase.testSuite.project.testSuites['Library'].testCases['GeneralScripts'].testSteps['LoadConfigCert']);

log.info "===== "+ result.status.toString() +" TestStep  =====> "  +  "Load Configuration from gbcmdcert.conf";
</script></con:config></con:testStep><con:testStep type="groovy" name="CheckOrGetRegistrationAccessToken" id="dba86a77-9453-4900-a767-05a3f4ecde0f"><con:settings/><con:config><script>import java.net.*;
import java.io.*;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def config = new ConfigSlurper().parse(new File(groovyUtils.projectPath + "/etc/gbcmdcert.conf").toURL())
def uri;	// lets check the DC uri

String registration_access_token = project.getPropertyValue("registration_access_token");

if (registration_access_token == "")
{
	// need to get it
	log.info "FND001 [POS] Initial Test Configuration - CheckOrGetRegistrationAccessToken: Need to obtain Registration Access Token";
}
else
{
	log.info "FND001 [POS] Initial Test Configuration - CheckOrGetRegistrationAccessToken -- registration_access_token: " + registration_access_token;
	testRunner.gotoStepByName( "Done 1");

}
</script></con:config></con:testStep><con:testStep type="restrequest" name="GetRegistrationAccessToken" id="298e5152-1eb2-457a-9334-056d4b433ebe"><con:settings/><con:config service="ESPI Resources" resourcePath="" methodName="Client Credentials" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetRegistrationAccessToken" mediaType="application/json" postQueryString="false" id="c2d8f4db-dd26-4546-a99e-770d3221f363">
	<con:settings>
		<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
</con:settings>
<con:endpoint>${#Project#AuthorizationEndpoint}</con:endpoint>
<con:request/>
<con:originalUri>http://localhost/DataCustodian/oauth/token</con:originalUri>
<con:assertion type="Valid HTTP Status Codes" id="26e96b62-01bc-4124-bbad-919f0182dac7" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
	<con:username>${#Project#registration_access_token_client_id}</con:username>
	<con:password>${#Project#registration_access_token_secret}</con:password>
	<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
	<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
	<con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType>
</con:credentials>
<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
<con:jmsPropertyConfig/>
<con:parameters>
  <con:entry key="scope" value="FB=36_40"/>
  <con:entry key="grant_type" value="client_credentials"/>
</con:parameters>
<con:parameterOrder><con:entry>grant_type</con:entry><con:entry>scope</con:entry></con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="RegistrationAccessTokenParseJSONResponse" id="2abd567a-9438-4afd-b31e-08702bf32bb7"><con:settings/><con:config><script>import groovy.json.JsonSlurper
def project = testRunner.testCase.testSuite.project
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

responseContent = testRunner.testCase.getTestStepByName("GetRegistrationAccessToken").getPropertyValue("response")
slurperresponse = new JsonSlurper().parseText(responseContent)
log.info "FND001 [POS] Initial Test Configuration - RegistrationAccessTokenParseJSONResponse -- JSON Response: " + slurperresponse
log.info "FND001 [POS] Initial Test Configuration - RegistrationAccessTokenParseJSONResponse -- Registration Access Token: " + slurperresponse.token_type + " " + slurperresponse.access_token

project.setPropertyValue("registration_access_token",slurperresponse.access_token);
authCase.setPropertyValue("registration_access_token",slurperresponse.access_token);
</script></con:config></con:testStep><con:testStep type="groovy" name="Done 1" id="946c9122-385e-4b4b-bb98-1bce492b8621"><con:settings/><con:config><script/></con:config></con:testStep><con:testStep type="restrequest" name="GET ApplicationInformation by Id" id="32df3fe6-96cc-4680-a64c-81f44d3f9d56"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation by Id" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="76d44d45-b471-4f74-8aa9-8e1b64259cc6"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="5aeef68b-2e8d-4476-bd9e-272782724009"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
count(/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianScopeSelectionScreenURI)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>applicationInformationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Extract ApplicationInformation properties" id="64fc56a6-b8a6-4b4e-a4d0-20eed66f39ed"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>dataCustodianId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianId</con:sourcePath><con:targetType>dataCustodianId</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" useXQuery="false" ignoreEmpty="false" transferChildNodes="false"><con:name>dataCustodianResourceEndpoint</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianResourceEndpoint</con:sourcePath><con:targetType>dataCustodianResourceUri</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>client_id</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:client_id</con:sourcePath><con:targetType>client_id</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" transferChildNodes="false" useXQuery="false" ignoreEmpty="false"><con:name>authorizationServerUri</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:authorizationServerUri</con:sourcePath><con:targetType>authorizationServerUri</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>resourceServerUri</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianResourceEndpoint</con:sourcePath><con:targetType>resourceServerUri</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false"><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianScopeSelectionScreenURI</con:sourcePath><con:targetType>dataCustodianScopeSelectionScreenURI</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" transferChildNodes="false" useXQuery="false" ignoreEmpty="false"><con:name>authorizationServerAuthorizationEndpoint</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:authorizationServerAuthorizationEndpoint</con:sourcePath><con:targetType>authorizationServerAuthorizationEndpoint</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>authorizationServerTokenEndpoint</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:authorizationServerTokenEndpoint</con:sourcePath><con:targetType>authorizationServerTokenEndpoint</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>redirect_uri</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:redirect_uri</con:sourcePath><con:targetType>redirect_uri</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath xsi:nil="true"/><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" transferChildNodes="false" useXQuery="false" ignoreEmpty="false"><con:name>client_secret</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:client_secret</con:sourcePath><con:targetType>client_secret</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>thirdPartyNotifyUri</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:thirdPartyNotifyUri</con:sourcePath><con:targetType>thirdPartyNotificationEndpoint</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Parse ApplicationInformation" id="65cd1946-f4af-4c72-8ad5-bd546793d0fd"><con:settings/><con:config><script>import java.net.*;
import java.io.*;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def config = new ConfigSlurper().parse(new File(groovyUtils.projectPath + "/etc/gbcmdcert.conf").toURL())
def uri;	// lets check the DC uri


def proxyOutPort = project.getPropertyValue("proxyOutPort");
def proxyOutPort1 = project.getPropertyValue("proxyOutPort1");

///////////////////////////////////////
// Convert API URIs to proxied versions
///////////////////////////////////////

// Convert URL to proxy version
public String GetProxiedUrl(String uri, String proxyOutPort)
{
	def project = testRunner.testCase.testSuite.project;
	URL aURL = new URL(uri);
	String urlproxy="";

	// check for valid url -- at least protocol and host
	if ( (aURL.getProtocol() == null) || (aURL.getHost()==null ))
	{
		testRunner.fail("unparsable url: "+ uri);	
	}
	else
	{
		log.info "Port = " + aURL.getPort();
		if (aURL.getQuery() != null) {
			urlproxy = "http://" +  "localhost" + ":"+proxyOutPort + aURL.getPath() + "?"+ aURL.getQuery();
		}
		else {
			urlproxy = "http://" +  "localhost" + ":"+proxyOutPort + aURL.getPath();
		}
		log.info "Converted = " + urlproxy;
	}

	return urlproxy;
}


service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");
genericGetServiceMockPort = service.getPropertyValue("mockPort");

// parse out ServiceEndpoint and resourceURI -- must have "espi/1_1/resource"
uri = project.getPropertyValue("dataCustodianResourceEndpoint");
log.info "DC Resource Endpoint URI: " + uri;
uritemp = uri;
i = uritemp.indexOf("espi/1_1/resource");
if(i>0) {
	// lets shorten it by stripping off up to resource
	uritemp = uritemp.substring(0,i-1);
	log.info "DC ServiceEndpoint " + uritemp;

	//uritemp = GetProxiedUrl(uritemp, proxyOutPort);
	uritemp = GetProxiedUrl(uritemp, genericGetServiceMockPort);
	project.setPropertyValue("ServiceEndpoint",uritemp);
	
	uritemp = uri;
	uritemp = uritemp.substring(uritemp.indexOf("espi/1_1/resource"), uritemp.length());
	log.info "DC resourceUri: " + uritemp;
	project.setPropertyValue("resourceUri",uritemp);
	
}  else {
	// cant be a resource
	log.info ("DC Resource Endpoint Uri not well formed: " + uri);					
}

// lets check the TP Notification uri
uri = project.getPropertyValue("thirdPartyNotificationEndpoint");
if(uri != null)
{
	log.info "TP Notification URI: " + uri;
	uritemp = uri;
	i = uritemp.indexOf("espi/1_1");
	if(i>0) {
		// lets shorten it by stripping off up to resource
		uritemp = uritemp.substring(0,i-1);
		log.info "TP NotificationEndpoint " + uritemp;
		project.setPropertyValue("NotificationEndpoint",uritemp);
		uritemp = uri;
		uritemp = uritemp.substring(uritemp.indexOf("espi/1_1"), uritemp.length());
		log.info "TP notificationUri: " + uritemp;
		project.setPropertyValue("notificationUri",uritemp);
		
	}  else {
		// cant be a resource
		log.info ("TP Notification Endpoint Uri not well formed: " + uri);					
	}
}
else
{
	testRunner.fail("Missing TP thirdPartyNotificationEndpoint");	
}

/*
// check URI and compute proxy version	
uritemp = project.getPropertyValue("authorizationServerTokenEndpoint");
if(uritemp != null)
{

	uritemp = GetProxiedUrl(uritemp, proxyOutPort1);
	project.setPropertyValue("authorizationServerTokenEndpoint",uritemp);

	URL aURL = new URL(uritemp);

	// get authorization server
	if (aURL.getPort().equals(-1))
	{
		project.setPropertyValue("authorizationServer",aURL.getHost()  );
	}
	else {
		project.setPropertyValue("authorizationServer",aURL.getHost() + ":" +aURL.getPort());
	}
}
*/

// transfer to Authorization Case where other tests are looking
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

authCase.setPropertyValue("access_token",project.getPropertyValue("access_token"));
authCase.setPropertyValue("token_type",project.getPropertyValue("token_type"));
authCase.setPropertyValue("refresh_token",project.getPropertyValue("refresh_token"));
authCase.setPropertyValue("expires_in",project.getPropertyValue("expires_in"));
authCase.setPropertyValue("scope",project.getPropertyValue("scope"));
authCase.setPropertyValue("resourceURI",project.getPropertyValue("resourceURI"));
authCase.setPropertyValue("authorizationURI",project.getPropertyValue("authorizationURI"));
authCase.setPropertyValue("dataCustodianScopeSelectionScreenURI",project.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
authCase.setPropertyValue("authorizationServerAuthorizationEndpoint",project.getPropertyValue("authorizationServerAuthorizationEndpoint"));
authCase.setPropertyValue("redirect_uri",project.getPropertyValue("redirect_uri"));
authCase.setPropertyValue("authorizationServerTokenEndpoint",project.getPropertyValue("authorizationServerTokenEndpoint"));
authCase.setPropertyValue("OAuthCodeReceivedValue",project.getPropertyValue("OAuthCodeReceivedValue"));
authCase.setPropertyValue("client_id",project.getPropertyValue("client_id"));
authCase.setPropertyValue("client_secret",project.getPropertyValue("client_secret"));


authCase.setPropertyValue("authorizationServerAuthorizationEndpoint",project.getPropertyValue("authorizationServerAuthorizationEndpoint"));
authCase.setPropertyValue("authorizationServerTokenEndpoint",project.getPropertyValue("authorizationServerTokenEndpoint"));

authCase.setPropertyValue("resourceServer",project.getPropertyValue("resourceServer"));


authCase.setPropertyValue("mockPort",project.getPropertyValue("mockPort"));
authCase.setPropertyValue("proxyOutPort",project.getPropertyValue("proxyOutPort"));

log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('access_token'): " + authCase.getPropertyValue("access_token"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('token_type'): " + authCase.getPropertyValue("token_type"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('refresh_token'): " + authCase.getPropertyValue("refresh_token"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('expires_in'): " + authCase.getPropertyValue("expires_in"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('scope'): " + authCase.getPropertyValue("scope"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('resourceURI'): " + authCase.getPropertyValue("resourceURI"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('authorizationURI'): " + authCase.getPropertyValue("authorizationURI"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('dataCustodianScopeSelectionScreenURI'): " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('authorizationServerAuthorizationEndpoint'): " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('redirect_uri'): " + authCase.getPropertyValue("redirect_uri"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('authorizationServerTokenEndpoint'): " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('OAuthCodeReceivedValue'): " + authCase.getPropertyValue("OAuthCodeReceivedValue"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('client_id'): " + authCase.getPropertyValue("client_id"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('client_secret'): " + authCase.getPropertyValue("client_secret"));

log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('authorizationServerAuthorizationEndpoint'): " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('authorizationServerTokenEndpoint'): " + authCase.getPropertyValue("authorizationServertokenEndpoint"));

log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('resourceServer'): " + authCase.getPropertyValue("resourceServer"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('mockPort'): " + authCase.getPropertyValue("mockPort"));
log.info("FND001 Initial Test Configuration -- 'Parse ApplicationInformation' authCase.getPropertyValue('proxyOutPort'): " + authCase.getPropertyValue("proxyOutPort"));
</script></con:config></con:testStep><con:testStep type="groovy" name="CheckOrGetClientAccessToken" id="3078dbd8-8cba-4cbb-a44e-6e17e8479d38"><con:settings/><con:config><script>import java.net.*;
import java.io.*;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def config = new ConfigSlurper().parse(new File(groovyUtils.projectPath + "/etc/gbcmdcert.conf").toURL())
def uri;	// lets check the DC uri

String client_access_token = project.getPropertyValue("client_access_token");

if (client_access_token == "")
{
	// need to get it
	log.info "FND001 [POS] Initial Test Configuration - CheckOrGetClientAccessToken: Need to obtain Client Access Token";
}
else
{
	log.info "FND001 [POS] Initial Test Configuration - CheckOrGetClientAccessToken -- client_access_token: " + client_access_token;
	testRunner.gotoStepByName( "Done");

}
</script></con:config></con:testStep><con:testStep type="restrequest" name="GetClientAccessToken" id="c440acdc-4e2e-43c7-9411-48fae67f78cf"><con:settings/><con:config service="ESPI Resources" resourcePath="" methodName="Client Credentials" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetClientAccessToken" mediaType="application/json" postQueryString="false" id="9ba40594-5ba1-490b-b4b8-0547108733e3">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#AuthorizationEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/oauth/token</con:originalUri>
	<con:assertion type="Valid HTTP Status Codes" id="dbd9c6a4-fc49-4e2c-a4a1-267e768ef00b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
		<con:username>${#Project#client_access_token_client_id}</con:username>
		<con:password>${#Project#client_access_token_secret}</con:password>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
		<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
		<con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters>
  <con:entry key="scope" value="FB=34_35"/>
  <con:entry key="grant_type" value="client_credentials"/>
</con:parameters>
	<con:parameterOrder><con:entry>grant_type</con:entry><con:entry>scope</con:entry></con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="ParseJSONResponse" id="2a318bc3-be68-47b4-9c89-f0ac55563644"><con:settings/><con:config><script>import groovy.json.JsonSlurper
def project = testRunner.testCase.testSuite.project
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

responseContent = testRunner.testCase.getTestStepByName("GetClientAccessToken").getPropertyValue("response")
slurperresponse = new JsonSlurper().parseText(responseContent)

log.info "FND001 [POS] Initial Test Configuration - ParseJSONResponse -- JSON Response: " + slurperresponse
log.info "FND001 [POS] Initial Test Configuration - ParseJSONResponse -- Client Access Token: " + slurperresponse.token_type + " " + slurperresponse.access_token

project.setPropertyValue("client_access_token",slurperresponse.access_token);
authCase.setPropertyValue("client_access_token",slurperresponse.access_token);
</script></con:config></con:testStep><con:testStep type="groovy" name="Done" id="29dbe879-6273-4c43-a04c-a23d39307da1"><con:settings/><con:config><script/></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FND002 [POS][R] Authorized GET access to ApplicationInformation entry" searchProperties="true" id="720bfc98-a2d2-4679-a25c-1ab6b2ec6cb6"><con:settings/><con:testStep type="restrequest" name="GET and verify ApplicationInformation" id="57b667a0-6564-4fdc-a39e-33cc2ffb07fa"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET and verify ApplicationInformation" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="50e43d76-9d7f-479a-8aa7-5e4ad89b071e"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema validation" id="1d9dd3c9-e60f-4d34-943d-d4ec5549c069"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="dataCustodianApplicationStatus must contain a value of 1,2,3 or 4" id="8f1eccbb-ec10-4306-9cb1-e84adcf394a5"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianApplicationStatus=1 or
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianApplicationStatus=2 or
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianApplicationStatus=3 or
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianApplicationStatus=4</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="token_endpoint_auth_method must contain the value client_secret_basic" id="c51f6647-e7e2-45cc-b561-7ce6be462b2f"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:token_endpoint_auth_method='client_secret_basic'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="grant_types must contain a value of authorization_code, refresh_token or client_credentials" id="79f830b2-a78d-449c-a04b-19a40229695f"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
(/ns3:entry/ns3:content/espi:ApplicationInformation/espi:grant_types='authorization_code') or
(/ns3:entry/ns3:content/espi:ApplicationInformation/espi:grant_types='refresh_token') or 
(/ns3:entry/ns3:content/espi:ApplicationInformation/espi:grant_types='client_credentials')</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="response_types must be 'code'" id="af6b6165-1df4-4ad2-b1ec-8a77a6952467"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:response_types='code'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
				<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
				<con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>applicationInformationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FND003 [POS][C] Authorized GET access to Authorization feed" searchProperties="true" id="0d8885cd-82a7-48ad-8144-1a20113fd8a9"><con:settings/><con:testStep type="restrequest" name="GET and verify Authorization Feed" id="bd896549-f765-48c0-96d5-ee945a340e1f"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization" methodName="GET Authorization Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET and verify Authorization Feed" mediaType="application/json" id="78372758-3493-4c0e-925a-ffff58d1cb41">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		<con:setting id="AutoInferSchemas">false</con:setting></con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="139f02a2-2a01-4200-8130-86f65eb9b25c"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="47d1fbb3-dffe-46e0-9dd3-a64ad807a461"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

//new File(strSchemaFile).withReader{xsd -> SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI).newSchema(new StreamSource(xsd)).newValidator().validate(new StreamSource(new StringReader(response)))}


StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FND004 [POS][C] Authorized GET access to Authorization entry" searchProperties="true" id="5f6945b3-0e08-4d6a-ab73-114465502a91"><con:settings/><con:testStep type="restrequest" name="GET Authorization by Id" id="a583c92e-8b18-4d1f-8e68-b402e6f22f88"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="GET Authorization by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization by Id" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="5c43c6ac-abf0-49cf-accf-c1690117ee3e"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="86ae0d49-c42c-439b-a86c-b0be08ba1abc"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="51abe7a0-fd4e-4daa-b8e3-217efc292127"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';

/ns3:entry/ns3:content/espi:Authorization/espi:expires_at and 
/ns3:entry/ns3:content/espi:Authorization/espi:scope and
/ns3:entry/ns3:content/espi:Authorization/espi:token_type and 
/ns3:entry/ns3:content/espi:Authorization/espi:resourceURI and
/ns3:entry/ns3:content/espi:Authorization/espi:authorizationURI and
( not(/ns3:entry/ns3:content/espi:Authorization/espi:status) or (ns3:entry/ns3:content/espi:Authorization/espi:status='0') or (ns3:entry/ns3:content/espi:Authorization/espi:status='1') or (ns3:entry/ns3:content/espi:Authorization/espi:status='2'))</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>authorizationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FND005 [POS][A] Authorized GET access to Batch/Subscription feed" searchProperties="true" id="d62e2649-ece3-49b5-ac10-ee1ec70600b7"><con:description/><con:settings/><con:testStep type="groovy" name="InformUser" id="4f311188-09b7-4e10-a867-ec278e6f69bd"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
log.info("FND005 [POS] [A] Authorized GET access to Batch/Subscription feed 'informUser' -- client_secret: " + authCase.getPropertyValue("client_secret"));

String strCertScopes = testRunner.testCase.testSuite.project.getPropertyValue("certScopes");
log.info "CertScopes to test: " + strCertScopes;

strCertScopes = strCertScopes.replace("FB=","");

List listFBsToTest = strCertScopes.tokenize("_");

String strFBsNotTested = "";

int iCntRemaining = 0;

for(Object object : listFBsToTest) {
	String strFB = (String) object;

	if(context.mapFBsTested.get(strFB)!=true)
	{
		iCntRemaining++;
		if(strFBsNotTested!=""){
			strFBsNotTested = strFBsNotTested + "_" + strFB;
		} else {
			strFBsNotTested = strFB;
		}
	}
}

if(iCntRemaining == 0) {
	testRunner.gotoStepByName("Done");
	return;
}

String strDialog = "The following function blocks are to be certified:\r\n'" + strCertScopes + "'\r\n\r\n\
The following FBs Have not yet been tested:\r\n '" + strFBsNotTested + "'\r\n\r\n\
Please continue to create authorizations untill all function blocks have been tested.\r\n\r\n\
Please click Yes to continue testing or No to stop testing.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.info("FND005 [POS] [A] Authorized GET access to Batch/Subscription feed 'informUser' -- response: No");
	log.error("Failed FB validation tests. Testing terminated by user.");
	testRunner.fail("Failed FB validation tests. Testing terminated by user.");
	return;	
}

log.info("FND005 [POS] [A] Authorized GET access to Batch/Subscription feed 'informUser' -- response: YES");
log.info("FND005 [POS] [A] Authorized GET access to Batch/Subscription feed 'informUser' -- client_secret: " + authCase.getPropertyValue("client_secret"));
</script></con:config></con:testStep><con:testStep type="calltestcase" name="Run TestCase Create Authorization" id="61dcca52-4fb1-41aa-8b29-60e0be6004d0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>00812f7a-b4ce-4782-bf13-f27a979f6d00</con:targetTestCase><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>redirect_uri</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>access_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>resourceURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>token_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>refresh_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>expires_in</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>scope</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>error</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_id</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>old_access_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_secret</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerProxy</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>resourceServerProxy</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>mockPort</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>proxyOutPort</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerAuthorizationEndpointProxy</con:name></con:property><con:property><con:name>authorizationServerTokenEndpointProxy</con:name></con:property><con:property><con:name>client_access_token</con:name></con:property><con:property><con:name>resourceServer</con:name></con:property><con:property><con:name>registration_access_token</con:name></con:property></con:properties><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Extract information from authorization" id="5639abcf-7a15-47fb-8c1e-1158091388f6"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
def headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);

propTestStep = context.testCase.getTestStepByName("GET Authorization URI");
headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("authorizationURI"));
headers.put("Authorization","Bearer " + testRunner.testCase.testSuite.project.getPropertyValue("client_access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);

</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI" id="385eca90-b9e6-4646-a4d3-7ff3576f1042"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI" id="4c065077-eff3-4431-8201-a501b8acd7a6" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer fed2dea9-4567-40d2-94e7-94e7a65ee072"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="10ded9d8-6ec9-476d-8438-75d0c7c8cdba"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="fe6a24dc-9d74-4915-8ff5-b7de94296d82"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="FB Data Validation Tests" id="e07e9e92-d45a-4220-a1e6-b154b16a7d35"><con:settings/><con:config><script>import javax.xml.transform.TransformerFactory;
import javax.xml.transform.stream.StreamResult;
import javax.xml.transform.stream.StreamSource;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context);
def ResponseMessage = testRunner.testCase.testSteps["GET Resource URI"].testRequest.response.contentAsString;
def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Authorization Mock Service");

String strScope =  service.getPropertyValue("SelectedScope");
String strFBs;
strScope.eachMatch("FB=.*?;") { match ->
	strFBs = match;
}
 
strFBs = strFBs.replace("FB=","");
strFBs = strFBs.replace(";","");

List listFB = strFBs.tokenize("_");

String strPassedTests = "";

boolean bFailure = false;

boolean bFirst = true;
for(Object object : listFB) {
	String strFB = (String) object;

	if((strFB=="1")||(strFB=="4")||(strFB=="5")||(strFB=="6")||(strFB=="7")||(strFB=="8")||(strFB=="9")||(strFB=="10")||
		(strFB=="11")||(strFB=="12")||(strFB=="15")||(strFB=="16")||(strFB=="17")||(strFB=="27")||(strFB=="28")||(strFB=="29")||(strFB=="99")){

		context.mapFBsTested.put(strFB,true);	
		
		//log.info("Running data test for FB:" + strFB);
	
		String strFBTestXSLT = groovyUtils.projectPath + "/fnBlockTests/FB_" + strFB + ".xsl";
 	
		java.io.StringWriter sw=new java.io.StringWriter();
		StreamResult sr=new StreamResult(sw);
		
		StringReader readerResponseBody = new StringReader(ResponseMessage);		
		
		def factory = TransformerFactory.newInstance();
		def transformer = factory.newTransformer(new StreamSource(strFBTestXSLT));
		transformer.transform(new StreamSource(readerResponseBody), sr);
		 
		def holder;
		try{
			holder = groovyUtils.getXmlHolder(sw.toString());
		} catch(org.apache.xmlbeans.XmlException e) {
			log.error("Invalid xslt result body:" + e.toString());
			bFailure = true;
			break;
		}
		
		String strCount = "0";
		try{
			strCount = holder.getNodeValue("count(//assert)")
		} catch(org.apache.xmlbeans.XmlException e) {
			log.error("Invalid xslt body: " + e.toString());
			bFailure = true;
			break;
		}
		
		for(int i=1;i&lt;strCount.toInteger()+1;i++){
			String strTestID = holder.getNodeValue("//assert[" + i + "]/@TestID");
			String strTestName = holder.getNodeValue("//assert[" + i + "]/TestName");
			String strReport = holder.getNodeValue("//assert[" + i + "]/Report");		
			log.error("FB [" + strFB + "] Failed Test ID: " + strTestID + " Name: '" + strTestName + "' Report: '" + strReport + "'");
			bFailure = true;
		}		

		if(strCount.toInteger()==0){
			// passed
			if(bFirst){
				bFirst = false;
				strPassedTests = strFB;
			} else {
				strPassedTests += "_" + strFB;
			}
		}
	} 
}

if(strPassedTests!=""){
	log.info("Passed the following FB data validations: " + strPassedTests);
}

if(bFailure){
	log.error("Failed FB validation tests. Please refer to error log for details.");
	testRunner.fail("Failed FB validation tests. Please refer to error log for details.");
}

</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Authorization URI" id="d5d39f3b-710c-4076-a698-9bccfdadbb49"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Authorization URI" id="81e49c44-9f6d-48d9-b15b-26d827d5f235" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer 0feb857a-a6fb-48e8-b100-e1b0a9338fbb"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="88efefb2-ecd7-4037-9d72-45735d67aa2f"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema validation" id="1c62b622-4dea-4211-9334-0fad55ab55ab"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Goto begining" id="17281b65-15ef-47ee-aabf-1fb2795110f9"><con:settings/><con:config><script>// Branch to first Test Step to continue
testRunner.gotoStepByName("InformUser");
return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Done" id="ba955ef3-ea8e-491d-abe6-7de4a0cb7d7c"><con:settings/><con:config><script>log.info "End Script Test Step";

assert true;</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()
testRunner.testCase.setPropertyValue("testsPerformed","");

def mapFBsTested = [:];
context.mapFBsTested = mapFBsTested;</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>extracted_scope_sel_uri</con:name><con:value>http://localhost:8080/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=third_party</con:value></con:property><con:property><con:name>iCntRemaining</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>redirect_uri</con:name><con:value>http://localhost:8081/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>testsPerformed</con:name><con:value/></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FND006 [POS][C] Authorized GET access to ReadServiceStatus" searchProperties="true" id="a5744784-2b85-461b-b265-c3ee56742237">
	<con:settings/>
	<con:testStep type="restrequest" name="GET and verify ServiceStatus" id="a6593c74-f056-4e74-aa11-1754c524e692">
		<con:settings/>
		<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadServiceStatus" methodName="GET ServiceStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="GET and verify ServiceStatus" mediaType="application/json" id="60e1ff43-7b61-4173-9448-051a3c6ddf48">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="d3e7ed27-dd63-4c67-90fc-ef215e27b966">
			<con:configuration>
				<codes>200</codes>
			</con:configuration>
		</con:assertion>
		<con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="951fdfec-f1d8-4add-81ce-9d233b6aa0bc"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="b5d41889-dc30-4195-bd11-36bceb2656a7">
			<con:configuration><path>declare namespace espi='http://naesb.org/espi';
					/espi:ServiceStatus/espi:currentStatus</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
		</con:assertion>
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest>
</con:config>
</con:testStep>
<con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/>
</con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FB_13] Security and Privacy" id="b36f2150-030a-4a0f-a27b-b21258b4eb97">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC001 Use of HTTPS" searchProperties="true" id="f7eef33d-5d99-4f2c-83c0-504725b1b0d8"><con:description>Verify the Data Custodian under test response HTTP header contains field indicating establishment of a secure session.</con:description><con:settings/><con:testStep type="restrequest" name="Use of HTTPS" id="f34f632e-31d3-4085-a7da-0cac6d222372"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Use of HTTPS" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="50e43d76-9d7f-479a-8aa7-5e4ad89b071e"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema validation" id="1d9dd3c9-e60f-4d34-943d-d4ec5549c069"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e62c2cf5-1658-4905-99aa-639079a5e9dc" name="Script Assertion"><con:configuration><scriptText>import com.eviware.soapui.support.XmlHolder

public boolean TestUrl(String url)
{
	log.info "Testing URL: " + url ;

	// could be not present -- schema validation in prior step ensures
	//	required urls are present
	if(url == null)
		return true;


		
	def aURL = new URL (url);

	if (aURL.getProtocol() != "https")
		return false;
	else
		return true;
}

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def holder = new XmlHolder( messageExchange.responseContentAsXml);
holder.declareNamespace( 'espi', 'http://naesb.org/espi');
holder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

/*
v =  holder.getNodeValue("//espi:authorizationServerUri");

//log.info "count: " + strCount + v;
log.info "value: " + v ;
log.info v.getClass();
r = TestUrl(v);

if(v != null)
	log.info "value: " + v + "Test result: " + TestUrl(v);
*/

if( TestUrl(holder.getNodeValue("//espi:authorizationServerUri")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:thirdPartyNotifyUri")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:authorizationServerAuthorizationEndpoint")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:authorizationServerRegistrationEndpoint")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:authorizationServerTokenEndpoint")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:dataCustodianBulkRequestURI")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:dataCustodianResourceEndpoint")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:thirdPartyScopeSelectionScreenURI")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:thirdPartyUserPortalScreenURI")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:logo_uri")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:client_uri")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:redirect_uri")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:registration_client_uri")) == false) testRunner.fail("not using https");
if( TestUrl(holder.getNodeValue("//espi:dataCustodianScopeSelectionScreenURI")) == false) testRunner.fail("not using https");
</scriptText></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
				<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
				<con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>applicationInformationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC003 Data Custodian implements TLS 1.2" searchProperties="true" id="cc542435-5c48-47a7-b851-cea36d8e1e97"><con:description>Verify the Data Custodian under test implements TLS 1.2.</con:description><con:settings/><con:testStep type="groovy" name="Verify support for TLS 1.2 using OpenSSL" id="fdd42250-b01b-45c9-ada4-bd324456c1ce">
	<con:settings/>
	<con:config><script>def project = testRunner.testCase.testSuite.project
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];
def ts = tc.getTestStepByName("runCommand");

def authorizationServer = project.getPropertyValue( "authorizationServer" );
def resourceServer = project.getPropertyValue( "resourceServer" );
def opensslCmd = project.getPropertyValue("opensslCmd");
def String strResult ;
def String returnCode;

tc.setPropertyValue("path",project.getPropertyValue( "stunnelConfigDirectory"));
tc.setPropertyValue("timeout","2");

// check the authorization server
log.info "Testing authorizationServer: " + authorizationServer;
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -CApath " + project.getPropertyValue("CApathDirectory") + " -verify 10 -showcerts -cert stunnel.pem -connect " + authorizationServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");
returnCode = tc.getPropertyValue("returncode");

if(strResult.contains("Protocol  : TLSv1.2") &amp;&amp; (returnCode.equals("0"))){
	log.info("Authorization Server: " + authorizationServer + " implemented TLS 1.2 as required");
	assert true;
} else {
	log.info "Authorization Server: " + authorizationServer + " did not implement TLS 1.2 as required";
	testRunner.fail("Authorization Server: " + authorizationServer + " did not implement TLS 1.2 as required");
}

// check the resource server
log.info "Testing resourceServer: " + resourceServer;
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -CApath " + project.getPropertyValue("CApathDirectory") + " -verify 10 -showcerts -cert stunnel.pem -connect " + resourceServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");
returnCode = tc.getPropertyValue("returncode");


if(strResult.contains("Protocol  : TLSv1.2") &amp;&amp; (returnCode.equals("0"))){
	log.info("Resource Server: " + resourceServer + " implemented TLS 1.2 as required");
	assert true;
} else {
	log.info "Resource Server: " + resourceServer + " did not implement TLS 1.2 as required";
	testRunner.fail("Resource Server: " + resourceServer + " did not implement TLS 1.2 as required");
}



//log.info tc.getPropertyValue("cmd");
//log.info strResult;


//strResult.eachLine {
//	line -> log.info(line);
//};







</script></con:config>
</con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC004 Negotiate highest level of TLS with browser" searchProperties="true" id="7f7c64e4-c822-40c6-a1de-3c4a6606cac2"><con:description>Verify that when communicating with a Retail Customer the Data Custodian negotiates the highest level of TLS supported by both parties.</con:description><con:settings/><con:testStep type="groovy" name="Verify that when communicating with a Retail Customer or Third Party the Data Custodian negotiates the highest level of TLS mutually supported." id="fd88994e-0e32-4282-a0a2-b8086f83dbc8">
	<con:settings/>
	<con:config><script><![CDATA[def project = testRunner.testCase.testSuite.project
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];
def String strResult;

def authorizationServer = project.getPropertyValue( "authorizationServer" );
def resourceServer = project.getPropertyValue( "resourceServer" );

def opensslCmd = project.getPropertyValue("opensslCmd");
sslport="443";
tc.setPropertyValue("path",project.getPropertyValue( "stunnelConfigDirectory"));
tc.setPropertyValue("timeout","2");

// for authorizationServer
log.info "===== Testing authorizationServer: " + authorizationServer + " =====";
// see if tls 1.2 is negotiated
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -tls1 -tls1_1 -tls1_2 -cert stunnel.pem -connect " + authorizationServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

if( (strResult.contains("Protocol  : TLSv1.2")) && (!strResult.contains("Cipher    : 0000"))){
	log.info("Authorization Server: " + authorizationServer + " successfully supports TLS 1.2 as required");
} else {
	log.info "Authorization Server: " + authorizationServer + " failed to support TLS 1.2 as required";
	testRunner.fail("Authorization Server: " + authorizationServer + " failed to support TLS 1.2 as required");
}


// next see if tls 1.1 is negotiated
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -tls1 -tls1_1 -cert stunnel.pem -connect " + authorizationServer );
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

if( (strResult.contains("Protocol  : TLSv1.1")) && (!strResult.contains("Cipher    : 0000"))){
	log.info("Authorization Server: " + authorizationServer + " successfully supports TLS 1.1 as required");
} else {
	log.info "Authorization Server: " + authorizationServer + " failed to support TLS 1.1 as required"
	testRunner.fail("Authorization Server: " + authorizationServer + " failed to support TLS 1.1 as required");
}

// next see if tls 1.0 is negotiated
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -tls1 -cert stunnel.pem -connect " + authorizationServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

if( (strResult.contains("Protocol  : TLSv1")) && (!strResult.contains("Cipher    : 0000"))){
	log.info("Authorization Server: " + authorizationServer + " successfully supports TLS 1 as required");
} else {
	log.info "Authorization Server: " + authorizationServer + " failed to support TLS 1 as required";
	testRunner.fail("Authorization Server: " + authorizationServer + " failed to support TLS 1 as required");
}


// for resourceServer
log.info "===== Testing resourceServer: " + resourceServer + " =====";

// see if tls 1.2 is negotiated
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cert stunnel.pem -tls1 -tls1_1 -tls1_2 -connect " + resourceServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

if( (strResult.contains("Protocol  : TLSv1.2")) && (!strResult.contains("Cipher    : 0000"))){
	log.info("Resource Server: " + resourceServer + " successfully supports TLS 1.2 as required");
} else {
	log.info "Resource Server: " + resourceServer + " failed to support TLS 1.2 as required";
	testRunner.fail("Resource Server: " + resourceServer + " failed to support TLS 1.2 as required");
}


// next see if tls 1.1 is negotiated
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cert stunnel.pem -tls1 -tls1_1 -connect " + resourceServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

if( (strResult.contains("Protocol  : TLSv1.1")) && (!strResult.contains("Cipher    : 0000"))){
	log.info("Resource Server: " + resourceServer + " successfully supports TLS 1.1 as required");
} else {
	log.info "Resource Server: " + resourceServer + " failed to support TLS 1.1 as required";
	testRunner.fail("Resource Server: " + resourceServer + " failed to support TLS 1.1 as required");
}

// next see if tls 1.0 is negotiated
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cert stunnel.pem -tls1 -connect " + resourceServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

if( (strResult.contains("Protocol  : TLSv1")) && (!strResult.contains("Cipher    : 0000"))){
	log.info("Resource Server: " + resourceServer + " successfully supports TLS 1 as required");
} else {
	log.info "Resource Server: " + resourceServer + " failed to support TLS 1 as required"
	testRunner.fail("Resource Server: " + resourceServer + " failed to support TLS 1 as required");
}


return;

]]></script></con:config>
</con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC005 Reject TLS_RSA_WITH_NULL_SHA cipher suite" searchProperties="true" id="75a32bde-dad0-4684-b02c-dcb1a2804aae"><con:description>Verify that when communicating with a Retail Customer the Data Custodian rejects TLS_RSA_WITH_NULL_SHA cipher suites.</con:description><con:settings/><con:testStep type="groovy" name="Reject TLS_RSA_WITH_NULL_SHA cipher suite" id="43eba2ae-ef55-4e11-add0-7dfef83c3040">
	<con:settings/>
	<con:config><script>def project = testRunner.testCase.testSuite.project
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];
def String strResult;

def authorizationServer = project.getPropertyValue( "authorizationServer" );
def resourceServer = project.getPropertyValue( "resourceServer" );
def opensslCmd = project.getPropertyValue("opensslCmd");
sslport="443";


// for authorizationServer
log.info "===== Testing authorizationServer: " + authorizationServer + " =====";

tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cipher NULL-SHA -connect " + authorizationServer);
tc.setPropertyValue("path",project.getPropertyValue( "stunnelConfigDirectory"));
tc.setPropertyValue("timeout","2");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);


strResult = tc.getPropertyValue("stdout");

if( strResult.contains("Cipher    : NULL-SHA")) {

	log.info "Authorization Server: " + authorizationServer + " failed to rejected NULL-SHA cipher as required";
	testRunner.fail("Authorization Server: " + authorizationServer + " failed to rejected NULL-SHA cipher as required");

} else {
	log.info("Authorization Server: " + authorizationServer + " properly rejected NULL-SHA cipher as required");
}


// for resourceServer
log.info "===== Testing resourceServer: " + resourceServer + " =====";

tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cipher NULL-SHA -cert stunnel.pem -connect " + resourceServer);
tc.setPropertyValue("timeout","2");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);


strResult = tc.getPropertyValue("stdout");

if( strResult.contains("Cipher    : NULL-SHA")) {

	log.info "Resource Server: " + resourceServer + " failed to rejected NULL-SHA cipher as required";
	testRunner.fail("Resource Server: " + resourceServer + " failed to rejected NULL-SHA cipher as required");

} else {
	log.info("Resource Server: " + resourceServer + " properly rejected the NULL-SHA cipher as required");
}



assert true;
</script></con:config>
</con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC006 Accept TLS_RSA_WITH_AES_128_CBC_SHA cipher suite" searchProperties="true" id="625e14db-c86a-49ee-a1a8-7cdc96c0b3f0"><con:description>Verify that when communicating with a Retail Customer at a minimum the Data Custodian accepts the TLS_RSA_WITH_AES_128_CBC_SHA cipher suite.</con:description><con:settings/><con:testStep type="groovy" name="Accept TLS_RSA_WITH_AES_128_CBC_SHA cipher suite" id="655c7614-4df4-470a-83fa-955ae981ecd3">
	<con:settings/>
	<con:config><script>def project = testRunner.testCase.testSuite.project
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];
def String strResult;

def authorizationServer = project.getPropertyValue( "authorizationServer" );
def resourceServer = project.getPropertyValue( "resourceServer" );

def opensslCmd = project.getPropertyValue("opensslCmd");
sslport="443";

// for authorizationServer
log.info "===== Testing authorizationServer: " + authorizationServer + " =====";

tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cipher AES128-SHA -cert stunnel.pem -connect " + authorizationServer);
tc.setPropertyValue("path",project.getPropertyValue( "stunnelConfigDirectory"));
tc.setPropertyValue("timeout","2");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);


strResult = tc.getPropertyValue("stdout");

if( strResult.contains("Cipher is AES128-SHA")) {

	log.info("Authorization Server: " + authorizationServer + " properly accepted the required AES128-SHA cipher");

} else {
	log.info "Authorization Server: " + authorizationServer + " failed to accept the required AES128-SHA cipher";
	testRunner.fail("Authorization Server: " + authorizationServer + " failed to accept the required AES128-SHA cipher");
}


// for resourceServer
log.info "===== Testing resourceServer: " + resourceServer + " =====";

tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cipher AES128-SHA -cert stunnel.pem -connect " + resourceServer);
tc.setPropertyValue("timeout","2");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);


strResult = tc.getPropertyValue("stdout");

if( strResult.contains("Cipher is AES128-SHA")) {

	log.info("Resource Server: " + resourceServer + " properly accepted the required AES128-SHA cipher");

} else {
	log.info "Resource Server: " + resourceServer + " failed to accept the required AES128-SHA cipher"
	testRunner.fail("Resource Server: " + resourceServer + " failed to accept the required AES128-SHA cipher");
}



assert true;

</script></con:config>
</con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC008 Quality of Certificate" searchProperties="true" id="53fa906b-92aa-415d-a2d6-6bb1a630e5c0"><con:description>Verify that the Data Custodian maintains an unexpired unrevoked RSA certificate with a public key length of at least 2048 bits.</con:description><con:settings/><con:testStep type="groovy" name="Quality of Certificate" id="3fc323c2-087b-4d17-8f23-c92dfb707851">
	<con:settings/>
	<con:config><script>import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.io.File;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];
def String strResult;

Calendar cal;

DateFormat df = new SimpleDateFormat ("MMM dd HH:mm:ss yyyy z");
Date dNB;
Date dNA;

Date now = new Date();
String datetimeStr = now.toString();


def authorizationServer = project.getPropertyValue( "authorizationServer" );
def resourceServer = project.getPropertyValue( "resourceServer" );

def opensslCmd = project.getPropertyValue("opensslCmd");
tc.setPropertyValue("path",project.getPropertyValue( "stunnelConfigDirectory"));
tc.setPropertyValue("timeout","2");


//////////////////////////////////////
// for authorizationServer
//////////////////////////////////////
log.info "===== Testing authorizationServer: " + authorizationServer + " =====";
// check that the key is 2048 bits
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cert stunnel.pem -connect " + authorizationServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

if(strResult.contains("Server public key is 2048 bit")){
	log.info("Authorization Server: " + authorizationServer + " uses a 2048 bit public key as required");
} else {
	log.info "Authorization Server: " + authorizationServer + " does not use a 2048 bit public key as required";
	testRunner.fail("Authorization Server: " + authorizationServer + " does not use a 2048 bit public key as required");
}

// verify certificate is unexpired
// fetch the certificate
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cert stunnel.pem -connect " + authorizationServer + "| sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > " + projectPath + "/etc/getcert.pem");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");
		
// get the dates
tc.setPropertyValue("cmd", opensslCmd + " x509 -noout -in " + projectPath + "/etc/getcert.pem -dates");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");


strNotBefore = strResult.substring(strResult.indexOf("notBefore=") + "notBefore=".length(),strResult.indexOf(" GMT",strResult.indexOf("notBefore=")));
strNotAfter = strResult.substring(strResult.indexOf("notAfter=") + "notAfter=".length(),strResult.indexOf(" GMT",strResult.indexOf("notAfter=")));

cal = Calendar.getInstance();

dNB = df.parse(strNotBefore + " GMT");
dNA = df.parse(strNotAfter + " GMT");

now = new Date();
datetimeStr = now.toString();

if(now.after(dNB) &amp;&amp; now.before(dNA)) {
	log.info("Authorization Server: " + authorizationServer + " uses an active Certificate");
} else {
	log.info "Authorization Server: " + authorizationServer + " uses an expired Certificate";
	testRunner.fail("Authorization Server: " + authorizationServer + " uses an expired Certificate");

	try{
		File file = new File(projectPath+"/etc/getcert.pem");
		file.delete();
	} catch(Exception e) {
		log.error("Error deleting /etc/getcert.pem file:" + e.getMessage());
	}	
}

// check if RSA
// get the dates
tc.setPropertyValue("cmd", opensslCmd + " x509 -text -in " + projectPath + "/etc/getcert.pem -dates");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");


if(strResult.contains("Public Key Algorithm: rsaEncryption")){
	log.info("Authorization Server: " + authorizationServer + " Public Key uses the required rsa Encryption algorithm");
} else {
	log.info "Authorization Server: " + authorizationServer + " Public Key does not use the required rsa Encryption algorithm";
	testRunner.fail("Authorization Server: " + authorizationServer + " Public Key does not use the required rsa Encryption algorithm");
}


try{
	File file = new File(projectPath+ "/etc/getcert.pem");
	file.delete();
} catch(Exception e) {
	log.error("Error deleting /etc/getcert.pem file:" + e.getMessage());
}	



//////////////////////////////////////
// for resourceServer
//////////////////////////////////////
log.info "===== Testing resourceServer: " + resourceServer + " =====";
// check that the key is 2048 bits
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cert stunnel.pem -connect " + resourceServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

if(strResult.contains("Server public key is 2048 bit")){
	log.info("Resource Server: " + resourceServer + " uses a 2048 bit public key as required");
} else {
	log.info "Resource Server: " + resourceServer + " does not use a 2048 bit public key as required";
	testRunner.fail("Resource Server: " + resourceServer + " does not use a 2048 bit public key as required");
}

// verify certificate is unexpired
// fetch the certificate
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -cert stunnel.pem -connect " + resourceServer + "| sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > " + projectPath + "/etc/getcert.pem");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");
		
// get the dates
tc.setPropertyValue("cmd", opensslCmd + " x509 -noout -in " + projectPath + "/etc/getcert.pem -dates");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");


strNotBefore = strResult.substring(strResult.indexOf("notBefore=") + "notBefore=".length(),strResult.indexOf(" GMT",strResult.indexOf("notBefore=")));
strNotAfter = strResult.substring(strResult.indexOf("notAfter=") + "notAfter=".length(),strResult.indexOf(" GMT",strResult.indexOf("notAfter=")));

cal = Calendar.getInstance();

dNB = df.parse(strNotBefore + " GMT");
dNA = df.parse(strNotAfter + " GMT");


if(now.after(dNB) &amp;&amp; now.before(dNA)) {
	log.info("Resource Server: " + resourceServer + " uses an active Certificate");
} else {
	log.info "Resource Server: " + resourceServer + " uses an expired Certificate";
	testRunner.fail("Resource Server: " + resourceServer + " uses an expired Certificate");

	try{
		File file = new File(projectPath+ "/etc/getcert.pem");
		file.delete();
	} catch(Exception e) {
		log.error("Error deleting /etc/getcert.pem file:" + e.getMessage());
	}	
}

// check if RSA
// get the dates
tc.setPropertyValue("cmd", opensslCmd + " x509 -text -in " + projectPath + "/etc/getcert.pem -dates");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");


if(strResult.contains("Public Key Algorithm: rsaEncryption")){
	log.info("Resource Server: " + resourceServer + " Public Key uses the required rsa Encryption algorithm");
} else {
	log.info "Resource Server: " + resourceServer + " Public Key does not use the required rsa Encryption algoritm";
	testRunner.fail("Resource Server: " + resourceServer + " Public Key does not use the required rsa Encryption algorithm");
}


try{
	File file = new File(projectPath+ "/etc/getcert.pem");
	file.delete();
} catch(Exception e) {
	log.error("Error deleting /etc/getcert.pem file:" + e.getMessage());
}	



return;


</script></con:config>
</con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC009 Root of trust" searchProperties="true" id="44207f64-e3c4-4822-b6b1-0ade8dc45663"><con:description>Test software or manual inspection shall verify that the Data Custodian RSA certificate was issued by a Certificate Authority (CA) that has been successfully audited according to the criteria of ETSI or WebTrust.</con:description><con:settings/><con:testStep type="groovy" name="Root of trust" id="208dd4a2-9142-44f2-a14c-28830ff9f816"><con:settings/><con:config><script>import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.io.File;

def ui = com.eviware.soapui.support.UISupport;
def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath
def tc= testRunner.testCase.testSuite.project.testSuites['Library'].testCases['RunCommand'];
def String strResult;

Calendar cal;

DateFormat df = new SimpleDateFormat ("MMM dd HH:mm:ss yyyy z");
Date dNB;
Date dNA;

Date now = new Date();
String datetimeStr = now.toString();


def authorizationServer = project.getPropertyValue( "authorizationServer" );
def resourceServer = project.getPropertyValue( "resourceServer" );

def opensslCmd = project.getPropertyValue("opensslCmd");
sslport="443";
tc.setPropertyValue("path",project.getPropertyValue( "stunnelConfigDirectory"));
tc.setPropertyValue("timeout","2");


//////////////////////////////////////
// for authorizationServer
//////////////////////////////////////
log.info "===== Testing Authorization Server: " + authorizationServer + " =====";

// check for connection
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -tls1_2  -cert stunnel.pem -connect " + resourceServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

// check that connection occurred
if( (strResult.contains("Protocol  : TLSv1.2")) &amp;&amp; (!strResult.contains("Cipher    : 0000"))){
} else {
	log.info "Authorization Server: " + authorizationServer + " failed TLS 1.2 negotiation";
	testRunner.fail("Authorization Server: " + authorizationServer + " failed TLS 1.2 negotiation");
}


// fetch the certificate
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -tls1_2 -cert stunnel.pem -connect " + authorizationServer + "| sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > " + projectPath + "/etc/getcert.pem");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");


// get the certificate issuer
tc.setPropertyValue("cmd", opensslCmd + " x509 -issuer -noout -in "+ projectPath + "/etc/getcert.pem");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

// remove pem file
try{
	File file = new File(projectPath+ "/etc/getcert.pem");
	file.delete();
} catch(Exception e) {
	log.error("Error deleting /etc/getcert.pem file:" + e.getMessage());
}	

// Ask testee to verify (manual procedure)
result = ui.getDialogs().confirm("Verify Authorization Server: " + authorizationServer + " certificate issuer is recognized by ETSI or WebTrust:\n\n" + strResult, "\n");
log.info (result)

if(result)
{
	log.info "Authorization Server: " + authorizationServer + " Certificate was issued by a CA recognized by ETSI or WebTrust";
} else {
	log.info "Authorization Server: " + authorizationServer + " Certificate was not issued by a CA recognized by ETSI or WebTrust";
	testRunner.fail("Authorization Server: " + authorizationServer + " Certificate was not issued by a CA recognized by ETSI or WebTrust");
}


//////////////////////////////////////
// for resourceServer
//////////////////////////////////////
log.info "===== Testing Resource Server: " + resourceServer + " =====";

// check for connection
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -tls1_2  -cert stunnel.pem -connect " + resourceServer);
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

// check that connection occurred
if( (strResult.contains("Protocol  : TLSv1.2")) &amp;&amp; (!strResult.contains("Cipher    : 0000"))){
} else {
	log.info "Resource Server: " + resourceServer + " failed TLS 1.2 negotiation";
	testRunner.fail("Resource Server: " + resourceServer + " failed TLS 1.2 negotiation");
}


// fetch the certificate
tc.setPropertyValue("cmd", "echo Q | " + opensslCmd + " " + "s_client -tls1_2  -cert stunnel.pem -connect " + resourceServer + "| sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > " + projectPath + "/etc/getcert.pem");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");


// get the certificate issuer
tc.setPropertyValue("cmd", opensslCmd + " x509 -issuer -noout -in "+ projectPath + "/etc/getcert.pem");
tc.run(new com.eviware.soapui.support.types.StringToObjectMap(), false);
strResult = tc.getPropertyValue("stdout");

// remove pem file
try{
	File file = new File(projectPath+ "/etc/getcert.pem");
	file.delete();
} catch(Exception e) {
	log.error("Error deleting /etc/getcert.pem file:" + e.getMessage());
}	


// Ask testee to verify (manual procedure)
result = ui.getDialogs().confirm("Verify Resource Server: " + resourceServer + " certificate issuer is recognized by ETSI or WebTrust:\n\n" + strResult, "\n");
log.info (result)

if(result)
{
	log.info "Resource Server: " + resourceServer + " Certificate was issued by a CA recognized by ETSI or WebTrust";
} else {
	log.info "Resource Server: " + resourceServer + " Certificate was not issued by a CA recognized by ETSI or WebTrust";
	testRunner.fail("Resource Server: " + resourceServer + " Certificate was not issued by a CA recognized by ETSI or WebTrust");
}


assert true;
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC010 Tokens and IDs have no PII" searchProperties="true" id="f2657555-c565-40fd-8bea-689fe45e254d"><con:description>Test software or manual inspection shall verify that Tokens and IDs communicated by the Data Custodian are opaque and if based on actual Customer information that they are randomized using a secure method to protect privacy.</con:description><con:settings/><con:testStep type="calltestcase" name="Run TestCase Create Authorization" id="8c6b97c0-cf20-479d-ba98-2fcab2405b3a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyLoadTestProperties="false" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>00812f7a-b4ce-4782-bf13-f27a979f6d00</con:targetTestCase><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>access_token</con:name><con:value>bcb8c269-fa54-4f31-8239-1dd35212cb0e</con:value></con:property><con:property><con:name>resourceURI</con:name><con:value>espi/1_1/resource</con:value></con:property><con:property><con:name>authorizationURI</con:name><con:value>scope=FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>token_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>refresh_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>expires_in</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>scope</con:name><con:value>FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>error</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_id</con:name><con:value>surface_tp</con:value></con:property><con:property><con:name>old_access_token</con:name></con:property><con:property><con:name>client_secret</con:name></con:property><con:property><con:name>authorizationServerProxy</con:name></con:property><con:property><con:name>resourceServerProxy</con:name></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name></con:property><con:property><con:name>authorizationServerAuthorizationEndpointProxy</con:name></con:property><con:property><con:name>authorizationServerTokenEndpointProxy</con:name></con:property><con:property><con:name>client_access_token</con:name></con:property><con:property><con:name>resourceServer</con:name></con:property><con:property><con:name>registration_access_token</con:name></con:property></con:properties><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Extract information from authorization" id="cbae16f1-0185-4e95-8000-a9437dc12e4d"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
def headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
headers.put("Authorization","Bearer " + testRunner.testCase.testSuite.project.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
 </script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI" id="56836459-4a00-438e-9e49-473f4079e441"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI" id="78e4f188-7880-4f9a-89cc-aabcc1efe6c3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer 881162e8-cb5d-4855-a3e8-69a4d80f3cc2"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="abf9a02f-0549-44e3-b1ae-a2d99f0e05b1"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="3978bfd5-0e54-4aa4-93a1-0499147f36c1"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="TransferResponse" id="5904ca27-48d0-42f5-b230-aa3d18169dbd"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>response</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GET Resource URI</con:sourceStep><con:targetType>response</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Tokens and IDs have no PII" id="874d046a-9525-4597-9c8e-65fd8fe0f5be"><con:settings/><con:config><script>import com.eviware.soapui.support.XmlHolder;

import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def ui = com.eviware.soapui.support.UISupport;

// get the response
def responseXML = testRunner.testCase.getPropertyValue("response");
def holder      = new XmlHolder(responseXML);  
holder.namespaces["atom"] = "http://www.w3.org/2005/Atom";
holder.namespaces["espi"] = "http://naesb.org/espi";



// check id
countIds = holder["count(//atom:id)"].toInteger();
log.info "IDs:" + countIds;
if (countIds > 10) 
	countIds = 10;
ids = "";
for( item in holder.getNodeValues( "//atom:id" ))
{
	ids = ids + item + "\n";
	//   log.info "Item : [$item]"
}

// Ask testee to verify (manual procedure)
result = ui.getDialogs().confirm("Verify that these IDs do not contain account or other personal identifiers \n\n"+ ids.toString(), "\n");
log.info (result)

if(result)
{
	log.info "ids do not contain PII";
} else {
	testRunner.fail( "ids not verified to exclude PII");
	return;
}



// check url
countLinks = holder["count(//atom:link)"].toInteger();
log.info "Links: " + countLinks;
if (countLinks > 10) 
	countLinks = 10;
links = "";
for( item in holder.getNodeValues( "//atom:link/@href" ))
{
	links = links + item + "\n";
	//   log.info "Item : [$item]"
}

// Ask testee to verify (manual procedure)
result = ui.getDialogs().confirm("Verify that these IDs do not contain account or other personal identifiers \n\n"+ links.toString(), "\n");
log.info (result)

if(result)
{
	log.info "links do not contain PII";
} else {
	testRunner.fail( "links not verified to exclude PII");
	return;
}

// check title
countTitles = holder["count(//atom:title)"].toInteger();
log.info "Titles: " + countTitles;
if (countTitles > 10) countTitles = 10;
titles = "";
for( item in holder.getNodeValues( "//atom:title" ))
{
	if(item != null)
		titles = titles + item + "\n";
	//   log.info "Item : [$item]"
}

// Ask testee to verify (manual procedure)
result = ui.getDialogs().confirm("Verify that these titles do not contain account or other personal identifiers \n\n"+ titles.toString(), "\n");
log.info (result)

if(result)
{
	log.info "titles do not contain PII";
} else {
	testRunner.fail( "titles not verified to exclude PII");
	return;
}


</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>response</con:name><con:value><![CDATA[<?xml-stylesheet type="text/xsl" href="GreenButtonDataStyleSheet.xslt"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <id>urn:uuid:b1c9d4a5-8a05-4a14-988b-03c6c2cbbe37</id>
   <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
   <title>Green Button Usage Feed</title>
   <updated>2016-02-29T02:49:20Z</updated>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7" rel="self"/>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:48c2a019-5598-4e16-b0f9-49e4ff27f5fb</id>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1" rel="self"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerQualitySummary" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerUsageSummary" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="related"/>
      <link href="/espi/1_1/resource/LocalTimeParameters/01" rel="related"/>
      <title>Front Electric Meter</title>
      <content>
         <espi:UsagePoint>
            <espi:ServiceCategory>
               <espi:kind>0</espi:kind>
            </espi:ServiceCategory>
         </espi:UsagePoint>
      </content>
      <published>2012-10-24T04:00:00Z</published>
      <updated>2012-10-24T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:54c62ebe-2db6-4d4f-b6bf-1973a079c841</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/LocalTimeParameters" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="self"/>
      <title>DST For North America</title>
      <content>
         <espi:LocalTimeParameters>
            <espi:dstEndRule>B40E2000</espi:dstEndRule>
            <espi:dstOffset>3600</espi:dstOffset>
            <espi:dstStartRule>360E2000</espi:dstStartRule>
            <espi:tzOffset>-18000</espi:tzOffset>
         </espi:LocalTimeParameters>
      </content>
      <published>2012-10-24T04:00:00Z</published>
      <updated>2012-10-24T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:f77fbf34-a09e-4ebc-9606-ff1a59a17cae</id>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1" rel="self"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ReadingType/1" rel="related"/>
      <link href="/espi/1_1/resource/ReadingType/07" rel="related"/>
      <title>Fifteen Minute Electricity Consumption</title>
      <content>
         <espi:MeterReading/>
      </content>
      <published>2012-10-24T04:00:00Z</published>
      <updated>2012-10-24T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:fe9a61bb-6913-42d4-88be-9634a218ef53</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/1" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330578000</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>974</espi:cost>
               <espi:ReadingQuality>
                  <espi:quality>8</espi:quality>
               </espi:ReadingQuality>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330578000</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>965</espi:cost>
               <espi:ReadingQuality>
                  <espi:quality>7</espi:quality>
               </espi:ReadingQuality>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330578900</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330579800</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>995</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330580700</espi:start>
               </espi:timePeriod>
               <espi:value>331</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330581600</espi:start>
               </espi:timePeriod>
               <espi:value>321</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>948</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330582500</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>898</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330583400</espi:start>
               </espi:timePeriod>
               <espi:value>299</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>976</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330584300</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330585200</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>828</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330586100</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330587000</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>875</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330587900</espi:start>
               </espi:timePeriod>
               <espi:value>291</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330588800</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>954</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330589700</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330590600</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>821</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330591500</espi:start>
               </espi:timePeriod>
               <espi:value>273</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>910</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330592400</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>977</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330593300</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>987</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330594200</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>858</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330595100</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2561</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330596000</espi:start>
               </espi:timePeriod>
               <espi:value>853</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2558</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330596900</espi:start>
               </espi:timePeriod>
               <espi:value>852</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2542</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330597800</espi:start>
               </espi:timePeriod>
               <espi:value>847</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2630</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330598700</espi:start>
               </espi:timePeriod>
               <espi:value>876</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9643</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330599600</espi:start>
               </espi:timePeriod>
               <espi:value>1607</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9787</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330600500</espi:start>
               </espi:timePeriod>
               <espi:value>1631</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9547</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330601400</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9574</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330602300</espi:start>
               </espi:timePeriod>
               <espi:value>1595</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8282</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330603200</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9330</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330604100</espi:start>
               </espi:timePeriod>
               <espi:value>1555</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8667</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330605000</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8544</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330605900</espi:start>
               </espi:timePeriod>
               <espi:value>1424</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8332</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330606800</espi:start>
               </espi:timePeriod>
               <espi:value>1388</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9694</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330607700</espi:start>
               </espi:timePeriod>
               <espi:value>1615</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8304</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330608600</espi:start>
               </espi:timePeriod>
               <espi:value>1384</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9711</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330609500</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8682</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330610400</espi:start>
               </espi:timePeriod>
               <espi:value>1447</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8427</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330611300</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9584</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330612200</espi:start>
               </espi:timePeriod>
               <espi:value>1597</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8448</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330613100</espi:start>
               </espi:timePeriod>
               <espi:value>1408</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5292</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330614000</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5123</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330614900</espi:start>
               </espi:timePeriod>
               <espi:value>853</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5963</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330615800</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5641</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330616700</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5656</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330617600</espi:start>
               </espi:timePeriod>
               <espi:value>942</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5677</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330618500</espi:start>
               </espi:timePeriod>
               <espi:value>946</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5075</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330619400</espi:start>
               </espi:timePeriod>
               <espi:value>845</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5168</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330620300</espi:start>
               </espi:timePeriod>
               <espi:value>861</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5877</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330621200</espi:start>
               </espi:timePeriod>
               <espi:value>979</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5611</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330622100</espi:start>
               </espi:timePeriod>
               <espi:value>935</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330623000</espi:start>
               </espi:timePeriod>
               <espi:value>988</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5243</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330623900</espi:start>
               </espi:timePeriod>
               <espi:value>873</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5599</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330624800</espi:start>
               </espi:timePeriod>
               <espi:value>933</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5786</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330625700</espi:start>
               </espi:timePeriod>
               <espi:value>964</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5475</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330626600</espi:start>
               </espi:timePeriod>
               <espi:value>912</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5592</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330627500</espi:start>
               </espi:timePeriod>
               <espi:value>932</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11422</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330628400</espi:start>
               </espi:timePeriod>
               <espi:value>951</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11026</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330629300</espi:start>
               </espi:timePeriod>
               <espi:value>918</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10592</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330630200</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10094</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330631100</espi:start>
               </espi:timePeriod>
               <espi:value>841</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16299</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330632000</espi:start>
               </espi:timePeriod>
               <espi:value>905</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17502</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330632900</espi:start>
               </espi:timePeriod>
               <espi:value>972</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15167</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330633800</espi:start>
               </espi:timePeriod>
               <espi:value>842</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14879</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330634700</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20511</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330635600</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21834</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330636500</espi:start>
               </espi:timePeriod>
               <espi:value>909</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23895</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330637400</espi:start>
               </espi:timePeriod>
               <espi:value>995</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21110</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330638300</espi:start>
               </espi:timePeriod>
               <espi:value>879</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33485</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330639200</espi:start>
               </espi:timePeriod>
               <espi:value>1116</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37850</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330640100</espi:start>
               </espi:timePeriod>
               <espi:value>1261</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39192</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330641000</espi:start>
               </espi:timePeriod>
               <espi:value>1306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34924</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330641900</espi:start>
               </espi:timePeriod>
               <espi:value>1164</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44125</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330642800</espi:start>
               </espi:timePeriod>
               <espi:value>1470</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47955</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330643700</espi:start>
               </espi:timePeriod>
               <espi:value>1598</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45117</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330644600</espi:start>
               </espi:timePeriod>
               <espi:value>1503</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45246</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330645500</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35606</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330646400</espi:start>
               </espi:timePeriod>
               <espi:value>1483</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34141</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330647300</espi:start>
               </espi:timePeriod>
               <espi:value>1422</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38734</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330648200</espi:start>
               </espi:timePeriod>
               <espi:value>1613</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38415</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330649100</espi:start>
               </espi:timePeriod>
               <espi:value>1600</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27463</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330650000</espi:start>
               </espi:timePeriod>
               <espi:value>1525</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29200</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330650900</espi:start>
               </espi:timePeriod>
               <espi:value>1622</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29211</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330651800</espi:start>
               </espi:timePeriod>
               <espi:value>1622</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29495</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330652700</espi:start>
               </espi:timePeriod>
               <espi:value>1638</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19146</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330653600</espi:start>
               </espi:timePeriod>
               <espi:value>1595</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18504</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330654500</espi:start>
               </espi:timePeriod>
               <espi:value>1542</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18624</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330655400</espi:start>
               </espi:timePeriod>
               <espi:value>1552</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330656300</espi:start>
               </espi:timePeriod>
               <espi:value>1652</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5833</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330657200</espi:start>
               </espi:timePeriod>
               <espi:value>972</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5919</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330658100</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5012</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330659000</espi:start>
               </espi:timePeriod>
               <espi:value>835</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5262</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330659900</espi:start>
               </espi:timePeriod>
               <espi:value>877</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>934</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330660800</espi:start>
               </espi:timePeriod>
               <espi:value>311</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330661700</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>835</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330662600</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330663500</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-02T05:00:00Z</published>
      <updated>2012-03-02T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:0e49b341-cabd-445b-8f88-7acf791b1863</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/2" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330664400</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>938</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330664400</espi:start>
               </espi:timePeriod>
               <espi:value>312</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>888</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330665300</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>909</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330666200</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>862</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330667100</espi:start>
               </espi:timePeriod>
               <espi:value>287</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330668000</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330668900</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>945</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330669800</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330670700</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330671600</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>877</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330672500</espi:start>
               </espi:timePeriod>
               <espi:value>292</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>872</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330673400</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>911</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330674300</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330675200</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>863</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330676100</espi:start>
               </espi:timePeriod>
               <espi:value>287</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>827</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330677000</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>988</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330677900</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>928</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330678800</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>826</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330679700</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>834</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330680600</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330681500</espi:start>
               </espi:timePeriod>
               <espi:value>321</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2590</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330682400</espi:start>
               </espi:timePeriod>
               <espi:value>863</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2767</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330683300</espi:start>
               </espi:timePeriod>
               <espi:value>922</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2658</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330684200</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2774</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330685100</espi:start>
               </espi:timePeriod>
               <espi:value>924</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8727</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330686000</espi:start>
               </espi:timePeriod>
               <espi:value>1454</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9158</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330686900</espi:start>
               </espi:timePeriod>
               <espi:value>1526</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8866</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330687800</espi:start>
               </espi:timePeriod>
               <espi:value>1477</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8441</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330688700</espi:start>
               </espi:timePeriod>
               <espi:value>1406</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8521</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330689600</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9036</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330690500</espi:start>
               </espi:timePeriod>
               <espi:value>1506</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8284</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330691400</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9859</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330692300</espi:start>
               </espi:timePeriod>
               <espi:value>1643</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9327</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330693200</espi:start>
               </espi:timePeriod>
               <espi:value>1554</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8208</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330694100</espi:start>
               </espi:timePeriod>
               <espi:value>1368</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8268</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330695000</espi:start>
               </espi:timePeriod>
               <espi:value>1378</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8796</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330695900</espi:start>
               </espi:timePeriod>
               <espi:value>1466</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9058</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330696800</espi:start>
               </espi:timePeriod>
               <espi:value>1509</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8967</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330697700</espi:start>
               </espi:timePeriod>
               <espi:value>1494</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8399</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330698600</espi:start>
               </espi:timePeriod>
               <espi:value>1399</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330699500</espi:start>
               </espi:timePeriod>
               <espi:value>1480</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5775</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330700400</espi:start>
               </espi:timePeriod>
               <espi:value>962</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5321</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330701300</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5867</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330702200</espi:start>
               </espi:timePeriod>
               <espi:value>977</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5518</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330703100</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5078</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330704000</espi:start>
               </espi:timePeriod>
               <espi:value>846</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5896</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330704900</espi:start>
               </espi:timePeriod>
               <espi:value>982</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5699</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330705800</espi:start>
               </espi:timePeriod>
               <espi:value>949</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330706700</espi:start>
               </espi:timePeriod>
               <espi:value>996</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5189</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330707600</espi:start>
               </espi:timePeriod>
               <espi:value>864</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5715</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330708500</espi:start>
               </espi:timePeriod>
               <espi:value>952</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4961</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330709400</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5775</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330710300</espi:start>
               </espi:timePeriod>
               <espi:value>962</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5712</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330711200</espi:start>
               </espi:timePeriod>
               <espi:value>952</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5769</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330712100</espi:start>
               </espi:timePeriod>
               <espi:value>961</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330713000</espi:start>
               </espi:timePeriod>
               <espi:value>941</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5784</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330713900</espi:start>
               </espi:timePeriod>
               <espi:value>964</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10354</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330714800</espi:start>
               </espi:timePeriod>
               <espi:value>862</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11809</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330715700</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11145</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330716600</espi:start>
               </espi:timePeriod>
               <espi:value>928</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10607</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330717500</espi:start>
               </espi:timePeriod>
               <espi:value>883</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17272</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330718400</espi:start>
               </espi:timePeriod>
               <espi:value>959</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17788</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330719300</espi:start>
               </espi:timePeriod>
               <espi:value>988</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17744</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330720200</espi:start>
               </espi:timePeriod>
               <espi:value>985</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16424</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330721100</espi:start>
               </espi:timePeriod>
               <espi:value>912</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20751</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330722000</espi:start>
               </espi:timePeriod>
               <espi:value>864</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23622</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330722900</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19714</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330723800</espi:start>
               </espi:timePeriod>
               <espi:value>821</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21403</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330724700</espi:start>
               </espi:timePeriod>
               <espi:value>891</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35235</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330725600</espi:start>
               </espi:timePeriod>
               <espi:value>1174</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37458</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330726500</espi:start>
               </espi:timePeriod>
               <espi:value>1248</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33041</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330727400</espi:start>
               </espi:timePeriod>
               <espi:value>1101</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39082</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330728300</espi:start>
               </espi:timePeriod>
               <espi:value>1302</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45871</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330729200</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45108</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330730100</espi:start>
               </espi:timePeriod>
               <espi:value>1503</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46485</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330731000</espi:start>
               </espi:timePeriod>
               <espi:value>1549</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44524</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330731900</espi:start>
               </espi:timePeriod>
               <espi:value>1484</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18237</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330732800</espi:start>
               </espi:timePeriod>
               <espi:value>1519</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17062</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330733700</espi:start>
               </espi:timePeriod>
               <espi:value>1421</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19129</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330734600</espi:start>
               </espi:timePeriod>
               <espi:value>1594</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17080</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330735500</espi:start>
               </espi:timePeriod>
               <espi:value>1423</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14028</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330736400</espi:start>
               </espi:timePeriod>
               <espi:value>1558</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13576</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330737300</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12636</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330738200</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14019</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330739100</espi:start>
               </espi:timePeriod>
               <espi:value>1557</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9793</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330740000</espi:start>
               </espi:timePeriod>
               <espi:value>1632</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330740900</espi:start>
               </espi:timePeriod>
               <espi:value>1445</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330741800</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9790</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330742700</espi:start>
               </espi:timePeriod>
               <espi:value>1631</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4855</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330743600</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4625</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330744500</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4269</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330745400</espi:start>
               </espi:timePeriod>
               <espi:value>1423</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4785</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330746300</espi:start>
               </espi:timePeriod>
               <espi:value>1595</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2494</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330747200</espi:start>
               </espi:timePeriod>
               <espi:value>831</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2753</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330748100</espi:start>
               </espi:timePeriod>
               <espi:value>917</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2783</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330749000</espi:start>
               </espi:timePeriod>
               <espi:value>927</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2958</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330749900</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-03T05:00:00Z</published>
      <updated>2012-03-03T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:1a1a106f-7108-4532-a5a6-fd48f7da3b8d</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/3" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330750800</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>944</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330750800</espi:start>
               </espi:timePeriod>
               <espi:value>314</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330751700</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>967</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330752600</espi:start>
               </espi:timePeriod>
               <espi:value>322</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>859</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330753500</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>854</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330754400</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330755300</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>887</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330756200</espi:start>
               </espi:timePeriod>
               <espi:value>295</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>885</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330757100</espi:start>
               </espi:timePeriod>
               <espi:value>295</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>913</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330758000</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>838</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330758900</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330759800</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330760700</espi:start>
               </espi:timePeriod>
               <espi:value>321</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330761600</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>843</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330762500</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330763400</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>975</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330764300</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>986</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330765200</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>961</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330766100</espi:start>
               </espi:timePeriod>
               <espi:value>320</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>955</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330767000</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>842</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330767900</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330768800</espi:start>
               </espi:timePeriod>
               <espi:value>883</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2478</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330769700</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2771</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330770600</espi:start>
               </espi:timePeriod>
               <espi:value>923</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2518</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330771500</espi:start>
               </espi:timePeriod>
               <espi:value>839</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8627</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330772400</espi:start>
               </espi:timePeriod>
               <espi:value>1437</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8351</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330773300</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9174</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330774200</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8421</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330775100</espi:start>
               </espi:timePeriod>
               <espi:value>1403</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9496</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330776000</espi:start>
               </espi:timePeriod>
               <espi:value>1582</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8797</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330776900</espi:start>
               </espi:timePeriod>
               <espi:value>1466</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8189</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330777800</espi:start>
               </espi:timePeriod>
               <espi:value>1364</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8953</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330778700</espi:start>
               </espi:timePeriod>
               <espi:value>1492</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8374</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330779600</espi:start>
               </espi:timePeriod>
               <espi:value>1395</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9391</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330780500</espi:start>
               </espi:timePeriod>
               <espi:value>1565</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9744</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330781400</espi:start>
               </espi:timePeriod>
               <espi:value>1624</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9236</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330782300</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9448</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330783200</espi:start>
               </espi:timePeriod>
               <espi:value>1574</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9917</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330784100</espi:start>
               </espi:timePeriod>
               <espi:value>1652</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8252</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330785000</espi:start>
               </espi:timePeriod>
               <espi:value>1375</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8468</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330785900</espi:start>
               </espi:timePeriod>
               <espi:value>1411</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9800</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330786800</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9729</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330787700</espi:start>
               </espi:timePeriod>
               <espi:value>1621</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8482</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330788600</espi:start>
               </espi:timePeriod>
               <espi:value>1413</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9229</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330789500</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9059</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330790400</espi:start>
               </espi:timePeriod>
               <espi:value>1509</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9595</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330791300</espi:start>
               </espi:timePeriod>
               <espi:value>1599</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9157</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330792200</espi:start>
               </espi:timePeriod>
               <espi:value>1526</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8665</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330793100</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8645</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330794000</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8545</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330794900</espi:start>
               </espi:timePeriod>
               <espi:value>1424</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8757</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330795800</espi:start>
               </espi:timePeriod>
               <espi:value>1459</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8267</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330796700</espi:start>
               </espi:timePeriod>
               <espi:value>1377</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9636</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330797600</espi:start>
               </espi:timePeriod>
               <espi:value>1606</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8440</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330798500</espi:start>
               </espi:timePeriod>
               <espi:value>1406</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8164</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330799400</espi:start>
               </espi:timePeriod>
               <espi:value>1360</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9592</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330800300</espi:start>
               </espi:timePeriod>
               <espi:value>1598</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13937</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330801200</espi:start>
               </espi:timePeriod>
               <espi:value>1548</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14878</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330802100</espi:start>
               </espi:timePeriod>
               <espi:value>1653</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12450</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330803000</espi:start>
               </espi:timePeriod>
               <espi:value>1383</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12937</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330803900</espi:start>
               </espi:timePeriod>
               <espi:value>1437</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17780</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330804800</espi:start>
               </espi:timePeriod>
               <espi:value>1481</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17587</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330805700</espi:start>
               </espi:timePeriod>
               <espi:value>1465</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16467</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330806600</espi:start>
               </espi:timePeriod>
               <espi:value>1372</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17447</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330807500</espi:start>
               </espi:timePeriod>
               <espi:value>1453</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23372</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330808400</espi:start>
               </espi:timePeriod>
               <espi:value>1558</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23082</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330809300</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22938</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330810200</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21596</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330811100</espi:start>
               </espi:timePeriod>
               <espi:value>1439</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22727</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330812000</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330812900</espi:start>
               </espi:timePeriod>
               <espi:value>1395</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24644</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330813800</espi:start>
               </espi:timePeriod>
               <espi:value>1642</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22780</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330814700</espi:start>
               </espi:timePeriod>
               <espi:value>1518</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24075</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330815600</espi:start>
               </espi:timePeriod>
               <espi:value>1605</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21463</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330816500</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24060</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330817400</espi:start>
               </espi:timePeriod>
               <espi:value>1604</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22632</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330818300</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17823</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330819200</espi:start>
               </espi:timePeriod>
               <espi:value>1485</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16881</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330820100</espi:start>
               </espi:timePeriod>
               <espi:value>1406</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16689</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330821000</espi:start>
               </espi:timePeriod>
               <espi:value>1390</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330821900</espi:start>
               </espi:timePeriod>
               <espi:value>1569</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14422</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330822800</espi:start>
               </espi:timePeriod>
               <espi:value>1602</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12943</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330823700</espi:start>
               </espi:timePeriod>
               <espi:value>1438</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330824600</espi:start>
               </espi:timePeriod>
               <espi:value>1432</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12731</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330825500</espi:start>
               </espi:timePeriod>
               <espi:value>1414</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9773</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330826400</espi:start>
               </espi:timePeriod>
               <espi:value>1628</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9267</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330827300</espi:start>
               </espi:timePeriod>
               <espi:value>1544</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9231</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330828200</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8450</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330829100</espi:start>
               </espi:timePeriod>
               <espi:value>1408</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4179</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330830000</espi:start>
               </espi:timePeriod>
               <espi:value>1393</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4738</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330830900</espi:start>
               </espi:timePeriod>
               <espi:value>1579</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4233</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330831800</espi:start>
               </espi:timePeriod>
               <espi:value>1411</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330832700</espi:start>
               </espi:timePeriod>
               <espi:value>1630</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2849</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330833600</espi:start>
               </espi:timePeriod>
               <espi:value>949</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2767</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330834500</espi:start>
               </espi:timePeriod>
               <espi:value>922</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2772</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330835400</espi:start>
               </espi:timePeriod>
               <espi:value>924</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2904</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330836300</espi:start>
               </espi:timePeriod>
               <espi:value>968</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-04T05:00:00Z</published>
      <updated>2012-03-04T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:45745604-814d-49a1-8d4b-856d5d44b7af</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/4" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330837200</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>902</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330837200</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>979</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330838100</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>869</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330839000</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>821</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330839900</espi:start>
               </espi:timePeriod>
               <espi:value>273</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>865</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330840800</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330841700</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>989</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330842600</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>948</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330843500</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330844400</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>954</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330845300</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>854</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330846200</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>872</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330847100</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>966</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330848000</espi:start>
               </espi:timePeriod>
               <espi:value>322</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>865</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330848900</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330849800</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>889</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330850700</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>942</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330851600</espi:start>
               </espi:timePeriod>
               <espi:value>314</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330852500</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>980</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330853400</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>868</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330854300</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2585</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330855200</espi:start>
               </espi:timePeriod>
               <espi:value>861</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2695</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330856100</espi:start>
               </espi:timePeriod>
               <espi:value>898</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2592</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330857000</espi:start>
               </espi:timePeriod>
               <espi:value>864</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2731</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330857900</espi:start>
               </espi:timePeriod>
               <espi:value>910</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9738</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330858800</espi:start>
               </espi:timePeriod>
               <espi:value>1623</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9802</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330859700</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8600</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330860600</espi:start>
               </espi:timePeriod>
               <espi:value>1433</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9686</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330861500</espi:start>
               </espi:timePeriod>
               <espi:value>1614</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8886</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330862400</espi:start>
               </espi:timePeriod>
               <espi:value>1481</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8331</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330863300</espi:start>
               </espi:timePeriod>
               <espi:value>1388</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9230</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330864200</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8714</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330865100</espi:start>
               </espi:timePeriod>
               <espi:value>1452</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9497</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330866000</espi:start>
               </espi:timePeriod>
               <espi:value>1582</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8426</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330866900</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9050</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330867800</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9388</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330868700</espi:start>
               </espi:timePeriod>
               <espi:value>1564</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9343</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330869600</espi:start>
               </espi:timePeriod>
               <espi:value>1557</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9179</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330870500</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8181</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330871400</espi:start>
               </espi:timePeriod>
               <espi:value>1363</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8283</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330872300</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9741</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330873200</espi:start>
               </espi:timePeriod>
               <espi:value>1623</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9930</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330874100</espi:start>
               </espi:timePeriod>
               <espi:value>1655</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9620</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330875000</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9667</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330875900</espi:start>
               </espi:timePeriod>
               <espi:value>1611</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8890</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330876800</espi:start>
               </espi:timePeriod>
               <espi:value>1481</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8483</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330877700</espi:start>
               </espi:timePeriod>
               <espi:value>1413</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8279</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330878600</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9423</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330879500</espi:start>
               </espi:timePeriod>
               <espi:value>1570</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8364</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330880400</espi:start>
               </espi:timePeriod>
               <espi:value>1394</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8844</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330881300</espi:start>
               </espi:timePeriod>
               <espi:value>1474</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9484</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330882200</espi:start>
               </espi:timePeriod>
               <espi:value>1580</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8463</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330883100</espi:start>
               </espi:timePeriod>
               <espi:value>1410</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9173</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330884000</espi:start>
               </espi:timePeriod>
               <espi:value>1528</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9459</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330884900</espi:start>
               </espi:timePeriod>
               <espi:value>1576</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9850</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330885800</espi:start>
               </espi:timePeriod>
               <espi:value>1641</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8442</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330886700</espi:start>
               </espi:timePeriod>
               <espi:value>1407</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12413</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330887600</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12347</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330888500</espi:start>
               </espi:timePeriod>
               <espi:value>1371</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14151</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330889400</espi:start>
               </espi:timePeriod>
               <espi:value>1572</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14627</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330890300</espi:start>
               </espi:timePeriod>
               <espi:value>1625</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16483</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330891200</espi:start>
               </espi:timePeriod>
               <espi:value>1373</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19600</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330892100</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19686</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330893000</espi:start>
               </espi:timePeriod>
               <espi:value>1640</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19909</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330893900</espi:start>
               </espi:timePeriod>
               <espi:value>1659</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23093</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330894800</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24265</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330895700</espi:start>
               </espi:timePeriod>
               <espi:value>1617</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22889</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330896600</espi:start>
               </espi:timePeriod>
               <espi:value>1525</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24853</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330897500</espi:start>
               </espi:timePeriod>
               <espi:value>1656</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21769</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330898400</espi:start>
               </espi:timePeriod>
               <espi:value>1451</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24577</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330899300</espi:start>
               </espi:timePeriod>
               <espi:value>1638</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20465</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330900200</espi:start>
               </espi:timePeriod>
               <espi:value>1364</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24114</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330901100</espi:start>
               </espi:timePeriod>
               <espi:value>1607</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330902000</espi:start>
               </espi:timePeriod>
               <espi:value>1462</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22265</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330902900</espi:start>
               </espi:timePeriod>
               <espi:value>1484</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24871</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330903800</espi:start>
               </espi:timePeriod>
               <espi:value>1658</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24159</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330904700</espi:start>
               </espi:timePeriod>
               <espi:value>1610</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38333</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330905600</espi:start>
               </espi:timePeriod>
               <espi:value>1597</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39176</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330906500</espi:start>
               </espi:timePeriod>
               <espi:value>1632</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34748</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330907400</espi:start>
               </espi:timePeriod>
               <espi:value>1447</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38769</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330908300</espi:start>
               </espi:timePeriod>
               <espi:value>1615</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25573</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330909200</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27272</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330910100</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25146</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330911000</espi:start>
               </espi:timePeriod>
               <espi:value>1397</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27716</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330911900</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18006</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330912800</espi:start>
               </espi:timePeriod>
               <espi:value>1500</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17879</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330913700</espi:start>
               </espi:timePeriod>
               <espi:value>1489</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18124</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330914600</espi:start>
               </espi:timePeriod>
               <espi:value>1510</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17567</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330915500</espi:start>
               </espi:timePeriod>
               <espi:value>1463</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5815</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330916400</espi:start>
               </espi:timePeriod>
               <espi:value>969</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5612</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330917300</espi:start>
               </espi:timePeriod>
               <espi:value>935</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5936</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330918200</espi:start>
               </espi:timePeriod>
               <espi:value>989</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5748</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330919100</espi:start>
               </espi:timePeriod>
               <espi:value>958</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>875</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330920000</espi:start>
               </espi:timePeriod>
               <espi:value>291</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>824</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330920900</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>909</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330921800</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330922700</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-05T05:00:00Z</published>
      <updated>2012-03-05T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:298f995f-849a-4dee-b339-988b2cd4ba5f</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/5" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330923600</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>852</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330923600</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330924500</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330925400</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>948</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330926300</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>975</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330927200</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>951</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330928100</espi:start>
               </espi:timePeriod>
               <espi:value>317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330929000</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>864</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330929900</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>992</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330930800</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>924</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330931700</espi:start>
               </espi:timePeriod>
               <espi:value>308</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330932600</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>832</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330933500</espi:start>
               </espi:timePeriod>
               <espi:value>277</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>930</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330934400</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330935300</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>855</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330936200</espi:start>
               </espi:timePeriod>
               <espi:value>285</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>840</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330937100</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>837</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330938000</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>889</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330938900</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>904</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330939800</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>880</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330940700</espi:start>
               </espi:timePeriod>
               <espi:value>293</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2789</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330941600</espi:start>
               </espi:timePeriod>
               <espi:value>929</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2787</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330942500</espi:start>
               </espi:timePeriod>
               <espi:value>929</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2920</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330943400</espi:start>
               </espi:timePeriod>
               <espi:value>973</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2647</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330944300</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8831</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330945200</espi:start>
               </espi:timePeriod>
               <espi:value>1471</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8694</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330946100</espi:start>
               </espi:timePeriod>
               <espi:value>1449</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330947000</espi:start>
               </espi:timePeriod>
               <espi:value>1483</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8779</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330947900</espi:start>
               </espi:timePeriod>
               <espi:value>1463</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9806</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330948800</espi:start>
               </espi:timePeriod>
               <espi:value>1634</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9166</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330949700</espi:start>
               </espi:timePeriod>
               <espi:value>1527</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8633</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330950600</espi:start>
               </espi:timePeriod>
               <espi:value>1438</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8407</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330951500</espi:start>
               </espi:timePeriod>
               <espi:value>1401</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9466</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330952400</espi:start>
               </espi:timePeriod>
               <espi:value>1577</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9564</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330953300</espi:start>
               </espi:timePeriod>
               <espi:value>1594</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9756</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330954200</espi:start>
               </espi:timePeriod>
               <espi:value>1626</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9421</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330955100</espi:start>
               </espi:timePeriod>
               <espi:value>1570</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8233</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330956000</espi:start>
               </espi:timePeriod>
               <espi:value>1372</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8285</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330956900</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9034</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330957800</espi:start>
               </espi:timePeriod>
               <espi:value>1505</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9404</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330958700</espi:start>
               </espi:timePeriod>
               <espi:value>1567</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5907</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330959600</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4968</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330960500</espi:start>
               </espi:timePeriod>
               <espi:value>828</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5704</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330961400</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5320</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330962300</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5556</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330963200</espi:start>
               </espi:timePeriod>
               <espi:value>926</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330964100</espi:start>
               </espi:timePeriod>
               <espi:value>983</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5718</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330965000</espi:start>
               </espi:timePeriod>
               <espi:value>953</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5812</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330965900</espi:start>
               </espi:timePeriod>
               <espi:value>968</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4922</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330966800</espi:start>
               </espi:timePeriod>
               <espi:value>820</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5541</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330967700</espi:start>
               </espi:timePeriod>
               <espi:value>923</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5147</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330968600</espi:start>
               </espi:timePeriod>
               <espi:value>857</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5141</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330969500</espi:start>
               </espi:timePeriod>
               <espi:value>856</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5659</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330970400</espi:start>
               </espi:timePeriod>
               <espi:value>943</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5258</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330971300</espi:start>
               </espi:timePeriod>
               <espi:value>876</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330972200</espi:start>
               </espi:timePeriod>
               <espi:value>988</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5447</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330973100</espi:start>
               </espi:timePeriod>
               <espi:value>907</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11525</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330974000</espi:start>
               </espi:timePeriod>
               <espi:value>960</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10834</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330974900</espi:start>
               </espi:timePeriod>
               <espi:value>902</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10809</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330975800</espi:start>
               </espi:timePeriod>
               <espi:value>900</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10514</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330976700</espi:start>
               </espi:timePeriod>
               <espi:value>876</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16117</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330977600</espi:start>
               </espi:timePeriod>
               <espi:value>895</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16185</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330978500</espi:start>
               </espi:timePeriod>
               <espi:value>899</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14910</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330979400</espi:start>
               </espi:timePeriod>
               <espi:value>828</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15216</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330980300</espi:start>
               </espi:timePeriod>
               <espi:value>845</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20900</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330981200</espi:start>
               </espi:timePeriod>
               <espi:value>870</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19819</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330982100</espi:start>
               </espi:timePeriod>
               <espi:value>825</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23788</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330983000</espi:start>
               </espi:timePeriod>
               <espi:value>991</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22485</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330983900</espi:start>
               </espi:timePeriod>
               <espi:value>936</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35850</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330984800</espi:start>
               </espi:timePeriod>
               <espi:value>1195</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39313</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330985700</espi:start>
               </espi:timePeriod>
               <espi:value>1310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38146</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330986600</espi:start>
               </espi:timePeriod>
               <espi:value>1271</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35287</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330987500</espi:start>
               </espi:timePeriod>
               <espi:value>1176</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44109</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330988400</espi:start>
               </espi:timePeriod>
               <espi:value>1470</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>43965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330989300</espi:start>
               </espi:timePeriod>
               <espi:value>1465</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>41996</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330990200</espi:start>
               </espi:timePeriod>
               <espi:value>1399</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45469</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330991100</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35241</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330992000</espi:start>
               </espi:timePeriod>
               <espi:value>1468</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34724</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330992900</espi:start>
               </espi:timePeriod>
               <espi:value>1446</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38514</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330993800</espi:start>
               </espi:timePeriod>
               <espi:value>1604</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34484</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330994700</espi:start>
               </espi:timePeriod>
               <espi:value>1436</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24875</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330995600</espi:start>
               </espi:timePeriod>
               <espi:value>1381</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27741</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330996500</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28617</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330997400</espi:start>
               </espi:timePeriod>
               <espi:value>1589</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29871</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330998300</espi:start>
               </espi:timePeriod>
               <espi:value>1659</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17571</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330999200</espi:start>
               </espi:timePeriod>
               <espi:value>1464</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18440</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331000100</espi:start>
               </espi:timePeriod>
               <espi:value>1536</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331001000</espi:start>
               </espi:timePeriod>
               <espi:value>1556</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16482</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331001900</espi:start>
               </espi:timePeriod>
               <espi:value>1373</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5200</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331002800</espi:start>
               </espi:timePeriod>
               <espi:value>866</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5704</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331003700</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5481</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331004600</espi:start>
               </espi:timePeriod>
               <espi:value>913</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5479</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331005500</espi:start>
               </espi:timePeriod>
               <espi:value>913</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>920</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331006400</espi:start>
               </espi:timePeriod>
               <espi:value>306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331007300</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>969</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331008200</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>912</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331009100</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-06T05:00:00Z</published>
      <updated>2012-03-06T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:9648b7ce-8a3f-4545-a8d9-3997062e1419</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/6" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331010000</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>835</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331010000</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331010900</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331011800</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331012700</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>950</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331013600</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>875</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331014500</espi:start>
               </espi:timePeriod>
               <espi:value>291</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>926</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331015400</espi:start>
               </espi:timePeriod>
               <espi:value>308</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331016300</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>894</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331017200</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331018100</espi:start>
               </espi:timePeriod>
               <espi:value>331</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>949</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331019000</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>860</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331019900</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331020800</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>923</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331021700</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>867</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331022600</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>933</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331023500</espi:start>
               </espi:timePeriod>
               <espi:value>311</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331024400</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>989</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331025300</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>903</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331026200</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>894</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331027100</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2563</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331028000</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331028900</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2922</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331029800</espi:start>
               </espi:timePeriod>
               <espi:value>974</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2590</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331030700</espi:start>
               </espi:timePeriod>
               <espi:value>863</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331031600</espi:start>
               </espi:timePeriod>
               <espi:value>1654</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9278</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331032500</espi:start>
               </espi:timePeriod>
               <espi:value>1546</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8208</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331033400</espi:start>
               </espi:timePeriod>
               <espi:value>1368</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9496</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331034300</espi:start>
               </espi:timePeriod>
               <espi:value>1582</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331035200</espi:start>
               </espi:timePeriod>
               <espi:value>1655</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9207</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331036100</espi:start>
               </espi:timePeriod>
               <espi:value>1534</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9059</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331037000</espi:start>
               </espi:timePeriod>
               <espi:value>1509</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9108</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331037900</espi:start>
               </espi:timePeriod>
               <espi:value>1518</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8677</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331038800</espi:start>
               </espi:timePeriod>
               <espi:value>1446</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9801</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331039700</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8177</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331040600</espi:start>
               </espi:timePeriod>
               <espi:value>1362</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9507</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331041500</espi:start>
               </espi:timePeriod>
               <espi:value>1584</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9234</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331042400</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8763</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331043300</espi:start>
               </espi:timePeriod>
               <espi:value>1460</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9848</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331044200</espi:start>
               </espi:timePeriod>
               <espi:value>1641</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9281</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331045100</espi:start>
               </espi:timePeriod>
               <espi:value>1546</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5218</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331046000</espi:start>
               </espi:timePeriod>
               <espi:value>869</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5418</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331046900</espi:start>
               </espi:timePeriod>
               <espi:value>903</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5941</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331047800</espi:start>
               </espi:timePeriod>
               <espi:value>990</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5288</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331048700</espi:start>
               </espi:timePeriod>
               <espi:value>881</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5795</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331049600</espi:start>
               </espi:timePeriod>
               <espi:value>965</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331050500</espi:start>
               </espi:timePeriod>
               <espi:value>974</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331051400</espi:start>
               </espi:timePeriod>
               <espi:value>832</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5233</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331052300</espi:start>
               </espi:timePeriod>
               <espi:value>872</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5137</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331053200</espi:start>
               </espi:timePeriod>
               <espi:value>856</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5115</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331054100</espi:start>
               </espi:timePeriod>
               <espi:value>852</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5767</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331055000</espi:start>
               </espi:timePeriod>
               <espi:value>961</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5253</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331055900</espi:start>
               </espi:timePeriod>
               <espi:value>875</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5942</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331056800</espi:start>
               </espi:timePeriod>
               <espi:value>990</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5816</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331057700</espi:start>
               </espi:timePeriod>
               <espi:value>969</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5466</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331058600</espi:start>
               </espi:timePeriod>
               <espi:value>911</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5372</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331059500</espi:start>
               </espi:timePeriod>
               <espi:value>895</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331060400</espi:start>
               </espi:timePeriod>
               <espi:value>823</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11169</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331061300</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10531</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331062200</espi:start>
               </espi:timePeriod>
               <espi:value>877</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11344</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331063100</espi:start>
               </espi:timePeriod>
               <espi:value>945</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15666</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331064000</espi:start>
               </espi:timePeriod>
               <espi:value>870</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17482</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331064900</espi:start>
               </espi:timePeriod>
               <espi:value>971</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17720</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331065800</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16062</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331066700</espi:start>
               </espi:timePeriod>
               <espi:value>892</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331067600</espi:start>
               </espi:timePeriod>
               <espi:value>997</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21933</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331068500</espi:start>
               </espi:timePeriod>
               <espi:value>913</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331069400</espi:start>
               </espi:timePeriod>
               <espi:value>957</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21371</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331070300</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37380</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331071200</espi:start>
               </espi:timePeriod>
               <espi:value>1246</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331072100</espi:start>
               </espi:timePeriod>
               <espi:value>1319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37272</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331073000</espi:start>
               </espi:timePeriod>
               <espi:value>1242</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38120</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331073900</espi:start>
               </espi:timePeriod>
               <espi:value>1270</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>41755</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331074800</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44350</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331075700</espi:start>
               </espi:timePeriod>
               <espi:value>1478</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>42736</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331076600</espi:start>
               </espi:timePeriod>
               <espi:value>1424</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46633</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331077500</espi:start>
               </espi:timePeriod>
               <espi:value>1554</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38838</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331078400</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33780</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331079300</espi:start>
               </espi:timePeriod>
               <espi:value>1407</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33568</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331080200</espi:start>
               </espi:timePeriod>
               <espi:value>1398</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36385</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331081100</espi:start>
               </espi:timePeriod>
               <espi:value>1516</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331082000</espi:start>
               </espi:timePeriod>
               <espi:value>1552</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29161</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331082900</espi:start>
               </espi:timePeriod>
               <espi:value>1620</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25152</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331083800</espi:start>
               </espi:timePeriod>
               <espi:value>1397</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26996</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331084700</espi:start>
               </espi:timePeriod>
               <espi:value>1499</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17222</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331085600</espi:start>
               </espi:timePeriod>
               <espi:value>1435</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19650</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331086500</espi:start>
               </espi:timePeriod>
               <espi:value>1637</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18180</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331087400</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19425</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331088300</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5584</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331089200</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5246</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331090100</espi:start>
               </espi:timePeriod>
               <espi:value>874</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5857</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331091000</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5165</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331091900</espi:start>
               </espi:timePeriod>
               <espi:value>860</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>851</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331092800</espi:start>
               </espi:timePeriod>
               <espi:value>283</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>934</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331093700</espi:start>
               </espi:timePeriod>
               <espi:value>311</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>825</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331094600</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>907</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331095500</espi:start>
               </espi:timePeriod>
               <espi:value>302</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-07T05:00:00Z</published>
      <updated>2012-03-07T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:e92db70e-9d88-4b25-9d87-0c0b466dfc80</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/7" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331096400</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>888</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331096400</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>880</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331097300</espi:start>
               </espi:timePeriod>
               <espi:value>293</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>862</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331098200</espi:start>
               </espi:timePeriod>
               <espi:value>287</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>853</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331099100</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331100000</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>858</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331100900</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331101800</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>865</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331102700</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>819</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331103600</espi:start>
               </espi:timePeriod>
               <espi:value>273</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>859</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331104500</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>979</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331105400</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331106300</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>868</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331107200</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>902</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331108100</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>871</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331109000</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331109900</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>964</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331110800</espi:start>
               </espi:timePeriod>
               <espi:value>321</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>900</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331111700</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>971</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331112600</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>927</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331113500</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2844</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331114400</espi:start>
               </espi:timePeriod>
               <espi:value>948</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2806</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331115300</espi:start>
               </espi:timePeriod>
               <espi:value>935</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2852</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331116200</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2881</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331117100</espi:start>
               </espi:timePeriod>
               <espi:value>960</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9802</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331118000</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8551</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331118900</espi:start>
               </espi:timePeriod>
               <espi:value>1425</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8276</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331119800</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8380</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331120700</espi:start>
               </espi:timePeriod>
               <espi:value>1396</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8756</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331121600</espi:start>
               </espi:timePeriod>
               <espi:value>1459</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8170</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331122500</espi:start>
               </espi:timePeriod>
               <espi:value>1361</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9546</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331123400</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8266</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331124300</espi:start>
               </espi:timePeriod>
               <espi:value>1377</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9341</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331125200</espi:start>
               </espi:timePeriod>
               <espi:value>1556</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9761</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331126100</espi:start>
               </espi:timePeriod>
               <espi:value>1626</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9698</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331127000</espi:start>
               </espi:timePeriod>
               <espi:value>1616</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9814</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331127900</espi:start>
               </espi:timePeriod>
               <espi:value>1635</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8210</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331128800</espi:start>
               </espi:timePeriod>
               <espi:value>1368</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8517</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331129700</espi:start>
               </espi:timePeriod>
               <espi:value>1419</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9661</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331130600</espi:start>
               </espi:timePeriod>
               <espi:value>1610</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8989</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331131500</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5103</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331132400</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5506</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331133300</espi:start>
               </espi:timePeriod>
               <espi:value>917</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5360</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331134200</espi:start>
               </espi:timePeriod>
               <espi:value>893</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5805</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331135100</espi:start>
               </espi:timePeriod>
               <espi:value>967</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5745</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331136000</espi:start>
               </espi:timePeriod>
               <espi:value>957</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331136900</espi:start>
               </espi:timePeriod>
               <espi:value>973</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5477</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331137800</espi:start>
               </espi:timePeriod>
               <espi:value>912</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331138700</espi:start>
               </espi:timePeriod>
               <espi:value>941</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331139600</espi:start>
               </espi:timePeriod>
               <espi:value>983</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5492</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331140500</espi:start>
               </espi:timePeriod>
               <espi:value>915</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5339</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331141400</espi:start>
               </espi:timePeriod>
               <espi:value>889</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5514</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331142300</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331143200</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5006</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331144100</espi:start>
               </espi:timePeriod>
               <espi:value>834</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5031</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331145000</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5485</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331145900</espi:start>
               </espi:timePeriod>
               <espi:value>914</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331146800</espi:start>
               </espi:timePeriod>
               <espi:value>819</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11630</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331147700</espi:start>
               </espi:timePeriod>
               <espi:value>969</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10419</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331148600</espi:start>
               </espi:timePeriod>
               <espi:value>868</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10043</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331149500</espi:start>
               </espi:timePeriod>
               <espi:value>836</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15827</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331150400</espi:start>
               </espi:timePeriod>
               <espi:value>879</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17756</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331151300</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17885</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331152200</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15867</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331153100</espi:start>
               </espi:timePeriod>
               <espi:value>881</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23515</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331154000</espi:start>
               </espi:timePeriod>
               <espi:value>979</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22430</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331154900</espi:start>
               </espi:timePeriod>
               <espi:value>934</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23758</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331155800</espi:start>
               </espi:timePeriod>
               <espi:value>989</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20926</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331156700</espi:start>
               </espi:timePeriod>
               <espi:value>871</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37383</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331157600</espi:start>
               </espi:timePeriod>
               <espi:value>1246</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331158500</espi:start>
               </espi:timePeriod>
               <espi:value>1299</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33524</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331159400</espi:start>
               </espi:timePeriod>
               <espi:value>1117</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331160300</espi:start>
               </espi:timePeriod>
               <espi:value>1229</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47869</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331161200</espi:start>
               </espi:timePeriod>
               <espi:value>1595</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48802</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331162100</espi:start>
               </espi:timePeriod>
               <espi:value>1626</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>42610</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331163000</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>43593</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331163900</espi:start>
               </espi:timePeriod>
               <espi:value>1453</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331164800</espi:start>
               </espi:timePeriod>
               <espi:value>1659</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35210</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331165700</espi:start>
               </espi:timePeriod>
               <espi:value>1467</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37820</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331166600</espi:start>
               </espi:timePeriod>
               <espi:value>1575</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34271</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331167500</espi:start>
               </espi:timePeriod>
               <espi:value>1427</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25077</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331168400</espi:start>
               </espi:timePeriod>
               <espi:value>1393</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27964</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331169300</espi:start>
               </espi:timePeriod>
               <espi:value>1553</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25460</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331170200</espi:start>
               </espi:timePeriod>
               <espi:value>1414</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25042</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331171100</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19565</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331172000</espi:start>
               </espi:timePeriod>
               <espi:value>1630</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17316</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331172900</espi:start>
               </espi:timePeriod>
               <espi:value>1443</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18348</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331173800</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17668</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331174700</espi:start>
               </espi:timePeriod>
               <espi:value>1472</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5029</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331175600</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5702</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331176500</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5942</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331177400</espi:start>
               </espi:timePeriod>
               <espi:value>990</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4908</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331178300</espi:start>
               </espi:timePeriod>
               <espi:value>818</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>981</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331179200</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>904</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331180100</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>925</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331181000</espi:start>
               </espi:timePeriod>
               <espi:value>308</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>941</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331181900</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-08T05:00:00Z</published>
      <updated>2012-03-08T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:4ef81bb0-052b-4a32-b428-2318fbf77847</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/8" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331182800</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>872</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331182800</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>852</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331183700</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>996</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331184600</espi:start>
               </espi:timePeriod>
               <espi:value>332</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331185500</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>836</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331186400</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>870</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331187300</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331188200</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>986</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331189100</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>986</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331190000</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>949</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331190900</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331191800</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331192700</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>920</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331193600</espi:start>
               </espi:timePeriod>
               <espi:value>306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>992</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331194500</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>952</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331195400</espi:start>
               </espi:timePeriod>
               <espi:value>317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331196300</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>912</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331197200</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>865</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331198100</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331199000</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>997</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331199900</espi:start>
               </espi:timePeriod>
               <espi:value>332</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2934</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331200800</espi:start>
               </espi:timePeriod>
               <espi:value>978</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2562</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331201700</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2967</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331202600</espi:start>
               </espi:timePeriod>
               <espi:value>989</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2757</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331203500</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331204400</espi:start>
               </espi:timePeriod>
               <espi:value>1474</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8948</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331205300</espi:start>
               </espi:timePeriod>
               <espi:value>1491</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9050</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331206200</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9229</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331207100</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9394</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331208000</espi:start>
               </espi:timePeriod>
               <espi:value>1565</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9398</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331208900</espi:start>
               </espi:timePeriod>
               <espi:value>1566</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9130</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331209800</espi:start>
               </espi:timePeriod>
               <espi:value>1521</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8773</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331210700</espi:start>
               </espi:timePeriod>
               <espi:value>1462</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8228</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331211600</espi:start>
               </espi:timePeriod>
               <espi:value>1371</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8252</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331212500</espi:start>
               </espi:timePeriod>
               <espi:value>1375</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8822</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331213400</espi:start>
               </espi:timePeriod>
               <espi:value>1470</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8699</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331214300</espi:start>
               </espi:timePeriod>
               <espi:value>1449</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8277</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331215200</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9078</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331216100</espi:start>
               </espi:timePeriod>
               <espi:value>1513</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9321</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331217000</espi:start>
               </espi:timePeriod>
               <espi:value>1553</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9607</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331217900</espi:start>
               </espi:timePeriod>
               <espi:value>1601</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5800</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331218800</espi:start>
               </espi:timePeriod>
               <espi:value>966</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5607</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331219700</espi:start>
               </espi:timePeriod>
               <espi:value>934</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5015</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331220600</espi:start>
               </espi:timePeriod>
               <espi:value>835</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5886</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331221500</espi:start>
               </espi:timePeriod>
               <espi:value>981</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5101</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331222400</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5713</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331223300</espi:start>
               </espi:timePeriod>
               <espi:value>952</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5504</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331224200</espi:start>
               </espi:timePeriod>
               <espi:value>917</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5531</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331225100</espi:start>
               </espi:timePeriod>
               <espi:value>921</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5274</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331226000</espi:start>
               </espi:timePeriod>
               <espi:value>879</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5958</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331226900</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4917</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331227800</espi:start>
               </espi:timePeriod>
               <espi:value>819</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331228700</espi:start>
               </espi:timePeriod>
               <espi:value>823</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5668</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331229600</espi:start>
               </espi:timePeriod>
               <espi:value>944</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5920</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331230500</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5134</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331231400</espi:start>
               </espi:timePeriod>
               <espi:value>855</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5344</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331232300</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11842</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331233200</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10789</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331234100</espi:start>
               </espi:timePeriod>
               <espi:value>899</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10405</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331235000</espi:start>
               </espi:timePeriod>
               <espi:value>867</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11167</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331235900</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15683</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331236800</espi:start>
               </espi:timePeriod>
               <espi:value>871</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16498</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331237700</espi:start>
               </espi:timePeriod>
               <espi:value>916</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16935</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331238600</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16568</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331239500</espi:start>
               </espi:timePeriod>
               <espi:value>920</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20599</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331240400</espi:start>
               </espi:timePeriod>
               <espi:value>858</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22804</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331241300</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21641</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331242200</espi:start>
               </espi:timePeriod>
               <espi:value>901</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21557</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331243100</espi:start>
               </espi:timePeriod>
               <espi:value>898</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33816</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331244000</espi:start>
               </espi:timePeriod>
               <espi:value>1127</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36416</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331244900</espi:start>
               </espi:timePeriod>
               <espi:value>1213</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37556</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331245800</espi:start>
               </espi:timePeriod>
               <espi:value>1251</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35879</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331246700</espi:start>
               </espi:timePeriod>
               <espi:value>1195</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46298</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331247600</espi:start>
               </espi:timePeriod>
               <espi:value>1543</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>42302</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331248500</espi:start>
               </espi:timePeriod>
               <espi:value>1410</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>41335</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331249400</espi:start>
               </espi:timePeriod>
               <espi:value>1377</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46266</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331250300</espi:start>
               </espi:timePeriod>
               <espi:value>1542</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36177</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331251200</espi:start>
               </espi:timePeriod>
               <espi:value>1507</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331252100</espi:start>
               </espi:timePeriod>
               <espi:value>1578</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>32906</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331253000</espi:start>
               </espi:timePeriod>
               <espi:value>1371</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39704</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331253900</espi:start>
               </espi:timePeriod>
               <espi:value>1654</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28357</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331254800</espi:start>
               </espi:timePeriod>
               <espi:value>1575</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26019</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331255700</espi:start>
               </espi:timePeriod>
               <espi:value>1445</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29371</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331256600</espi:start>
               </espi:timePeriod>
               <espi:value>1631</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24517</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331257500</espi:start>
               </espi:timePeriod>
               <espi:value>1362</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16328</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331258400</espi:start>
               </espi:timePeriod>
               <espi:value>1360</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18124</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331259300</espi:start>
               </espi:timePeriod>
               <espi:value>1510</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17248</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331260200</espi:start>
               </espi:timePeriod>
               <espi:value>1437</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331261100</espi:start>
               </espi:timePeriod>
               <espi:value>1416</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5949</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331262000</espi:start>
               </espi:timePeriod>
               <espi:value>991</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5268</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331262900</espi:start>
               </espi:timePeriod>
               <espi:value>878</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5702</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331263800</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5897</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331264700</espi:start>
               </espi:timePeriod>
               <espi:value>982</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>896</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331265600</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>840</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331266500</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331267400</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331268300</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-09T05:00:00Z</published>
      <updated>2012-03-09T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:e12148f9-6c29-4972-b157-2edb7616c84f</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/9" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331269200</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>826</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331269200</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331270100</espi:start>
               </espi:timePeriod>
               <espi:value>320</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>947</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331271000</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331271900</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>827</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331272800</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331273700</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>896</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331274600</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331275500</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331276400</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>961</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331277300</espi:start>
               </espi:timePeriod>
               <espi:value>320</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>975</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331278200</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>984</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331279100</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331280000</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331280900</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>832</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331281800</espi:start>
               </espi:timePeriod>
               <espi:value>277</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>975</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331282700</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>957</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331283600</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>947</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331284500</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331285400</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331286300</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2679</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331287200</espi:start>
               </espi:timePeriod>
               <espi:value>893</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2943</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331288100</espi:start>
               </espi:timePeriod>
               <espi:value>981</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2977</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331289000</espi:start>
               </espi:timePeriod>
               <espi:value>992</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2539</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331289900</espi:start>
               </espi:timePeriod>
               <espi:value>846</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9273</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331290800</espi:start>
               </espi:timePeriod>
               <espi:value>1545</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9280</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331291700</espi:start>
               </espi:timePeriod>
               <espi:value>1546</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8659</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331292600</espi:start>
               </espi:timePeriod>
               <espi:value>1443</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8585</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331293500</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9522</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331294400</espi:start>
               </espi:timePeriod>
               <espi:value>1587</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331295300</espi:start>
               </espi:timePeriod>
               <espi:value>1497</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8662</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331296200</espi:start>
               </espi:timePeriod>
               <espi:value>1443</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331297100</espi:start>
               </espi:timePeriod>
               <espi:value>1648</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9360</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331298000</espi:start>
               </espi:timePeriod>
               <espi:value>1560</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9527</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331298900</espi:start>
               </espi:timePeriod>
               <espi:value>1587</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9118</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331299800</espi:start>
               </espi:timePeriod>
               <espi:value>1519</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331300700</espi:start>
               </espi:timePeriod>
               <espi:value>1660</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8925</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331301600</espi:start>
               </espi:timePeriod>
               <espi:value>1487</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8348</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331302500</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9680</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331303400</espi:start>
               </espi:timePeriod>
               <espi:value>1613</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8583</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331304300</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5371</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331305200</espi:start>
               </espi:timePeriod>
               <espi:value>895</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5005</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331306100</espi:start>
               </espi:timePeriod>
               <espi:value>834</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331307000</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5632</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331307900</espi:start>
               </espi:timePeriod>
               <espi:value>938</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5731</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331308800</espi:start>
               </espi:timePeriod>
               <espi:value>955</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5297</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331309700</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5585</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331310600</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5525</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331311500</espi:start>
               </espi:timePeriod>
               <espi:value>920</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5673</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331312400</espi:start>
               </espi:timePeriod>
               <espi:value>945</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5798</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331313300</espi:start>
               </espi:timePeriod>
               <espi:value>966</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5557</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331314200</espi:start>
               </espi:timePeriod>
               <espi:value>926</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5808</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331315100</espi:start>
               </espi:timePeriod>
               <espi:value>968</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5587</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331316000</espi:start>
               </espi:timePeriod>
               <espi:value>931</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5125</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331316900</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5196</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331317800</espi:start>
               </espi:timePeriod>
               <espi:value>866</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5596</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331318700</espi:start>
               </espi:timePeriod>
               <espi:value>932</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9869</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331319600</espi:start>
               </espi:timePeriod>
               <espi:value>822</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11570</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331320500</espi:start>
               </espi:timePeriod>
               <espi:value>964</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10422</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331321400</espi:start>
               </espi:timePeriod>
               <espi:value>868</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10568</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331322300</espi:start>
               </espi:timePeriod>
               <espi:value>880</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17580</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331323200</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16462</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331324100</espi:start>
               </espi:timePeriod>
               <espi:value>914</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16400</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331325000</espi:start>
               </espi:timePeriod>
               <espi:value>911</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16840</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331325900</espi:start>
               </espi:timePeriod>
               <espi:value>935</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20489</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331326800</espi:start>
               </espi:timePeriod>
               <espi:value>853</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20200</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331327700</espi:start>
               </espi:timePeriod>
               <espi:value>841</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20842</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331328600</espi:start>
               </espi:timePeriod>
               <espi:value>868</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331329500</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39149</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331330400</espi:start>
               </espi:timePeriod>
               <espi:value>1304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37971</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331331300</espi:start>
               </espi:timePeriod>
               <espi:value>1265</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38261</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331332200</espi:start>
               </espi:timePeriod>
               <espi:value>1275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39419</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331333100</espi:start>
               </espi:timePeriod>
               <espi:value>1313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48095</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331334000</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46103</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331334900</espi:start>
               </espi:timePeriod>
               <espi:value>1536</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47696</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331335800</espi:start>
               </espi:timePeriod>
               <espi:value>1589</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46436</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331336700</espi:start>
               </espi:timePeriod>
               <espi:value>1547</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16546</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331337600</espi:start>
               </espi:timePeriod>
               <espi:value>1378</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16704</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331338500</espi:start>
               </espi:timePeriod>
               <espi:value>1392</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18368</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331339400</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17614</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331340300</espi:start>
               </espi:timePeriod>
               <espi:value>1467</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14044</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331341200</espi:start>
               </espi:timePeriod>
               <espi:value>1560</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12598</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331342100</espi:start>
               </espi:timePeriod>
               <espi:value>1399</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12917</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331343000</espi:start>
               </espi:timePeriod>
               <espi:value>1435</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12967</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331343900</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8685</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331344800</espi:start>
               </espi:timePeriod>
               <espi:value>1447</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331345700</espi:start>
               </espi:timePeriod>
               <espi:value>1490</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8291</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331346600</espi:start>
               </espi:timePeriod>
               <espi:value>1381</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9776</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331347500</espi:start>
               </espi:timePeriod>
               <espi:value>1629</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4432</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331348400</espi:start>
               </espi:timePeriod>
               <espi:value>1477</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4506</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331349300</espi:start>
               </espi:timePeriod>
               <espi:value>1502</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4253</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331350200</espi:start>
               </espi:timePeriod>
               <espi:value>1417</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4142</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331351100</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2721</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331352000</espi:start>
               </espi:timePeriod>
               <espi:value>907</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2684</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331352900</espi:start>
               </espi:timePeriod>
               <espi:value>894</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2783</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331353800</espi:start>
               </espi:timePeriod>
               <espi:value>927</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2492</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331354700</espi:start>
               </espi:timePeriod>
               <espi:value>830</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-10T05:00:00Z</published>
      <updated>2012-03-10T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:312b86f5-60a6-435a-aa83-25ce1b2c4a86</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/10" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331355600</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>970</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331355600</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>905</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331356500</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>890</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331357400</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>824</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331358300</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>842</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331359200</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>870</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331360100</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>844</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331361000</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331361900</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331362800</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331363700</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>930</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331364600</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331365500</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>936</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331366400</espi:start>
               </espi:timePeriod>
               <espi:value>312</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331367300</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331368200</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>905</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331369100</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>958</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331370000</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331370900</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>989</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331371800</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>951</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331372700</espi:start>
               </espi:timePeriod>
               <espi:value>317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2471</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331373600</espi:start>
               </espi:timePeriod>
               <espi:value>823</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2774</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331374500</espi:start>
               </espi:timePeriod>
               <espi:value>924</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2593</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331375400</espi:start>
               </espi:timePeriod>
               <espi:value>864</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2552</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331376300</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9665</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331377200</espi:start>
               </espi:timePeriod>
               <espi:value>1610</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8357</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331378100</espi:start>
               </espi:timePeriod>
               <espi:value>1392</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8860</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331379000</espi:start>
               </espi:timePeriod>
               <espi:value>1476</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8432</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331379900</espi:start>
               </espi:timePeriod>
               <espi:value>1405</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8631</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331380800</espi:start>
               </espi:timePeriod>
               <espi:value>1438</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8451</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331381700</espi:start>
               </espi:timePeriod>
               <espi:value>1408</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331382600</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9071</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331383500</espi:start>
               </espi:timePeriod>
               <espi:value>1511</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9509</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331384400</espi:start>
               </espi:timePeriod>
               <espi:value>1584</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8767</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331385300</espi:start>
               </espi:timePeriod>
               <espi:value>1461</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8717</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331386200</espi:start>
               </espi:timePeriod>
               <espi:value>1452</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8326</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331387100</espi:start>
               </espi:timePeriod>
               <espi:value>1387</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9645</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331388000</espi:start>
               </espi:timePeriod>
               <espi:value>1607</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9671</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331388900</espi:start>
               </espi:timePeriod>
               <espi:value>1611</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9774</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331389800</espi:start>
               </espi:timePeriod>
               <espi:value>1629</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8808</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331390700</espi:start>
               </espi:timePeriod>
               <espi:value>1468</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8570</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331391600</espi:start>
               </espi:timePeriod>
               <espi:value>1428</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8605</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331392500</espi:start>
               </espi:timePeriod>
               <espi:value>1434</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8162</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331393400</espi:start>
               </espi:timePeriod>
               <espi:value>1360</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8578</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331394300</espi:start>
               </espi:timePeriod>
               <espi:value>1429</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8593</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331395200</espi:start>
               </espi:timePeriod>
               <espi:value>1432</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9183</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331396100</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8568</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331397000</espi:start>
               </espi:timePeriod>
               <espi:value>1428</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331397900</espi:start>
               </espi:timePeriod>
               <espi:value>1441</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8596</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331398800</espi:start>
               </espi:timePeriod>
               <espi:value>1432</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331399700</espi:start>
               </espi:timePeriod>
               <espi:value>1496</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8411</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331400600</espi:start>
               </espi:timePeriod>
               <espi:value>1401</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8261</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331401500</espi:start>
               </espi:timePeriod>
               <espi:value>1376</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9163</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331402400</espi:start>
               </espi:timePeriod>
               <espi:value>1527</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9524</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331403300</espi:start>
               </espi:timePeriod>
               <espi:value>1587</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9549</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331404200</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9664</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331405100</espi:start>
               </espi:timePeriod>
               <espi:value>1610</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13643</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331406000</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331406900</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13002</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331407800</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13284</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331408700</espi:start>
               </espi:timePeriod>
               <espi:value>1476</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19262</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331409600</espi:start>
               </espi:timePeriod>
               <espi:value>1605</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19041</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331410500</espi:start>
               </espi:timePeriod>
               <espi:value>1586</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19790</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331411400</espi:start>
               </espi:timePeriod>
               <espi:value>1649</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17062</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331412300</espi:start>
               </espi:timePeriod>
               <espi:value>1421</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20610</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331413200</espi:start>
               </espi:timePeriod>
               <espi:value>1374</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21318</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331414100</espi:start>
               </espi:timePeriod>
               <espi:value>1421</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22111</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331415000</espi:start>
               </espi:timePeriod>
               <espi:value>1474</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24300</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331415900</espi:start>
               </espi:timePeriod>
               <espi:value>1620</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23021</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331416800</espi:start>
               </espi:timePeriod>
               <espi:value>1534</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22044</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331417700</espi:start>
               </espi:timePeriod>
               <espi:value>1469</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24398</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331418600</espi:start>
               </espi:timePeriod>
               <espi:value>1626</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23313</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331419500</espi:start>
               </espi:timePeriod>
               <espi:value>1554</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23087</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331420400</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22593</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331421300</espi:start>
               </espi:timePeriod>
               <espi:value>1506</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21636</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331422200</espi:start>
               </espi:timePeriod>
               <espi:value>1442</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22476</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331423100</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17894</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331424000</espi:start>
               </espi:timePeriod>
               <espi:value>1491</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331424900</espi:start>
               </espi:timePeriod>
               <espi:value>1465</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19100</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331425800</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331426700</espi:start>
               </espi:timePeriod>
               <espi:value>1652</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12732</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331427600</espi:start>
               </espi:timePeriod>
               <espi:value>1414</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13683</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331428500</espi:start>
               </espi:timePeriod>
               <espi:value>1520</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12781</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331429400</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14900</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331430300</espi:start>
               </espi:timePeriod>
               <espi:value>1655</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9022</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331431200</espi:start>
               </espi:timePeriod>
               <espi:value>1503</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9823</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331432100</espi:start>
               </espi:timePeriod>
               <espi:value>1637</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9024</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331433000</espi:start>
               </espi:timePeriod>
               <espi:value>1504</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8309</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331433900</espi:start>
               </espi:timePeriod>
               <espi:value>1384</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4625</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331434800</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4505</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331435700</espi:start>
               </espi:timePeriod>
               <espi:value>1501</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4333</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331436600</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4578</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331437500</espi:start>
               </espi:timePeriod>
               <espi:value>1526</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331438400</espi:start>
               </espi:timePeriod>
               <espi:value>963</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2576</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331439300</espi:start>
               </espi:timePeriod>
               <espi:value>858</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2457</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331440200</espi:start>
               </espi:timePeriod>
               <espi:value>819</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2702</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331441100</espi:start>
               </espi:timePeriod>
               <espi:value>900</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-11T05:00:00Z</published>
      <updated>2012-03-11T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:339efcc4-ba4d-49d5-8e1b-734961e74e5e</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/11" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>82800</espi:duration>
               <espi:start>1331442000</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>981</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331442000</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331442900</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>821</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331443800</espi:start>
               </espi:timePeriod>
               <espi:value>273</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331444700</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331445600</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331446500</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>822</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331447400</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331448300</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>986</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331449200</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>822</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331450100</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>970</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331451000</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>817</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331451900</espi:start>
               </espi:timePeriod>
               <espi:value>272</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>980</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331452800</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331453700</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>874</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331454600</espi:start>
               </espi:timePeriod>
               <espi:value>291</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331455500</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>954</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331456400</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>984</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331457300</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331458200</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>869</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331459100</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2701</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331460000</espi:start>
               </espi:timePeriod>
               <espi:value>900</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2516</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331460900</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2613</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331461800</espi:start>
               </espi:timePeriod>
               <espi:value>871</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2574</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331462700</espi:start>
               </espi:timePeriod>
               <espi:value>858</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8605</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331463600</espi:start>
               </espi:timePeriod>
               <espi:value>1434</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8616</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331464500</espi:start>
               </espi:timePeriod>
               <espi:value>1436</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9596</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331465400</espi:start>
               </espi:timePeriod>
               <espi:value>1599</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8941</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331466300</espi:start>
               </espi:timePeriod>
               <espi:value>1490</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9837</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331467200</espi:start>
               </espi:timePeriod>
               <espi:value>1639</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9335</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331468100</espi:start>
               </espi:timePeriod>
               <espi:value>1555</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9154</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331469000</espi:start>
               </espi:timePeriod>
               <espi:value>1525</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9202</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331469900</espi:start>
               </espi:timePeriod>
               <espi:value>1533</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9069</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331470800</espi:start>
               </espi:timePeriod>
               <espi:value>1511</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8409</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331471700</espi:start>
               </espi:timePeriod>
               <espi:value>1401</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9376</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331472600</espi:start>
               </espi:timePeriod>
               <espi:value>1562</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9407</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331473500</espi:start>
               </espi:timePeriod>
               <espi:value>1567</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9926</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331474400</espi:start>
               </espi:timePeriod>
               <espi:value>1654</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9136</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331475300</espi:start>
               </espi:timePeriod>
               <espi:value>1522</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8639</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331476200</espi:start>
               </espi:timePeriod>
               <espi:value>1439</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9546</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331477100</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8918</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331478000</espi:start>
               </espi:timePeriod>
               <espi:value>1486</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8945</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331478900</espi:start>
               </espi:timePeriod>
               <espi:value>1490</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8428</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331479800</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9364</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331480700</espi:start>
               </espi:timePeriod>
               <espi:value>1560</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8739</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331481600</espi:start>
               </espi:timePeriod>
               <espi:value>1456</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8487</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331482500</espi:start>
               </espi:timePeriod>
               <espi:value>1414</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9617</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331483400</espi:start>
               </espi:timePeriod>
               <espi:value>1602</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8615</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331484300</espi:start>
               </espi:timePeriod>
               <espi:value>1435</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8425</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331485200</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8496</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331486100</espi:start>
               </espi:timePeriod>
               <espi:value>1416</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9216</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331487000</espi:start>
               </espi:timePeriod>
               <espi:value>1536</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9584</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331487900</espi:start>
               </espi:timePeriod>
               <espi:value>1597</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8490</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331488800</espi:start>
               </espi:timePeriod>
               <espi:value>1415</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8905</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331489700</espi:start>
               </espi:timePeriod>
               <espi:value>1484</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8443</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331490600</espi:start>
               </espi:timePeriod>
               <espi:value>1407</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9181</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331491500</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13876</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331492400</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12636</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331493300</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12843</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331494200</espi:start>
               </espi:timePeriod>
               <espi:value>1427</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14434</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331495100</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19219</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331496000</espi:start>
               </espi:timePeriod>
               <espi:value>1601</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16388</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331496900</espi:start>
               </espi:timePeriod>
               <espi:value>1365</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331497800</espi:start>
               </espi:timePeriod>
               <espi:value>1497</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19243</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331498700</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24784</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331499600</espi:start>
               </espi:timePeriod>
               <espi:value>1652</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21610</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331500500</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23601</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331501400</espi:start>
               </espi:timePeriod>
               <espi:value>1573</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21804</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331502300</espi:start>
               </espi:timePeriod>
               <espi:value>1453</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24585</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331503200</espi:start>
               </espi:timePeriod>
               <espi:value>1639</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21522</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331504100</espi:start>
               </espi:timePeriod>
               <espi:value>1434</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22521</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331505000</espi:start>
               </espi:timePeriod>
               <espi:value>1501</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21144</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331505900</espi:start>
               </espi:timePeriod>
               <espi:value>1409</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21261</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331506800</espi:start>
               </espi:timePeriod>
               <espi:value>1417</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21335</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331507700</espi:start>
               </espi:timePeriod>
               <espi:value>1422</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331508600</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21332</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331509500</espi:start>
               </espi:timePeriod>
               <espi:value>1422</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331510400</espi:start>
               </espi:timePeriod>
               <espi:value>1457</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34759</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331511300</espi:start>
               </espi:timePeriod>
               <espi:value>1448</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33449</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331512200</espi:start>
               </espi:timePeriod>
               <espi:value>1393</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35540</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331513100</espi:start>
               </espi:timePeriod>
               <espi:value>1480</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27111</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331514000</espi:start>
               </espi:timePeriod>
               <espi:value>1506</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331514900</espi:start>
               </espi:timePeriod>
               <espi:value>1608</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28384</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331515800</espi:start>
               </espi:timePeriod>
               <espi:value>1576</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25748</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331516700</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17331</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331517600</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19229</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331518500</espi:start>
               </espi:timePeriod>
               <espi:value>1602</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19721</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331519400</espi:start>
               </espi:timePeriod>
               <espi:value>1643</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17600</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331520300</espi:start>
               </espi:timePeriod>
               <espi:value>1466</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5796</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331521200</espi:start>
               </espi:timePeriod>
               <espi:value>966</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5637</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331522100</espi:start>
               </espi:timePeriod>
               <espi:value>939</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5958</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331523000</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5395</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331523900</espi:start>
               </espi:timePeriod>
               <espi:value>899</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-12T04:00:00Z</published>
      <updated>2012-03-12T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:d517cdba-0245-4e70-ae09-d57a4d129639</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/12" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331524800</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>833</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331524800</espi:start>
               </espi:timePeriod>
               <espi:value>277</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331525700</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331526600</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>896</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331527500</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>900</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331528400</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331529300</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331530200</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>957</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331531100</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331532000</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331532900</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>916</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331533800</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331534700</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>890</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331535600</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>976</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331536500</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>908</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331537400</espi:start>
               </espi:timePeriod>
               <espi:value>302</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331538300</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>919</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331539200</espi:start>
               </espi:timePeriod>
               <espi:value>306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>980</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331540100</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>843</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331541000</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>923</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331541900</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>985</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331542800</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331543700</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>880</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331544600</espi:start>
               </espi:timePeriod>
               <espi:value>293</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331545500</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331546400</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2628</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331547300</espi:start>
               </espi:timePeriod>
               <espi:value>876</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2750</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331548200</espi:start>
               </espi:timePeriod>
               <espi:value>916</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331549100</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8303</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331550000</espi:start>
               </espi:timePeriod>
               <espi:value>1383</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8867</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331550900</espi:start>
               </espi:timePeriod>
               <espi:value>1477</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8997</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331551800</espi:start>
               </espi:timePeriod>
               <espi:value>1499</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8467</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331552700</espi:start>
               </espi:timePeriod>
               <espi:value>1411</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9003</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331553600</espi:start>
               </espi:timePeriod>
               <espi:value>1500</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9538</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331554500</espi:start>
               </espi:timePeriod>
               <espi:value>1589</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8187</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331555400</espi:start>
               </espi:timePeriod>
               <espi:value>1364</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9548</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331556300</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8439</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331557200</espi:start>
               </espi:timePeriod>
               <espi:value>1406</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9077</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331558100</espi:start>
               </espi:timePeriod>
               <espi:value>1512</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9223</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331559000</espi:start>
               </espi:timePeriod>
               <espi:value>1537</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9747</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331559900</espi:start>
               </espi:timePeriod>
               <espi:value>1624</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9258</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331560800</espi:start>
               </espi:timePeriod>
               <espi:value>1543</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8275</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331561700</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331562600</espi:start>
               </espi:timePeriod>
               <espi:value>1489</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8245</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331563500</espi:start>
               </espi:timePeriod>
               <espi:value>1374</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5148</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331564400</espi:start>
               </espi:timePeriod>
               <espi:value>858</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4903</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331565300</espi:start>
               </espi:timePeriod>
               <espi:value>817</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5316</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331566200</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331567100</espi:start>
               </espi:timePeriod>
               <espi:value>828</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5688</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331568000</espi:start>
               </espi:timePeriod>
               <espi:value>948</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4963</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331568900</espi:start>
               </espi:timePeriod>
               <espi:value>827</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5807</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331569800</espi:start>
               </espi:timePeriod>
               <espi:value>967</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5022</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331570700</espi:start>
               </espi:timePeriod>
               <espi:value>837</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5603</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331571600</espi:start>
               </espi:timePeriod>
               <espi:value>933</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5305</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331572500</espi:start>
               </espi:timePeriod>
               <espi:value>884</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331573400</espi:start>
               </espi:timePeriod>
               <espi:value>980</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5028</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331574300</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5158</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331575200</espi:start>
               </espi:timePeriod>
               <espi:value>859</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4928</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331576100</espi:start>
               </espi:timePeriod>
               <espi:value>821</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331577000</espi:start>
               </espi:timePeriod>
               <espi:value>982</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5373</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331577900</espi:start>
               </espi:timePeriod>
               <espi:value>895</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10906</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331578800</espi:start>
               </espi:timePeriod>
               <espi:value>908</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11539</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331579700</espi:start>
               </espi:timePeriod>
               <espi:value>961</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331580600</espi:start>
               </espi:timePeriod>
               <espi:value>831</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11356</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331581500</espi:start>
               </espi:timePeriod>
               <espi:value>946</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16544</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331582400</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15318</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331583300</espi:start>
               </espi:timePeriod>
               <espi:value>851</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16267</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331584200</espi:start>
               </espi:timePeriod>
               <espi:value>903</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14874</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331585100</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20405</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331586000</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22535</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331586900</espi:start>
               </espi:timePeriod>
               <espi:value>938</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20646</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331587800</espi:start>
               </espi:timePeriod>
               <espi:value>860</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21244</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331588700</espi:start>
               </espi:timePeriod>
               <espi:value>885</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37364</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331589600</espi:start>
               </espi:timePeriod>
               <espi:value>1245</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34330</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331590500</espi:start>
               </espi:timePeriod>
               <espi:value>1144</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>32649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331591400</espi:start>
               </espi:timePeriod>
               <espi:value>1088</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33317</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331592300</espi:start>
               </espi:timePeriod>
               <espi:value>1110</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48186</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331593200</espi:start>
               </espi:timePeriod>
               <espi:value>1606</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>41669</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331594100</espi:start>
               </espi:timePeriod>
               <espi:value>1388</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46282</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331595000</espi:start>
               </espi:timePeriod>
               <espi:value>1542</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>49491</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331595900</espi:start>
               </espi:timePeriod>
               <espi:value>1649</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35862</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331596800</espi:start>
               </espi:timePeriod>
               <espi:value>1494</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38317</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331597700</espi:start>
               </espi:timePeriod>
               <espi:value>1596</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33133</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331598600</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34434</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331599500</espi:start>
               </espi:timePeriod>
               <espi:value>1434</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28782</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331600400</espi:start>
               </espi:timePeriod>
               <espi:value>1599</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26403</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331601300</espi:start>
               </espi:timePeriod>
               <espi:value>1466</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28688</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331602200</espi:start>
               </espi:timePeriod>
               <espi:value>1593</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25165</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331603100</espi:start>
               </espi:timePeriod>
               <espi:value>1398</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17838</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331604000</espi:start>
               </espi:timePeriod>
               <espi:value>1486</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19686</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331604900</espi:start>
               </espi:timePeriod>
               <espi:value>1640</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19673</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331605800</espi:start>
               </espi:timePeriod>
               <espi:value>1639</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17396</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331606700</espi:start>
               </espi:timePeriod>
               <espi:value>1449</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5204</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331607600</espi:start>
               </espi:timePeriod>
               <espi:value>867</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5387</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331608500</espi:start>
               </espi:timePeriod>
               <espi:value>897</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5167</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331609400</espi:start>
               </espi:timePeriod>
               <espi:value>861</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5862</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331610300</espi:start>
               </espi:timePeriod>
               <espi:value>977</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-13T04:00:00Z</published>
      <updated>2012-03-13T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:af977275-b88a-4889-a3f6-7f026ee6b1d9</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/13" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331611200</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>827</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331611200</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>944</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331612100</espi:start>
               </espi:timePeriod>
               <espi:value>314</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>988</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331613000</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>924</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331613900</espi:start>
               </espi:timePeriod>
               <espi:value>308</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>947</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331614800</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>923</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331615700</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>983</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331616600</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331617500</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>883</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331618400</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>928</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331619300</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331620200</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331621100</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>872</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331622000</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331622900</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>919</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331623800</espi:start>
               </espi:timePeriod>
               <espi:value>306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>971</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331624700</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331625600</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>834</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331626500</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>952</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331627400</espi:start>
               </espi:timePeriod>
               <espi:value>317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>864</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331628300</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>908</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331629200</espi:start>
               </espi:timePeriod>
               <espi:value>302</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>968</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331630100</espi:start>
               </espi:timePeriod>
               <espi:value>322</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>881</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331631000</espi:start>
               </espi:timePeriod>
               <espi:value>293</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>854</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331631900</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2775</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331632800</espi:start>
               </espi:timePeriod>
               <espi:value>925</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2479</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331633700</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2713</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331634600</espi:start>
               </espi:timePeriod>
               <espi:value>904</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2850</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331635500</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9156</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331636400</espi:start>
               </espi:timePeriod>
               <espi:value>1526</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9732</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331637300</espi:start>
               </espi:timePeriod>
               <espi:value>1622</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8820</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331638200</espi:start>
               </espi:timePeriod>
               <espi:value>1470</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331639100</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9246</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331640000</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8776</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331640900</espi:start>
               </espi:timePeriod>
               <espi:value>1462</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8755</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331641800</espi:start>
               </espi:timePeriod>
               <espi:value>1459</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9372</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331642700</espi:start>
               </espi:timePeriod>
               <espi:value>1562</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331643600</espi:start>
               </espi:timePeriod>
               <espi:value>1638</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331644500</espi:start>
               </espi:timePeriod>
               <espi:value>1596</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8204</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331645400</espi:start>
               </espi:timePeriod>
               <espi:value>1367</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9515</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331646300</espi:start>
               </espi:timePeriod>
               <espi:value>1585</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8944</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331647200</espi:start>
               </espi:timePeriod>
               <espi:value>1490</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8616</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331648100</espi:start>
               </espi:timePeriod>
               <espi:value>1436</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9711</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331649000</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9611</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331649900</espi:start>
               </espi:timePeriod>
               <espi:value>1601</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5859</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331650800</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5232</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331651700</espi:start>
               </espi:timePeriod>
               <espi:value>872</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5642</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331652600</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5490</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331653500</espi:start>
               </espi:timePeriod>
               <espi:value>915</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5096</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331654400</espi:start>
               </espi:timePeriod>
               <espi:value>849</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4952</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331655300</espi:start>
               </espi:timePeriod>
               <espi:value>825</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5761</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331656200</espi:start>
               </espi:timePeriod>
               <espi:value>960</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5396</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331657100</espi:start>
               </espi:timePeriod>
               <espi:value>899</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5951</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331658000</espi:start>
               </espi:timePeriod>
               <espi:value>991</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5295</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331658900</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4984</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331659800</espi:start>
               </espi:timePeriod>
               <espi:value>830</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5069</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331660700</espi:start>
               </espi:timePeriod>
               <espi:value>844</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5383</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331661600</espi:start>
               </espi:timePeriod>
               <espi:value>897</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5387</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331662500</espi:start>
               </espi:timePeriod>
               <espi:value>897</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5454</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331663400</espi:start>
               </espi:timePeriod>
               <espi:value>909</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4950</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331664300</espi:start>
               </espi:timePeriod>
               <espi:value>825</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10805</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331665200</espi:start>
               </espi:timePeriod>
               <espi:value>900</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11055</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331666100</espi:start>
               </espi:timePeriod>
               <espi:value>921</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11608</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331667000</espi:start>
               </espi:timePeriod>
               <espi:value>967</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10257</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331667900</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17424</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331668800</espi:start>
               </espi:timePeriod>
               <espi:value>968</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15068</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331669700</espi:start>
               </espi:timePeriod>
               <espi:value>837</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16373</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331670600</espi:start>
               </espi:timePeriod>
               <espi:value>909</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16488</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331671500</espi:start>
               </espi:timePeriod>
               <espi:value>916</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23632</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331672400</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331673300</espi:start>
               </espi:timePeriod>
               <espi:value>957</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23762</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331674200</espi:start>
               </espi:timePeriod>
               <espi:value>990</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20320</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331675100</espi:start>
               </espi:timePeriod>
               <espi:value>846</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36130</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331676000</espi:start>
               </espi:timePeriod>
               <espi:value>1204</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33824</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331676900</espi:start>
               </espi:timePeriod>
               <espi:value>1127</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39538</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331677800</espi:start>
               </espi:timePeriod>
               <espi:value>1317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>32812</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331678700</espi:start>
               </espi:timePeriod>
               <espi:value>1093</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47017</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331679600</espi:start>
               </espi:timePeriod>
               <espi:value>1567</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45302</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331680500</espi:start>
               </espi:timePeriod>
               <espi:value>1510</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44079</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331681400</espi:start>
               </espi:timePeriod>
               <espi:value>1469</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48146</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331682300</espi:start>
               </espi:timePeriod>
               <espi:value>1604</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36411</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331683200</espi:start>
               </espi:timePeriod>
               <espi:value>1517</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37449</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331684100</espi:start>
               </espi:timePeriod>
               <espi:value>1560</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33399</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331685000</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33393</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331685900</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26224</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331686800</espi:start>
               </espi:timePeriod>
               <espi:value>1456</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27010</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331687700</espi:start>
               </espi:timePeriod>
               <espi:value>1500</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26305</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331688600</espi:start>
               </espi:timePeriod>
               <espi:value>1461</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28563</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331689500</espi:start>
               </espi:timePeriod>
               <espi:value>1586</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18543</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331690400</espi:start>
               </espi:timePeriod>
               <espi:value>1545</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16826</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331691300</espi:start>
               </espi:timePeriod>
               <espi:value>1402</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19605</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331692200</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18159</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331693100</espi:start>
               </espi:timePeriod>
               <espi:value>1513</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5101</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331694000</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5030</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331694900</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4969</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331695800</espi:start>
               </espi:timePeriod>
               <espi:value>828</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5910</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331696700</espi:start>
               </espi:timePeriod>
               <espi:value>985</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-14T04:00:00Z</published>
      <updated>2012-03-14T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:8e8a6957-5c81-4bd9-ba4c-33615e0ba0ad</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/14" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331697600</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>894</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331697600</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>828</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331698500</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331699400</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>911</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331700300</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>981</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331701200</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>836</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331702100</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>840</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331703000</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>838</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331703900</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331704800</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>885</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331705700</espi:start>
               </espi:timePeriod>
               <espi:value>295</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331706600</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>913</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331707500</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331708400</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>957</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331709300</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>816</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331710200</espi:start>
               </espi:timePeriod>
               <espi:value>272</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331711100</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>823</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331712000</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331712900</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>922</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331713800</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>903</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331714700</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>946</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331715600</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>936</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331716500</espi:start>
               </espi:timePeriod>
               <espi:value>312</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>912</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331717400</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>955</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331718300</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2857</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331719200</espi:start>
               </espi:timePeriod>
               <espi:value>952</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2530</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331720100</espi:start>
               </espi:timePeriod>
               <espi:value>843</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2759</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331721000</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2662</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331721900</espi:start>
               </espi:timePeriod>
               <espi:value>887</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9747</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331722800</espi:start>
               </espi:timePeriod>
               <espi:value>1624</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8209</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331723700</espi:start>
               </espi:timePeriod>
               <espi:value>1368</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9008</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331724600</espi:start>
               </espi:timePeriod>
               <espi:value>1501</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8878</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331725500</espi:start>
               </espi:timePeriod>
               <espi:value>1479</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8243</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331726400</espi:start>
               </espi:timePeriod>
               <espi:value>1373</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8580</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331727300</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331728200</espi:start>
               </espi:timePeriod>
               <espi:value>1648</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9751</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331729100</espi:start>
               </espi:timePeriod>
               <espi:value>1625</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8194</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331730000</espi:start>
               </espi:timePeriod>
               <espi:value>1365</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8731</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331730900</espi:start>
               </espi:timePeriod>
               <espi:value>1455</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9887</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331731800</espi:start>
               </espi:timePeriod>
               <espi:value>1647</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8881</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331732700</espi:start>
               </espi:timePeriod>
               <espi:value>1480</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8476</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331733600</espi:start>
               </espi:timePeriod>
               <espi:value>1412</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9877</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331734500</espi:start>
               </espi:timePeriod>
               <espi:value>1646</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8177</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331735400</espi:start>
               </espi:timePeriod>
               <espi:value>1362</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9278</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331736300</espi:start>
               </espi:timePeriod>
               <espi:value>1546</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5546</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331737200</espi:start>
               </espi:timePeriod>
               <espi:value>924</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5642</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331738100</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4912</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331739000</espi:start>
               </espi:timePeriod>
               <espi:value>818</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5095</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331739900</espi:start>
               </espi:timePeriod>
               <espi:value>849</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5337</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331740800</espi:start>
               </espi:timePeriod>
               <espi:value>889</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5977</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331741700</espi:start>
               </espi:timePeriod>
               <espi:value>996</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5054</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331742600</espi:start>
               </espi:timePeriod>
               <espi:value>842</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331743500</espi:start>
               </espi:timePeriod>
               <espi:value>974</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5250</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331744400</espi:start>
               </espi:timePeriod>
               <espi:value>875</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5441</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331745300</espi:start>
               </espi:timePeriod>
               <espi:value>906</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4977</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331746200</espi:start>
               </espi:timePeriod>
               <espi:value>829</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331747100</espi:start>
               </espi:timePeriod>
               <espi:value>995</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5465</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331748000</espi:start>
               </espi:timePeriod>
               <espi:value>910</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5464</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331748900</espi:start>
               </espi:timePeriod>
               <espi:value>910</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5350</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331749800</espi:start>
               </espi:timePeriod>
               <espi:value>891</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331750700</espi:start>
               </espi:timePeriod>
               <espi:value>995</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11275</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331751600</espi:start>
               </espi:timePeriod>
               <espi:value>939</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331752500</espi:start>
               </espi:timePeriod>
               <espi:value>965</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10756</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331753400</espi:start>
               </espi:timePeriod>
               <espi:value>896</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10633</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331754300</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15755</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331755200</espi:start>
               </espi:timePeriod>
               <espi:value>875</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16754</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331756100</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14752</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331757000</espi:start>
               </espi:timePeriod>
               <espi:value>819</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17570</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331757900</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21369</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331758800</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23572</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331759700</espi:start>
               </espi:timePeriod>
               <espi:value>982</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23164</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331760600</espi:start>
               </espi:timePeriod>
               <espi:value>965</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331761500</espi:start>
               </espi:timePeriod>
               <espi:value>955</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33595</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331762400</espi:start>
               </espi:timePeriod>
               <espi:value>1119</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39036</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331763300</espi:start>
               </espi:timePeriod>
               <espi:value>1301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38338</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331764200</espi:start>
               </espi:timePeriod>
               <espi:value>1277</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36623</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331765100</espi:start>
               </espi:timePeriod>
               <espi:value>1220</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>40997</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331766000</espi:start>
               </espi:timePeriod>
               <espi:value>1366</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47617</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331766900</espi:start>
               </espi:timePeriod>
               <espi:value>1587</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48095</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331767800</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48548</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331768700</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331769600</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38276</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331770500</espi:start>
               </espi:timePeriod>
               <espi:value>1594</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331771400</espi:start>
               </espi:timePeriod>
               <espi:value>1568</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36725</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331772300</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26069</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331773200</espi:start>
               </espi:timePeriod>
               <espi:value>1448</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27208</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331774100</espi:start>
               </espi:timePeriod>
               <espi:value>1511</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26505</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331775000</espi:start>
               </espi:timePeriod>
               <espi:value>1472</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25571</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331775900</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18428</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331776800</espi:start>
               </espi:timePeriod>
               <espi:value>1535</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17334</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331777700</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17590</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331778600</espi:start>
               </espi:timePeriod>
               <espi:value>1465</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18417</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331779500</espi:start>
               </espi:timePeriod>
               <espi:value>1534</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5726</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331780400</espi:start>
               </espi:timePeriod>
               <espi:value>954</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331781300</espi:start>
               </espi:timePeriod>
               <espi:value>823</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5330</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331782200</espi:start>
               </espi:timePeriod>
               <espi:value>888</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5641</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331783100</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-15T04:00:00Z</published>
      <updated>2012-03-15T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:621d4bdf-fe3d-418b-8c98-276d941d3d45</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerUsageSummary" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerUsageSummary/1" rel="self"/>
      <title>Usage Summary</title>
      <content>
         <espi:ElectricPowerUsageSummary>
            <espi:billingPeriod>
               <espi:duration>1119600</espi:duration>
               <espi:start>1330578000</espi:start>
            </espi:billingPeriod>
            <espi:billLastPeriod>15252000</espi:billLastPeriod>
            <espi:billToDate>1149000</espi:billToDate>
            <espi:costAdditionalLastPeriod>1346000</espi:costAdditionalLastPeriod>
            <espi:currency>840</espi:currency>
            <espi:overallConsumptionLastPeriod>
               <espi:powerOfTenMultiplier>0</espi:powerOfTenMultiplier>
               <espi:uom>72</espi:uom>
               <espi:value>1298640</espi:value>
            </espi:overallConsumptionLastPeriod>
            <espi:currentBillingPeriodOverAllConsumption>
               <espi:powerOfTenMultiplier>0</espi:powerOfTenMultiplier>
               <espi:timeStamp>1331784000</espi:timeStamp>
               <espi:uom>72</espi:uom>
               <espi:value>93026</espi:value>
            </espi:currentBillingPeriodOverAllConsumption>
            <espi:qualityOfReading>14</espi:qualityOfReading>
            <espi:statusTimeStamp>1331784000</espi:statusTimeStamp>
         </espi:ElectricPowerUsageSummary>
      </content>
      <published>2012-04-12T04:00:00Z</published>
      <updated>2012-04-12T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:deb0a337-c1b5-4658-99ba-4688e253a99b</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerQualitySummary" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerQualitySummary/1" rel="self"/>
      <title>Quality Summary</title>
      <content>
         <espi:ElectricPowerQualitySummary>
            <espi:flickerPlt>1</espi:flickerPlt>
            <espi:flickerPst>2</espi:flickerPst>
            <espi:harmonicVoltage>3</espi:harmonicVoltage>
            <espi:longInterruptions>4</espi:longInterruptions>
            <espi:mainsVoltage>5</espi:mainsVoltage>
            <espi:measurementProtocol>6</espi:measurementProtocol>
            <espi:powerFrequency>7</espi:powerFrequency>
            <espi:rapidVoltageChanges>8</espi:rapidVoltageChanges>
            <espi:shortInterruptions>9</espi:shortInterruptions>
            <espi:summaryInterval>
               <espi:duration>2119600</espi:duration>
               <espi:start>2330578000</espi:start>
            </espi:summaryInterval>
            <espi:supplyVoltageDips>10</espi:supplyVoltageDips>
            <espi:supplyVoltageImbalance>11</espi:supplyVoltageImbalance>
            <espi:supplyVoltageVariations>12</espi:supplyVoltageVariations>
            <espi:tempOvervoltage>13</espi:tempOvervoltage>
         </espi:ElectricPowerQualitySummary>
      </content>
      <published>2012-04-12T04:00:00Z</published>
      <updated>2012-04-12T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:3430b025-65d5-493a-bec2-053603c91cd7</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ReadingType" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ReadingType/1" rel="self"/>
      <title>Type of Meter Reading Data</title>
      <content>
         <espi:ReadingType>
            <espi:accumulationBehaviour>4</espi:accumulationBehaviour>
            <espi:commodity>1</espi:commodity>
            <espi:currency>840</espi:currency>
            <espi:dataQualifier>12</espi:dataQualifier>
            <espi:flowDirection>1</espi:flowDirection>
            <espi:intervalLength>900</espi:intervalLength>
            <espi:kind>12</espi:kind>
            <espi:phase>769</espi:phase>
            <espi:powerOfTenMultiplier>0</espi:powerOfTenMultiplier>
            <espi:timeAttribute>0</espi:timeAttribute>
            <espi:uom>72</espi:uom>
            <espi:interharmonic>
               <espi:numerator>600</espi:numerator>
               <espi:denominator>800</espi:denominator>
            </espi:interharmonic>
            <espi:argument>
               <espi:numerator>1</espi:numerator>
               <espi:denominator>2</espi:denominator>
            </espi:argument>
         </espi:ReadingType>
      </content>
      <published>2012-10-24T04:00:00Z</published>
      <updated>2012-10-24T04:00:00Z</updated>
   </entry>
</feed>]]></con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC011 Tokens and IDs have at least 48bits" searchProperties="true" id="cbb49285-68dd-4b69-a837-70b28e847e71" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description>Test software or manual inspection shall verify that Tokens and IDs communicated by the Data Custodian consist of at least 48 bits and can be the random number part of an RFC2422 UUID.</con:description><con:settings/><con:testStep type="calltestcase" name="Run TestCase Create Authorization" id="f2e6870d-cac6-4045-a5e0-57dee3399015"><con:settings/><con:config xsi:type="con:RunTestCaseStep" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>00812f7a-b4ce-4782-bf13-f27a979f6d00</con:targetTestCase><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value/></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value/></con:property><con:property><con:name>redirect_uri</con:name><con:value/></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value/></con:property><con:property><con:name>access_token</con:name><con:value/></con:property><con:property><con:name>resourceURI</con:name><con:value/></con:property><con:property><con:name>authorizationURI</con:name><con:value/></con:property><con:property><con:name>token_type</con:name><con:value/></con:property><con:property><con:name>refresh_token</con:name><con:value/></con:property><con:property><con:name>expires_in</con:name><con:value/></con:property><con:property><con:name>scope</con:name><con:value/></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>error</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_id</con:name><con:value/></con:property><con:property><con:name>old_access_token</con:name></con:property><con:property><con:name>client_secret</con:name></con:property><con:property><con:name>authorizationServerProxy</con:name></con:property><con:property><con:name>resourceServerProxy</con:name></con:property><con:property><con:name>mockPort</con:name></con:property><con:property><con:name>proxyOutPort</con:name></con:property><con:property><con:name>authorizationServerAuthorizationEndpointProxy</con:name></con:property><con:property><con:name>authorizationServerTokenEndpointProxy</con:name></con:property><con:property><con:name>client_access_token</con:name></con:property><con:property><con:name>resourceServer</con:name></con:property><con:property><con:name>registration_access_token</con:name></con:property></con:properties><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Extract information from authorization" id="7242c493-7f84-4c81-af82-144fbb99b91a"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
def headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
headers.put("Authorization","Bearer " + testRunner.testCase.testSuite.project.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
 </script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI" id="c9886d39-ce8e-4beb-b1ed-2fb87757a2b6"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI" id="59862797-37c5-4509-8f7f-17b6ccd7152c" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer 881162e8-cb5d-4855-a3e8-69a4d80f3cc2"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="d36c1625-da09-4e8a-a2d8-1e7301df8e38"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="fab40464-9fbb-4e83-834c-e397764bcdd4"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="TransferResponse" id="45b3da16-2f07-43d7-9d8b-d897bc21f7d2"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>response</con:name><con:sourceType>response</con:sourceType><con:sourceStep>GET Resource URI</con:sourceStep><con:targetType>response</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Tokens and IDs have at least 48bits" id="a7cc251b-64b5-4574-8f05-f4b82a35fa02"><con:settings/><con:config><script>import com.eviware.soapui.support.XmlHolder;

import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def ui = com.eviware.soapui.support.UISupport;

// get the response
def responseXML = testRunner.testCase.getPropertyValue("response");
def holder      = new XmlHolder(responseXML);  
holder.namespaces["atom"] = "http://www.w3.org/2005/Atom";
holder.namespaces["espi"] = "http://naesb.org/espi";

// check access token
// Ask testee to verify (manual procedure)
tokens = "access token: " + testRunner.testCase.testSuite.project.getPropertyValue("access_token") + "\n" + "registration access token: " + testRunner.testCase.testSuite.project.getPropertyValue("registration_access_token")+ "\n"  + "client access token: " + testRunner.testCase.testSuite.project.getPropertyValue("client_access_token");
result = ui.getDialogs().confirm("Verify that these tokens are at least 48 bits \n(12 characters hex, 8 characters base 64) \n\n" + tokens, "\n");
log.info (result)

if(result)
{
	log.info "tokens > 48 bits";
} else {
	testRunner.fail( "tokens are not > 48 bits");
	return;
}


// check id
countIds = holder["count(//atom:id)"].toInteger();
log.info "IDs:" + countIds;
if (countIds > 10) 
	countIds = 10;
ids = "";
for( item in holder.getNodeValues( "//atom:id" ))
{
	ids = ids + item + "\n";
	//   log.info "Item : [$item]"
}

// Ask testee to verify (manual procedure)
result = ui.getDialogs().confirm("Verify that these IDs are at least 48 bits \n(12 characters hex, 8 characters base 64) \n\n"+ ids.toString(), "\n");
log.info (result)

if(result)
{
	log.info "ids do not contain PII";
} else {
	testRunner.fail( "ids not verified to exclude PII");
	return;
}



// check url
countLinks = holder["count(//atom:link)"].toInteger();
log.info "Links: " + countLinks;
if (countLinks > 10) 
	countLinks = 10;
links = "";
for( item in holder.getNodeValues( "//atom:link/@href" ))
{
	links = links + item + "\n";
	//   log.info "Item : [$item]"
}

// Ask testee to verify (manual procedure)
result = ui.getDialogs().confirm("Assert that these links contain identifiers that are at least 48 bits \n(12 characters hex, 8 characters base 64) \n\n"+ links.toString(), "\n");
log.info (result)

if(result)
{
	log.info "links contain identifiers that are at least 48 bits";
} else {
	testRunner.fail( "links contain identifiers that are not at least 48 bits");
	return;
}



</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>response</con:name><con:value><![CDATA[<?xml-stylesheet type="text/xsl" href="GreenButtonDataStyleSheet.xslt"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <id>urn:uuid:46428d70-40f2-41a8-8fe6-54c64a89e832</id>
   <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
   <title>Green Button Usage Feed</title>
   <updated>2016-02-29T02:49:52Z</updated>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7" rel="self"/>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:48c2a019-5598-4e16-b0f9-49e4ff27f5fb</id>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1" rel="self"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerQualitySummary" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerUsageSummary" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="related"/>
      <link href="/espi/1_1/resource/LocalTimeParameters/01" rel="related"/>
      <title>Front Electric Meter</title>
      <content>
         <espi:UsagePoint>
            <espi:ServiceCategory>
               <espi:kind>0</espi:kind>
            </espi:ServiceCategory>
         </espi:UsagePoint>
      </content>
      <published>2012-10-24T04:00:00Z</published>
      <updated>2012-10-24T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:54c62ebe-2db6-4d4f-b6bf-1973a079c841</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/LocalTimeParameters" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/LocalTimeParameters/1" rel="self"/>
      <title>DST For North America</title>
      <content>
         <espi:LocalTimeParameters>
            <espi:dstEndRule>B40E2000</espi:dstEndRule>
            <espi:dstOffset>3600</espi:dstOffset>
            <espi:dstStartRule>360E2000</espi:dstStartRule>
            <espi:tzOffset>-18000</espi:tzOffset>
         </espi:LocalTimeParameters>
      </content>
      <published>2012-10-24T04:00:00Z</published>
      <updated>2012-10-24T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:f77fbf34-a09e-4ebc-9606-ff1a59a17cae</id>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1" rel="self"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ReadingType/1" rel="related"/>
      <link href="/espi/1_1/resource/ReadingType/07" rel="related"/>
      <title>Fifteen Minute Electricity Consumption</title>
      <content>
         <espi:MeterReading/>
      </content>
      <published>2012-10-24T04:00:00Z</published>
      <updated>2012-10-24T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:fe9a61bb-6913-42d4-88be-9634a218ef53</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/1" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330578000</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>974</espi:cost>
               <espi:ReadingQuality>
                  <espi:quality>8</espi:quality>
               </espi:ReadingQuality>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330578000</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>965</espi:cost>
               <espi:ReadingQuality>
                  <espi:quality>7</espi:quality>
               </espi:ReadingQuality>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330578900</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330579800</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>995</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330580700</espi:start>
               </espi:timePeriod>
               <espi:value>331</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330581600</espi:start>
               </espi:timePeriod>
               <espi:value>321</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>948</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330582500</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>898</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330583400</espi:start>
               </espi:timePeriod>
               <espi:value>299</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>976</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330584300</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330585200</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>828</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330586100</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330587000</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>875</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330587900</espi:start>
               </espi:timePeriod>
               <espi:value>291</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330588800</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>954</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330589700</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330590600</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>821</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330591500</espi:start>
               </espi:timePeriod>
               <espi:value>273</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>910</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330592400</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>977</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330593300</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>987</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330594200</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>858</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330595100</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2561</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330596000</espi:start>
               </espi:timePeriod>
               <espi:value>853</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2558</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330596900</espi:start>
               </espi:timePeriod>
               <espi:value>852</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2542</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330597800</espi:start>
               </espi:timePeriod>
               <espi:value>847</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2630</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330598700</espi:start>
               </espi:timePeriod>
               <espi:value>876</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9643</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330599600</espi:start>
               </espi:timePeriod>
               <espi:value>1607</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9787</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330600500</espi:start>
               </espi:timePeriod>
               <espi:value>1631</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9547</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330601400</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9574</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330602300</espi:start>
               </espi:timePeriod>
               <espi:value>1595</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8282</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330603200</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9330</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330604100</espi:start>
               </espi:timePeriod>
               <espi:value>1555</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8667</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330605000</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8544</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330605900</espi:start>
               </espi:timePeriod>
               <espi:value>1424</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8332</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330606800</espi:start>
               </espi:timePeriod>
               <espi:value>1388</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9694</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330607700</espi:start>
               </espi:timePeriod>
               <espi:value>1615</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8304</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330608600</espi:start>
               </espi:timePeriod>
               <espi:value>1384</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9711</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330609500</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8682</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330610400</espi:start>
               </espi:timePeriod>
               <espi:value>1447</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8427</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330611300</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9584</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330612200</espi:start>
               </espi:timePeriod>
               <espi:value>1597</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8448</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330613100</espi:start>
               </espi:timePeriod>
               <espi:value>1408</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5292</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330614000</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5123</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330614900</espi:start>
               </espi:timePeriod>
               <espi:value>853</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5963</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330615800</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5641</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330616700</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5656</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330617600</espi:start>
               </espi:timePeriod>
               <espi:value>942</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5677</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330618500</espi:start>
               </espi:timePeriod>
               <espi:value>946</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5075</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330619400</espi:start>
               </espi:timePeriod>
               <espi:value>845</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5168</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330620300</espi:start>
               </espi:timePeriod>
               <espi:value>861</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5877</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330621200</espi:start>
               </espi:timePeriod>
               <espi:value>979</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5611</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330622100</espi:start>
               </espi:timePeriod>
               <espi:value>935</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330623000</espi:start>
               </espi:timePeriod>
               <espi:value>988</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5243</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330623900</espi:start>
               </espi:timePeriod>
               <espi:value>873</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5599</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330624800</espi:start>
               </espi:timePeriod>
               <espi:value>933</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5786</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330625700</espi:start>
               </espi:timePeriod>
               <espi:value>964</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5475</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330626600</espi:start>
               </espi:timePeriod>
               <espi:value>912</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5592</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330627500</espi:start>
               </espi:timePeriod>
               <espi:value>932</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11422</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330628400</espi:start>
               </espi:timePeriod>
               <espi:value>951</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11026</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330629300</espi:start>
               </espi:timePeriod>
               <espi:value>918</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10592</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330630200</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10094</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330631100</espi:start>
               </espi:timePeriod>
               <espi:value>841</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16299</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330632000</espi:start>
               </espi:timePeriod>
               <espi:value>905</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17502</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330632900</espi:start>
               </espi:timePeriod>
               <espi:value>972</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15167</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330633800</espi:start>
               </espi:timePeriod>
               <espi:value>842</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14879</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330634700</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20511</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330635600</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21834</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330636500</espi:start>
               </espi:timePeriod>
               <espi:value>909</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23895</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330637400</espi:start>
               </espi:timePeriod>
               <espi:value>995</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21110</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330638300</espi:start>
               </espi:timePeriod>
               <espi:value>879</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33485</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330639200</espi:start>
               </espi:timePeriod>
               <espi:value>1116</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37850</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330640100</espi:start>
               </espi:timePeriod>
               <espi:value>1261</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39192</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330641000</espi:start>
               </espi:timePeriod>
               <espi:value>1306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34924</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330641900</espi:start>
               </espi:timePeriod>
               <espi:value>1164</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44125</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330642800</espi:start>
               </espi:timePeriod>
               <espi:value>1470</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47955</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330643700</espi:start>
               </espi:timePeriod>
               <espi:value>1598</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45117</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330644600</espi:start>
               </espi:timePeriod>
               <espi:value>1503</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45246</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330645500</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35606</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330646400</espi:start>
               </espi:timePeriod>
               <espi:value>1483</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34141</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330647300</espi:start>
               </espi:timePeriod>
               <espi:value>1422</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38734</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330648200</espi:start>
               </espi:timePeriod>
               <espi:value>1613</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38415</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330649100</espi:start>
               </espi:timePeriod>
               <espi:value>1600</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27463</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330650000</espi:start>
               </espi:timePeriod>
               <espi:value>1525</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29200</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330650900</espi:start>
               </espi:timePeriod>
               <espi:value>1622</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29211</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330651800</espi:start>
               </espi:timePeriod>
               <espi:value>1622</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29495</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330652700</espi:start>
               </espi:timePeriod>
               <espi:value>1638</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19146</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330653600</espi:start>
               </espi:timePeriod>
               <espi:value>1595</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18504</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330654500</espi:start>
               </espi:timePeriod>
               <espi:value>1542</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18624</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330655400</espi:start>
               </espi:timePeriod>
               <espi:value>1552</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330656300</espi:start>
               </espi:timePeriod>
               <espi:value>1652</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5833</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330657200</espi:start>
               </espi:timePeriod>
               <espi:value>972</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5919</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330658100</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5012</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330659000</espi:start>
               </espi:timePeriod>
               <espi:value>835</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5262</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330659900</espi:start>
               </espi:timePeriod>
               <espi:value>877</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>934</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330660800</espi:start>
               </espi:timePeriod>
               <espi:value>311</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330661700</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>835</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330662600</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330663500</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-02T05:00:00Z</published>
      <updated>2012-03-02T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:0e49b341-cabd-445b-8f88-7acf791b1863</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/2" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330664400</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>938</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330664400</espi:start>
               </espi:timePeriod>
               <espi:value>312</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>888</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330665300</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>909</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330666200</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>862</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330667100</espi:start>
               </espi:timePeriod>
               <espi:value>287</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330668000</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330668900</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>945</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330669800</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330670700</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330671600</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>877</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330672500</espi:start>
               </espi:timePeriod>
               <espi:value>292</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>872</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330673400</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>911</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330674300</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330675200</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>863</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330676100</espi:start>
               </espi:timePeriod>
               <espi:value>287</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>827</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330677000</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>988</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330677900</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>928</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330678800</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>826</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330679700</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>834</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330680600</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330681500</espi:start>
               </espi:timePeriod>
               <espi:value>321</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2590</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330682400</espi:start>
               </espi:timePeriod>
               <espi:value>863</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2767</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330683300</espi:start>
               </espi:timePeriod>
               <espi:value>922</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2658</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330684200</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2774</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330685100</espi:start>
               </espi:timePeriod>
               <espi:value>924</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8727</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330686000</espi:start>
               </espi:timePeriod>
               <espi:value>1454</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9158</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330686900</espi:start>
               </espi:timePeriod>
               <espi:value>1526</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8866</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330687800</espi:start>
               </espi:timePeriod>
               <espi:value>1477</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8441</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330688700</espi:start>
               </espi:timePeriod>
               <espi:value>1406</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8521</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330689600</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9036</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330690500</espi:start>
               </espi:timePeriod>
               <espi:value>1506</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8284</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330691400</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9859</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330692300</espi:start>
               </espi:timePeriod>
               <espi:value>1643</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9327</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330693200</espi:start>
               </espi:timePeriod>
               <espi:value>1554</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8208</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330694100</espi:start>
               </espi:timePeriod>
               <espi:value>1368</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8268</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330695000</espi:start>
               </espi:timePeriod>
               <espi:value>1378</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8796</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330695900</espi:start>
               </espi:timePeriod>
               <espi:value>1466</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9058</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330696800</espi:start>
               </espi:timePeriod>
               <espi:value>1509</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8967</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330697700</espi:start>
               </espi:timePeriod>
               <espi:value>1494</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8399</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330698600</espi:start>
               </espi:timePeriod>
               <espi:value>1399</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330699500</espi:start>
               </espi:timePeriod>
               <espi:value>1480</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5775</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330700400</espi:start>
               </espi:timePeriod>
               <espi:value>962</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5321</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330701300</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5867</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330702200</espi:start>
               </espi:timePeriod>
               <espi:value>977</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5518</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330703100</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5078</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330704000</espi:start>
               </espi:timePeriod>
               <espi:value>846</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5896</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330704900</espi:start>
               </espi:timePeriod>
               <espi:value>982</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5699</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330705800</espi:start>
               </espi:timePeriod>
               <espi:value>949</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330706700</espi:start>
               </espi:timePeriod>
               <espi:value>996</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5189</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330707600</espi:start>
               </espi:timePeriod>
               <espi:value>864</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5715</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330708500</espi:start>
               </espi:timePeriod>
               <espi:value>952</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4961</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330709400</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5775</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330710300</espi:start>
               </espi:timePeriod>
               <espi:value>962</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5712</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330711200</espi:start>
               </espi:timePeriod>
               <espi:value>952</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5769</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330712100</espi:start>
               </espi:timePeriod>
               <espi:value>961</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330713000</espi:start>
               </espi:timePeriod>
               <espi:value>941</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5784</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330713900</espi:start>
               </espi:timePeriod>
               <espi:value>964</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10354</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330714800</espi:start>
               </espi:timePeriod>
               <espi:value>862</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11809</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330715700</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11145</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330716600</espi:start>
               </espi:timePeriod>
               <espi:value>928</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10607</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330717500</espi:start>
               </espi:timePeriod>
               <espi:value>883</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17272</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330718400</espi:start>
               </espi:timePeriod>
               <espi:value>959</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17788</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330719300</espi:start>
               </espi:timePeriod>
               <espi:value>988</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17744</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330720200</espi:start>
               </espi:timePeriod>
               <espi:value>985</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16424</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330721100</espi:start>
               </espi:timePeriod>
               <espi:value>912</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20751</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330722000</espi:start>
               </espi:timePeriod>
               <espi:value>864</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23622</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330722900</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19714</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330723800</espi:start>
               </espi:timePeriod>
               <espi:value>821</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21403</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330724700</espi:start>
               </espi:timePeriod>
               <espi:value>891</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35235</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330725600</espi:start>
               </espi:timePeriod>
               <espi:value>1174</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37458</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330726500</espi:start>
               </espi:timePeriod>
               <espi:value>1248</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33041</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330727400</espi:start>
               </espi:timePeriod>
               <espi:value>1101</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39082</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330728300</espi:start>
               </espi:timePeriod>
               <espi:value>1302</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45871</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330729200</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45108</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330730100</espi:start>
               </espi:timePeriod>
               <espi:value>1503</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46485</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330731000</espi:start>
               </espi:timePeriod>
               <espi:value>1549</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44524</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330731900</espi:start>
               </espi:timePeriod>
               <espi:value>1484</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18237</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330732800</espi:start>
               </espi:timePeriod>
               <espi:value>1519</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17062</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330733700</espi:start>
               </espi:timePeriod>
               <espi:value>1421</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19129</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330734600</espi:start>
               </espi:timePeriod>
               <espi:value>1594</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17080</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330735500</espi:start>
               </espi:timePeriod>
               <espi:value>1423</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14028</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330736400</espi:start>
               </espi:timePeriod>
               <espi:value>1558</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13576</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330737300</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12636</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330738200</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14019</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330739100</espi:start>
               </espi:timePeriod>
               <espi:value>1557</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9793</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330740000</espi:start>
               </espi:timePeriod>
               <espi:value>1632</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330740900</espi:start>
               </espi:timePeriod>
               <espi:value>1445</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330741800</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9790</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330742700</espi:start>
               </espi:timePeriod>
               <espi:value>1631</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4855</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330743600</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4625</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330744500</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4269</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330745400</espi:start>
               </espi:timePeriod>
               <espi:value>1423</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4785</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330746300</espi:start>
               </espi:timePeriod>
               <espi:value>1595</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2494</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330747200</espi:start>
               </espi:timePeriod>
               <espi:value>831</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2753</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330748100</espi:start>
               </espi:timePeriod>
               <espi:value>917</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2783</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330749000</espi:start>
               </espi:timePeriod>
               <espi:value>927</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2958</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330749900</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-03T05:00:00Z</published>
      <updated>2012-03-03T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:1a1a106f-7108-4532-a5a6-fd48f7da3b8d</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/3" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330750800</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>944</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330750800</espi:start>
               </espi:timePeriod>
               <espi:value>314</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330751700</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>967</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330752600</espi:start>
               </espi:timePeriod>
               <espi:value>322</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>859</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330753500</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>854</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330754400</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330755300</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>887</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330756200</espi:start>
               </espi:timePeriod>
               <espi:value>295</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>885</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330757100</espi:start>
               </espi:timePeriod>
               <espi:value>295</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>913</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330758000</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>838</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330758900</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330759800</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330760700</espi:start>
               </espi:timePeriod>
               <espi:value>321</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330761600</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>843</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330762500</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330763400</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>975</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330764300</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>986</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330765200</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>961</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330766100</espi:start>
               </espi:timePeriod>
               <espi:value>320</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>955</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330767000</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>842</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330767900</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330768800</espi:start>
               </espi:timePeriod>
               <espi:value>883</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2478</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330769700</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2771</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330770600</espi:start>
               </espi:timePeriod>
               <espi:value>923</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2518</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330771500</espi:start>
               </espi:timePeriod>
               <espi:value>839</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8627</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330772400</espi:start>
               </espi:timePeriod>
               <espi:value>1437</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8351</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330773300</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9174</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330774200</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8421</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330775100</espi:start>
               </espi:timePeriod>
               <espi:value>1403</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9496</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330776000</espi:start>
               </espi:timePeriod>
               <espi:value>1582</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8797</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330776900</espi:start>
               </espi:timePeriod>
               <espi:value>1466</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8189</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330777800</espi:start>
               </espi:timePeriod>
               <espi:value>1364</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8953</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330778700</espi:start>
               </espi:timePeriod>
               <espi:value>1492</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8374</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330779600</espi:start>
               </espi:timePeriod>
               <espi:value>1395</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9391</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330780500</espi:start>
               </espi:timePeriod>
               <espi:value>1565</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9744</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330781400</espi:start>
               </espi:timePeriod>
               <espi:value>1624</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9236</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330782300</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9448</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330783200</espi:start>
               </espi:timePeriod>
               <espi:value>1574</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9917</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330784100</espi:start>
               </espi:timePeriod>
               <espi:value>1652</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8252</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330785000</espi:start>
               </espi:timePeriod>
               <espi:value>1375</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8468</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330785900</espi:start>
               </espi:timePeriod>
               <espi:value>1411</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9800</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330786800</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9729</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330787700</espi:start>
               </espi:timePeriod>
               <espi:value>1621</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8482</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330788600</espi:start>
               </espi:timePeriod>
               <espi:value>1413</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9229</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330789500</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9059</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330790400</espi:start>
               </espi:timePeriod>
               <espi:value>1509</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9595</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330791300</espi:start>
               </espi:timePeriod>
               <espi:value>1599</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9157</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330792200</espi:start>
               </espi:timePeriod>
               <espi:value>1526</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8665</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330793100</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8645</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330794000</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8545</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330794900</espi:start>
               </espi:timePeriod>
               <espi:value>1424</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8757</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330795800</espi:start>
               </espi:timePeriod>
               <espi:value>1459</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8267</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330796700</espi:start>
               </espi:timePeriod>
               <espi:value>1377</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9636</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330797600</espi:start>
               </espi:timePeriod>
               <espi:value>1606</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8440</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330798500</espi:start>
               </espi:timePeriod>
               <espi:value>1406</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8164</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330799400</espi:start>
               </espi:timePeriod>
               <espi:value>1360</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9592</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330800300</espi:start>
               </espi:timePeriod>
               <espi:value>1598</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13937</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330801200</espi:start>
               </espi:timePeriod>
               <espi:value>1548</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14878</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330802100</espi:start>
               </espi:timePeriod>
               <espi:value>1653</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12450</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330803000</espi:start>
               </espi:timePeriod>
               <espi:value>1383</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12937</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330803900</espi:start>
               </espi:timePeriod>
               <espi:value>1437</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17780</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330804800</espi:start>
               </espi:timePeriod>
               <espi:value>1481</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17587</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330805700</espi:start>
               </espi:timePeriod>
               <espi:value>1465</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16467</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330806600</espi:start>
               </espi:timePeriod>
               <espi:value>1372</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17447</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330807500</espi:start>
               </espi:timePeriod>
               <espi:value>1453</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23372</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330808400</espi:start>
               </espi:timePeriod>
               <espi:value>1558</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23082</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330809300</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22938</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330810200</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21596</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330811100</espi:start>
               </espi:timePeriod>
               <espi:value>1439</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22727</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330812000</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330812900</espi:start>
               </espi:timePeriod>
               <espi:value>1395</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24644</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330813800</espi:start>
               </espi:timePeriod>
               <espi:value>1642</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22780</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330814700</espi:start>
               </espi:timePeriod>
               <espi:value>1518</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24075</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330815600</espi:start>
               </espi:timePeriod>
               <espi:value>1605</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21463</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330816500</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24060</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330817400</espi:start>
               </espi:timePeriod>
               <espi:value>1604</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22632</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330818300</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17823</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330819200</espi:start>
               </espi:timePeriod>
               <espi:value>1485</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16881</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330820100</espi:start>
               </espi:timePeriod>
               <espi:value>1406</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16689</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330821000</espi:start>
               </espi:timePeriod>
               <espi:value>1390</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330821900</espi:start>
               </espi:timePeriod>
               <espi:value>1569</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14422</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330822800</espi:start>
               </espi:timePeriod>
               <espi:value>1602</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12943</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330823700</espi:start>
               </espi:timePeriod>
               <espi:value>1438</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330824600</espi:start>
               </espi:timePeriod>
               <espi:value>1432</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12731</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330825500</espi:start>
               </espi:timePeriod>
               <espi:value>1414</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9773</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330826400</espi:start>
               </espi:timePeriod>
               <espi:value>1628</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9267</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330827300</espi:start>
               </espi:timePeriod>
               <espi:value>1544</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9231</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330828200</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8450</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330829100</espi:start>
               </espi:timePeriod>
               <espi:value>1408</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4179</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330830000</espi:start>
               </espi:timePeriod>
               <espi:value>1393</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4738</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330830900</espi:start>
               </espi:timePeriod>
               <espi:value>1579</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4233</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330831800</espi:start>
               </espi:timePeriod>
               <espi:value>1411</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330832700</espi:start>
               </espi:timePeriod>
               <espi:value>1630</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2849</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330833600</espi:start>
               </espi:timePeriod>
               <espi:value>949</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2767</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330834500</espi:start>
               </espi:timePeriod>
               <espi:value>922</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2772</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330835400</espi:start>
               </espi:timePeriod>
               <espi:value>924</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2904</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330836300</espi:start>
               </espi:timePeriod>
               <espi:value>968</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-04T05:00:00Z</published>
      <updated>2012-03-04T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:45745604-814d-49a1-8d4b-856d5d44b7af</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/4" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330837200</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>902</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330837200</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>979</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330838100</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>869</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330839000</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>821</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330839900</espi:start>
               </espi:timePeriod>
               <espi:value>273</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>865</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330840800</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330841700</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>989</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330842600</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>948</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330843500</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330844400</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>954</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330845300</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>854</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330846200</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>872</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330847100</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>966</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330848000</espi:start>
               </espi:timePeriod>
               <espi:value>322</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>865</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330848900</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330849800</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>889</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330850700</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>942</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330851600</espi:start>
               </espi:timePeriod>
               <espi:value>314</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330852500</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>980</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330853400</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>868</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330854300</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2585</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330855200</espi:start>
               </espi:timePeriod>
               <espi:value>861</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2695</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330856100</espi:start>
               </espi:timePeriod>
               <espi:value>898</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2592</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330857000</espi:start>
               </espi:timePeriod>
               <espi:value>864</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2731</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330857900</espi:start>
               </espi:timePeriod>
               <espi:value>910</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9738</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330858800</espi:start>
               </espi:timePeriod>
               <espi:value>1623</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9802</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330859700</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8600</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330860600</espi:start>
               </espi:timePeriod>
               <espi:value>1433</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9686</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330861500</espi:start>
               </espi:timePeriod>
               <espi:value>1614</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8886</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330862400</espi:start>
               </espi:timePeriod>
               <espi:value>1481</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8331</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330863300</espi:start>
               </espi:timePeriod>
               <espi:value>1388</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9230</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330864200</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8714</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330865100</espi:start>
               </espi:timePeriod>
               <espi:value>1452</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9497</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330866000</espi:start>
               </espi:timePeriod>
               <espi:value>1582</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8426</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330866900</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9050</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330867800</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9388</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330868700</espi:start>
               </espi:timePeriod>
               <espi:value>1564</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9343</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330869600</espi:start>
               </espi:timePeriod>
               <espi:value>1557</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9179</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330870500</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8181</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330871400</espi:start>
               </espi:timePeriod>
               <espi:value>1363</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8283</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330872300</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9741</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330873200</espi:start>
               </espi:timePeriod>
               <espi:value>1623</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9930</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330874100</espi:start>
               </espi:timePeriod>
               <espi:value>1655</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9620</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330875000</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9667</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330875900</espi:start>
               </espi:timePeriod>
               <espi:value>1611</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8890</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330876800</espi:start>
               </espi:timePeriod>
               <espi:value>1481</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8483</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330877700</espi:start>
               </espi:timePeriod>
               <espi:value>1413</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8279</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330878600</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9423</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330879500</espi:start>
               </espi:timePeriod>
               <espi:value>1570</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8364</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330880400</espi:start>
               </espi:timePeriod>
               <espi:value>1394</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8844</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330881300</espi:start>
               </espi:timePeriod>
               <espi:value>1474</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9484</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330882200</espi:start>
               </espi:timePeriod>
               <espi:value>1580</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8463</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330883100</espi:start>
               </espi:timePeriod>
               <espi:value>1410</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9173</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330884000</espi:start>
               </espi:timePeriod>
               <espi:value>1528</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9459</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330884900</espi:start>
               </espi:timePeriod>
               <espi:value>1576</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9850</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330885800</espi:start>
               </espi:timePeriod>
               <espi:value>1641</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8442</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330886700</espi:start>
               </espi:timePeriod>
               <espi:value>1407</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12413</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330887600</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12347</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330888500</espi:start>
               </espi:timePeriod>
               <espi:value>1371</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14151</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330889400</espi:start>
               </espi:timePeriod>
               <espi:value>1572</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14627</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330890300</espi:start>
               </espi:timePeriod>
               <espi:value>1625</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16483</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330891200</espi:start>
               </espi:timePeriod>
               <espi:value>1373</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19600</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330892100</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19686</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330893000</espi:start>
               </espi:timePeriod>
               <espi:value>1640</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19909</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330893900</espi:start>
               </espi:timePeriod>
               <espi:value>1659</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23093</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330894800</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24265</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330895700</espi:start>
               </espi:timePeriod>
               <espi:value>1617</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22889</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330896600</espi:start>
               </espi:timePeriod>
               <espi:value>1525</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24853</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330897500</espi:start>
               </espi:timePeriod>
               <espi:value>1656</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21769</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330898400</espi:start>
               </espi:timePeriod>
               <espi:value>1451</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24577</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330899300</espi:start>
               </espi:timePeriod>
               <espi:value>1638</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20465</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330900200</espi:start>
               </espi:timePeriod>
               <espi:value>1364</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24114</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330901100</espi:start>
               </espi:timePeriod>
               <espi:value>1607</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330902000</espi:start>
               </espi:timePeriod>
               <espi:value>1462</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22265</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330902900</espi:start>
               </espi:timePeriod>
               <espi:value>1484</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24871</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330903800</espi:start>
               </espi:timePeriod>
               <espi:value>1658</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24159</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330904700</espi:start>
               </espi:timePeriod>
               <espi:value>1610</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38333</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330905600</espi:start>
               </espi:timePeriod>
               <espi:value>1597</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39176</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330906500</espi:start>
               </espi:timePeriod>
               <espi:value>1632</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34748</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330907400</espi:start>
               </espi:timePeriod>
               <espi:value>1447</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38769</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330908300</espi:start>
               </espi:timePeriod>
               <espi:value>1615</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25573</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330909200</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27272</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330910100</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25146</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330911000</espi:start>
               </espi:timePeriod>
               <espi:value>1397</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27716</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330911900</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18006</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330912800</espi:start>
               </espi:timePeriod>
               <espi:value>1500</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17879</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330913700</espi:start>
               </espi:timePeriod>
               <espi:value>1489</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18124</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330914600</espi:start>
               </espi:timePeriod>
               <espi:value>1510</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17567</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330915500</espi:start>
               </espi:timePeriod>
               <espi:value>1463</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5815</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330916400</espi:start>
               </espi:timePeriod>
               <espi:value>969</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5612</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330917300</espi:start>
               </espi:timePeriod>
               <espi:value>935</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5936</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330918200</espi:start>
               </espi:timePeriod>
               <espi:value>989</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5748</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330919100</espi:start>
               </espi:timePeriod>
               <espi:value>958</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>875</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330920000</espi:start>
               </espi:timePeriod>
               <espi:value>291</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>824</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330920900</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>909</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330921800</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330922700</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-05T05:00:00Z</published>
      <updated>2012-03-05T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:298f995f-849a-4dee-b339-988b2cd4ba5f</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/5" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1330923600</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>852</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330923600</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330924500</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330925400</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>948</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330926300</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>975</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330927200</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>951</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330928100</espi:start>
               </espi:timePeriod>
               <espi:value>317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330929000</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>864</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330929900</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>992</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330930800</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>924</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330931700</espi:start>
               </espi:timePeriod>
               <espi:value>308</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330932600</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>832</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330933500</espi:start>
               </espi:timePeriod>
               <espi:value>277</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>930</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330934400</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330935300</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>855</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330936200</espi:start>
               </espi:timePeriod>
               <espi:value>285</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>840</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330937100</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>837</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330938000</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>889</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330938900</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>904</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330939800</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>880</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330940700</espi:start>
               </espi:timePeriod>
               <espi:value>293</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2789</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330941600</espi:start>
               </espi:timePeriod>
               <espi:value>929</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2787</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330942500</espi:start>
               </espi:timePeriod>
               <espi:value>929</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2920</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330943400</espi:start>
               </espi:timePeriod>
               <espi:value>973</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2647</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330944300</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8831</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330945200</espi:start>
               </espi:timePeriod>
               <espi:value>1471</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8694</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330946100</espi:start>
               </espi:timePeriod>
               <espi:value>1449</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330947000</espi:start>
               </espi:timePeriod>
               <espi:value>1483</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8779</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330947900</espi:start>
               </espi:timePeriod>
               <espi:value>1463</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9806</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330948800</espi:start>
               </espi:timePeriod>
               <espi:value>1634</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9166</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330949700</espi:start>
               </espi:timePeriod>
               <espi:value>1527</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8633</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330950600</espi:start>
               </espi:timePeriod>
               <espi:value>1438</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8407</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330951500</espi:start>
               </espi:timePeriod>
               <espi:value>1401</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9466</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330952400</espi:start>
               </espi:timePeriod>
               <espi:value>1577</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9564</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330953300</espi:start>
               </espi:timePeriod>
               <espi:value>1594</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9756</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330954200</espi:start>
               </espi:timePeriod>
               <espi:value>1626</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9421</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330955100</espi:start>
               </espi:timePeriod>
               <espi:value>1570</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8233</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330956000</espi:start>
               </espi:timePeriod>
               <espi:value>1372</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8285</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330956900</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9034</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330957800</espi:start>
               </espi:timePeriod>
               <espi:value>1505</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9404</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330958700</espi:start>
               </espi:timePeriod>
               <espi:value>1567</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5907</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330959600</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4968</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330960500</espi:start>
               </espi:timePeriod>
               <espi:value>828</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5704</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330961400</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5320</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330962300</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5556</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330963200</espi:start>
               </espi:timePeriod>
               <espi:value>926</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330964100</espi:start>
               </espi:timePeriod>
               <espi:value>983</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5718</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330965000</espi:start>
               </espi:timePeriod>
               <espi:value>953</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5812</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330965900</espi:start>
               </espi:timePeriod>
               <espi:value>968</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4922</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330966800</espi:start>
               </espi:timePeriod>
               <espi:value>820</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5541</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330967700</espi:start>
               </espi:timePeriod>
               <espi:value>923</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5147</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330968600</espi:start>
               </espi:timePeriod>
               <espi:value>857</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5141</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330969500</espi:start>
               </espi:timePeriod>
               <espi:value>856</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5659</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330970400</espi:start>
               </espi:timePeriod>
               <espi:value>943</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5258</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330971300</espi:start>
               </espi:timePeriod>
               <espi:value>876</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330972200</espi:start>
               </espi:timePeriod>
               <espi:value>988</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5447</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330973100</espi:start>
               </espi:timePeriod>
               <espi:value>907</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11525</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330974000</espi:start>
               </espi:timePeriod>
               <espi:value>960</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10834</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330974900</espi:start>
               </espi:timePeriod>
               <espi:value>902</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10809</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330975800</espi:start>
               </espi:timePeriod>
               <espi:value>900</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10514</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330976700</espi:start>
               </espi:timePeriod>
               <espi:value>876</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16117</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330977600</espi:start>
               </espi:timePeriod>
               <espi:value>895</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16185</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330978500</espi:start>
               </espi:timePeriod>
               <espi:value>899</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14910</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330979400</espi:start>
               </espi:timePeriod>
               <espi:value>828</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15216</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330980300</espi:start>
               </espi:timePeriod>
               <espi:value>845</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20900</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330981200</espi:start>
               </espi:timePeriod>
               <espi:value>870</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19819</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330982100</espi:start>
               </espi:timePeriod>
               <espi:value>825</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23788</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330983000</espi:start>
               </espi:timePeriod>
               <espi:value>991</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22485</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330983900</espi:start>
               </espi:timePeriod>
               <espi:value>936</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35850</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330984800</espi:start>
               </espi:timePeriod>
               <espi:value>1195</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39313</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330985700</espi:start>
               </espi:timePeriod>
               <espi:value>1310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38146</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330986600</espi:start>
               </espi:timePeriod>
               <espi:value>1271</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35287</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330987500</espi:start>
               </espi:timePeriod>
               <espi:value>1176</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44109</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330988400</espi:start>
               </espi:timePeriod>
               <espi:value>1470</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>43965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330989300</espi:start>
               </espi:timePeriod>
               <espi:value>1465</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>41996</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330990200</espi:start>
               </espi:timePeriod>
               <espi:value>1399</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45469</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330991100</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35241</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330992000</espi:start>
               </espi:timePeriod>
               <espi:value>1468</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34724</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330992900</espi:start>
               </espi:timePeriod>
               <espi:value>1446</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38514</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330993800</espi:start>
               </espi:timePeriod>
               <espi:value>1604</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34484</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330994700</espi:start>
               </espi:timePeriod>
               <espi:value>1436</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24875</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330995600</espi:start>
               </espi:timePeriod>
               <espi:value>1381</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27741</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330996500</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28617</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330997400</espi:start>
               </espi:timePeriod>
               <espi:value>1589</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29871</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330998300</espi:start>
               </espi:timePeriod>
               <espi:value>1659</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17571</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1330999200</espi:start>
               </espi:timePeriod>
               <espi:value>1464</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18440</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331000100</espi:start>
               </espi:timePeriod>
               <espi:value>1536</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331001000</espi:start>
               </espi:timePeriod>
               <espi:value>1556</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16482</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331001900</espi:start>
               </espi:timePeriod>
               <espi:value>1373</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5200</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331002800</espi:start>
               </espi:timePeriod>
               <espi:value>866</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5704</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331003700</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5481</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331004600</espi:start>
               </espi:timePeriod>
               <espi:value>913</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5479</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331005500</espi:start>
               </espi:timePeriod>
               <espi:value>913</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>920</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331006400</espi:start>
               </espi:timePeriod>
               <espi:value>306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331007300</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>969</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331008200</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>912</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331009100</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-06T05:00:00Z</published>
      <updated>2012-03-06T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:9648b7ce-8a3f-4545-a8d9-3997062e1419</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/6" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331010000</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>835</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331010000</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331010900</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331011800</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331012700</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>950</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331013600</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>875</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331014500</espi:start>
               </espi:timePeriod>
               <espi:value>291</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>926</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331015400</espi:start>
               </espi:timePeriod>
               <espi:value>308</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331016300</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>894</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331017200</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331018100</espi:start>
               </espi:timePeriod>
               <espi:value>331</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>949</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331019000</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>860</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331019900</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331020800</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>923</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331021700</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>867</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331022600</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>933</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331023500</espi:start>
               </espi:timePeriod>
               <espi:value>311</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331024400</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>989</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331025300</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>903</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331026200</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>894</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331027100</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2563</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331028000</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331028900</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2922</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331029800</espi:start>
               </espi:timePeriod>
               <espi:value>974</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2590</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331030700</espi:start>
               </espi:timePeriod>
               <espi:value>863</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331031600</espi:start>
               </espi:timePeriod>
               <espi:value>1654</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9278</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331032500</espi:start>
               </espi:timePeriod>
               <espi:value>1546</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8208</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331033400</espi:start>
               </espi:timePeriod>
               <espi:value>1368</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9496</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331034300</espi:start>
               </espi:timePeriod>
               <espi:value>1582</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331035200</espi:start>
               </espi:timePeriod>
               <espi:value>1655</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9207</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331036100</espi:start>
               </espi:timePeriod>
               <espi:value>1534</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9059</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331037000</espi:start>
               </espi:timePeriod>
               <espi:value>1509</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9108</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331037900</espi:start>
               </espi:timePeriod>
               <espi:value>1518</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8677</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331038800</espi:start>
               </espi:timePeriod>
               <espi:value>1446</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9801</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331039700</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8177</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331040600</espi:start>
               </espi:timePeriod>
               <espi:value>1362</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9507</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331041500</espi:start>
               </espi:timePeriod>
               <espi:value>1584</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9234</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331042400</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8763</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331043300</espi:start>
               </espi:timePeriod>
               <espi:value>1460</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9848</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331044200</espi:start>
               </espi:timePeriod>
               <espi:value>1641</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9281</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331045100</espi:start>
               </espi:timePeriod>
               <espi:value>1546</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5218</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331046000</espi:start>
               </espi:timePeriod>
               <espi:value>869</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5418</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331046900</espi:start>
               </espi:timePeriod>
               <espi:value>903</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5941</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331047800</espi:start>
               </espi:timePeriod>
               <espi:value>990</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5288</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331048700</espi:start>
               </espi:timePeriod>
               <espi:value>881</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5795</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331049600</espi:start>
               </espi:timePeriod>
               <espi:value>965</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331050500</espi:start>
               </espi:timePeriod>
               <espi:value>974</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331051400</espi:start>
               </espi:timePeriod>
               <espi:value>832</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5233</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331052300</espi:start>
               </espi:timePeriod>
               <espi:value>872</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5137</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331053200</espi:start>
               </espi:timePeriod>
               <espi:value>856</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5115</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331054100</espi:start>
               </espi:timePeriod>
               <espi:value>852</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5767</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331055000</espi:start>
               </espi:timePeriod>
               <espi:value>961</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5253</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331055900</espi:start>
               </espi:timePeriod>
               <espi:value>875</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5942</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331056800</espi:start>
               </espi:timePeriod>
               <espi:value>990</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5816</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331057700</espi:start>
               </espi:timePeriod>
               <espi:value>969</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5466</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331058600</espi:start>
               </espi:timePeriod>
               <espi:value>911</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5372</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331059500</espi:start>
               </espi:timePeriod>
               <espi:value>895</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331060400</espi:start>
               </espi:timePeriod>
               <espi:value>823</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11169</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331061300</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10531</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331062200</espi:start>
               </espi:timePeriod>
               <espi:value>877</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11344</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331063100</espi:start>
               </espi:timePeriod>
               <espi:value>945</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15666</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331064000</espi:start>
               </espi:timePeriod>
               <espi:value>870</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17482</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331064900</espi:start>
               </espi:timePeriod>
               <espi:value>971</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17720</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331065800</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16062</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331066700</espi:start>
               </espi:timePeriod>
               <espi:value>892</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331067600</espi:start>
               </espi:timePeriod>
               <espi:value>997</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21933</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331068500</espi:start>
               </espi:timePeriod>
               <espi:value>913</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331069400</espi:start>
               </espi:timePeriod>
               <espi:value>957</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21371</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331070300</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37380</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331071200</espi:start>
               </espi:timePeriod>
               <espi:value>1246</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331072100</espi:start>
               </espi:timePeriod>
               <espi:value>1319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37272</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331073000</espi:start>
               </espi:timePeriod>
               <espi:value>1242</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38120</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331073900</espi:start>
               </espi:timePeriod>
               <espi:value>1270</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>41755</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331074800</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44350</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331075700</espi:start>
               </espi:timePeriod>
               <espi:value>1478</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>42736</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331076600</espi:start>
               </espi:timePeriod>
               <espi:value>1424</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46633</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331077500</espi:start>
               </espi:timePeriod>
               <espi:value>1554</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38838</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331078400</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33780</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331079300</espi:start>
               </espi:timePeriod>
               <espi:value>1407</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33568</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331080200</espi:start>
               </espi:timePeriod>
               <espi:value>1398</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36385</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331081100</espi:start>
               </espi:timePeriod>
               <espi:value>1516</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331082000</espi:start>
               </espi:timePeriod>
               <espi:value>1552</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29161</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331082900</espi:start>
               </espi:timePeriod>
               <espi:value>1620</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25152</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331083800</espi:start>
               </espi:timePeriod>
               <espi:value>1397</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26996</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331084700</espi:start>
               </espi:timePeriod>
               <espi:value>1499</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17222</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331085600</espi:start>
               </espi:timePeriod>
               <espi:value>1435</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19650</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331086500</espi:start>
               </espi:timePeriod>
               <espi:value>1637</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18180</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331087400</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19425</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331088300</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5584</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331089200</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5246</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331090100</espi:start>
               </espi:timePeriod>
               <espi:value>874</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5857</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331091000</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5165</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331091900</espi:start>
               </espi:timePeriod>
               <espi:value>860</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>851</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331092800</espi:start>
               </espi:timePeriod>
               <espi:value>283</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>934</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331093700</espi:start>
               </espi:timePeriod>
               <espi:value>311</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>825</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331094600</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>907</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331095500</espi:start>
               </espi:timePeriod>
               <espi:value>302</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-07T05:00:00Z</published>
      <updated>2012-03-07T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:e92db70e-9d88-4b25-9d87-0c0b466dfc80</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/7" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331096400</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>888</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331096400</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>880</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331097300</espi:start>
               </espi:timePeriod>
               <espi:value>293</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>862</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331098200</espi:start>
               </espi:timePeriod>
               <espi:value>287</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>853</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331099100</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331100000</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>858</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331100900</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>931</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331101800</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>865</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331102700</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>819</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331103600</espi:start>
               </espi:timePeriod>
               <espi:value>273</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>859</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331104500</espi:start>
               </espi:timePeriod>
               <espi:value>286</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>979</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331105400</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331106300</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>868</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331107200</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>902</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331108100</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>871</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331109000</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331109900</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>964</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331110800</espi:start>
               </espi:timePeriod>
               <espi:value>321</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>900</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331111700</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>971</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331112600</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>927</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331113500</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2844</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331114400</espi:start>
               </espi:timePeriod>
               <espi:value>948</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2806</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331115300</espi:start>
               </espi:timePeriod>
               <espi:value>935</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2852</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331116200</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2881</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331117100</espi:start>
               </espi:timePeriod>
               <espi:value>960</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9802</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331118000</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8551</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331118900</espi:start>
               </espi:timePeriod>
               <espi:value>1425</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8276</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331119800</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8380</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331120700</espi:start>
               </espi:timePeriod>
               <espi:value>1396</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8756</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331121600</espi:start>
               </espi:timePeriod>
               <espi:value>1459</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8170</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331122500</espi:start>
               </espi:timePeriod>
               <espi:value>1361</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9546</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331123400</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8266</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331124300</espi:start>
               </espi:timePeriod>
               <espi:value>1377</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9341</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331125200</espi:start>
               </espi:timePeriod>
               <espi:value>1556</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9761</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331126100</espi:start>
               </espi:timePeriod>
               <espi:value>1626</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9698</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331127000</espi:start>
               </espi:timePeriod>
               <espi:value>1616</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9814</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331127900</espi:start>
               </espi:timePeriod>
               <espi:value>1635</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8210</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331128800</espi:start>
               </espi:timePeriod>
               <espi:value>1368</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8517</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331129700</espi:start>
               </espi:timePeriod>
               <espi:value>1419</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9661</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331130600</espi:start>
               </espi:timePeriod>
               <espi:value>1610</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8989</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331131500</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5103</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331132400</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5506</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331133300</espi:start>
               </espi:timePeriod>
               <espi:value>917</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5360</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331134200</espi:start>
               </espi:timePeriod>
               <espi:value>893</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5805</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331135100</espi:start>
               </espi:timePeriod>
               <espi:value>967</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5745</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331136000</espi:start>
               </espi:timePeriod>
               <espi:value>957</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331136900</espi:start>
               </espi:timePeriod>
               <espi:value>973</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5477</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331137800</espi:start>
               </espi:timePeriod>
               <espi:value>912</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331138700</espi:start>
               </espi:timePeriod>
               <espi:value>941</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5901</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331139600</espi:start>
               </espi:timePeriod>
               <espi:value>983</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5492</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331140500</espi:start>
               </espi:timePeriod>
               <espi:value>915</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5339</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331141400</espi:start>
               </espi:timePeriod>
               <espi:value>889</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5514</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331142300</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331143200</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5006</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331144100</espi:start>
               </espi:timePeriod>
               <espi:value>834</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5031</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331145000</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5485</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331145900</espi:start>
               </espi:timePeriod>
               <espi:value>914</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331146800</espi:start>
               </espi:timePeriod>
               <espi:value>819</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11630</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331147700</espi:start>
               </espi:timePeriod>
               <espi:value>969</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10419</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331148600</espi:start>
               </espi:timePeriod>
               <espi:value>868</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10043</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331149500</espi:start>
               </espi:timePeriod>
               <espi:value>836</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15827</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331150400</espi:start>
               </espi:timePeriod>
               <espi:value>879</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17756</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331151300</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17885</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331152200</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15867</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331153100</espi:start>
               </espi:timePeriod>
               <espi:value>881</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23515</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331154000</espi:start>
               </espi:timePeriod>
               <espi:value>979</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22430</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331154900</espi:start>
               </espi:timePeriod>
               <espi:value>934</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23758</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331155800</espi:start>
               </espi:timePeriod>
               <espi:value>989</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20926</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331156700</espi:start>
               </espi:timePeriod>
               <espi:value>871</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37383</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331157600</espi:start>
               </espi:timePeriod>
               <espi:value>1246</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331158500</espi:start>
               </espi:timePeriod>
               <espi:value>1299</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33524</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331159400</espi:start>
               </espi:timePeriod>
               <espi:value>1117</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331160300</espi:start>
               </espi:timePeriod>
               <espi:value>1229</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47869</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331161200</espi:start>
               </espi:timePeriod>
               <espi:value>1595</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48802</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331162100</espi:start>
               </espi:timePeriod>
               <espi:value>1626</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>42610</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331163000</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>43593</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331163900</espi:start>
               </espi:timePeriod>
               <espi:value>1453</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331164800</espi:start>
               </espi:timePeriod>
               <espi:value>1659</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35210</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331165700</espi:start>
               </espi:timePeriod>
               <espi:value>1467</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37820</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331166600</espi:start>
               </espi:timePeriod>
               <espi:value>1575</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34271</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331167500</espi:start>
               </espi:timePeriod>
               <espi:value>1427</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25077</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331168400</espi:start>
               </espi:timePeriod>
               <espi:value>1393</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27964</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331169300</espi:start>
               </espi:timePeriod>
               <espi:value>1553</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25460</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331170200</espi:start>
               </espi:timePeriod>
               <espi:value>1414</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25042</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331171100</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19565</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331172000</espi:start>
               </espi:timePeriod>
               <espi:value>1630</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17316</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331172900</espi:start>
               </espi:timePeriod>
               <espi:value>1443</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18348</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331173800</espi:start>
               </espi:timePeriod>
               <espi:value>1529</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17668</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331174700</espi:start>
               </espi:timePeriod>
               <espi:value>1472</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5029</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331175600</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5702</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331176500</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5942</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331177400</espi:start>
               </espi:timePeriod>
               <espi:value>990</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4908</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331178300</espi:start>
               </espi:timePeriod>
               <espi:value>818</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>981</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331179200</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>904</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331180100</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>925</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331181000</espi:start>
               </espi:timePeriod>
               <espi:value>308</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>941</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331181900</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-08T05:00:00Z</published>
      <updated>2012-03-08T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:4ef81bb0-052b-4a32-b428-2318fbf77847</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/8" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331182800</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>872</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331182800</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>852</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331183700</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>996</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331184600</espi:start>
               </espi:timePeriod>
               <espi:value>332</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331185500</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>836</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331186400</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>870</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331187300</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331188200</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>986</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331189100</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>986</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331190000</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>949</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331190900</espi:start>
               </espi:timePeriod>
               <espi:value>316</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331191800</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331192700</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>920</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331193600</espi:start>
               </espi:timePeriod>
               <espi:value>306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>992</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331194500</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>952</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331195400</espi:start>
               </espi:timePeriod>
               <espi:value>317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331196300</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>912</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331197200</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>865</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331198100</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331199000</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>997</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331199900</espi:start>
               </espi:timePeriod>
               <espi:value>332</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2934</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331200800</espi:start>
               </espi:timePeriod>
               <espi:value>978</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2562</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331201700</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2967</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331202600</espi:start>
               </espi:timePeriod>
               <espi:value>989</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2757</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331203500</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331204400</espi:start>
               </espi:timePeriod>
               <espi:value>1474</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8948</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331205300</espi:start>
               </espi:timePeriod>
               <espi:value>1491</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9050</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331206200</espi:start>
               </espi:timePeriod>
               <espi:value>1508</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9229</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331207100</espi:start>
               </espi:timePeriod>
               <espi:value>1538</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9394</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331208000</espi:start>
               </espi:timePeriod>
               <espi:value>1565</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9398</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331208900</espi:start>
               </espi:timePeriod>
               <espi:value>1566</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9130</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331209800</espi:start>
               </espi:timePeriod>
               <espi:value>1521</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8773</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331210700</espi:start>
               </espi:timePeriod>
               <espi:value>1462</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8228</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331211600</espi:start>
               </espi:timePeriod>
               <espi:value>1371</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8252</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331212500</espi:start>
               </espi:timePeriod>
               <espi:value>1375</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8822</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331213400</espi:start>
               </espi:timePeriod>
               <espi:value>1470</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8699</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331214300</espi:start>
               </espi:timePeriod>
               <espi:value>1449</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8277</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331215200</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9078</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331216100</espi:start>
               </espi:timePeriod>
               <espi:value>1513</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9321</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331217000</espi:start>
               </espi:timePeriod>
               <espi:value>1553</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9607</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331217900</espi:start>
               </espi:timePeriod>
               <espi:value>1601</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5800</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331218800</espi:start>
               </espi:timePeriod>
               <espi:value>966</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5607</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331219700</espi:start>
               </espi:timePeriod>
               <espi:value>934</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5015</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331220600</espi:start>
               </espi:timePeriod>
               <espi:value>835</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5886</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331221500</espi:start>
               </espi:timePeriod>
               <espi:value>981</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5101</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331222400</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5713</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331223300</espi:start>
               </espi:timePeriod>
               <espi:value>952</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5504</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331224200</espi:start>
               </espi:timePeriod>
               <espi:value>917</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5531</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331225100</espi:start>
               </espi:timePeriod>
               <espi:value>921</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5274</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331226000</espi:start>
               </espi:timePeriod>
               <espi:value>879</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5958</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331226900</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4917</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331227800</espi:start>
               </espi:timePeriod>
               <espi:value>819</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331228700</espi:start>
               </espi:timePeriod>
               <espi:value>823</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5668</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331229600</espi:start>
               </espi:timePeriod>
               <espi:value>944</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5920</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331230500</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5134</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331231400</espi:start>
               </espi:timePeriod>
               <espi:value>855</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5344</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331232300</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11842</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331233200</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10789</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331234100</espi:start>
               </espi:timePeriod>
               <espi:value>899</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10405</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331235000</espi:start>
               </espi:timePeriod>
               <espi:value>867</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11167</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331235900</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15683</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331236800</espi:start>
               </espi:timePeriod>
               <espi:value>871</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16498</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331237700</espi:start>
               </espi:timePeriod>
               <espi:value>916</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16935</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331238600</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16568</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331239500</espi:start>
               </espi:timePeriod>
               <espi:value>920</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20599</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331240400</espi:start>
               </espi:timePeriod>
               <espi:value>858</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22804</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331241300</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21641</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331242200</espi:start>
               </espi:timePeriod>
               <espi:value>901</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21557</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331243100</espi:start>
               </espi:timePeriod>
               <espi:value>898</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33816</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331244000</espi:start>
               </espi:timePeriod>
               <espi:value>1127</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36416</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331244900</espi:start>
               </espi:timePeriod>
               <espi:value>1213</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37556</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331245800</espi:start>
               </espi:timePeriod>
               <espi:value>1251</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35879</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331246700</espi:start>
               </espi:timePeriod>
               <espi:value>1195</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46298</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331247600</espi:start>
               </espi:timePeriod>
               <espi:value>1543</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>42302</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331248500</espi:start>
               </espi:timePeriod>
               <espi:value>1410</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>41335</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331249400</espi:start>
               </espi:timePeriod>
               <espi:value>1377</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46266</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331250300</espi:start>
               </espi:timePeriod>
               <espi:value>1542</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36177</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331251200</espi:start>
               </espi:timePeriod>
               <espi:value>1507</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331252100</espi:start>
               </espi:timePeriod>
               <espi:value>1578</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>32906</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331253000</espi:start>
               </espi:timePeriod>
               <espi:value>1371</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39704</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331253900</espi:start>
               </espi:timePeriod>
               <espi:value>1654</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28357</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331254800</espi:start>
               </espi:timePeriod>
               <espi:value>1575</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26019</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331255700</espi:start>
               </espi:timePeriod>
               <espi:value>1445</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>29371</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331256600</espi:start>
               </espi:timePeriod>
               <espi:value>1631</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24517</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331257500</espi:start>
               </espi:timePeriod>
               <espi:value>1362</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16328</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331258400</espi:start>
               </espi:timePeriod>
               <espi:value>1360</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18124</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331259300</espi:start>
               </espi:timePeriod>
               <espi:value>1510</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17248</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331260200</espi:start>
               </espi:timePeriod>
               <espi:value>1437</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331261100</espi:start>
               </espi:timePeriod>
               <espi:value>1416</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5949</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331262000</espi:start>
               </espi:timePeriod>
               <espi:value>991</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5268</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331262900</espi:start>
               </espi:timePeriod>
               <espi:value>878</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5702</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331263800</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5897</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331264700</espi:start>
               </espi:timePeriod>
               <espi:value>982</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>896</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331265600</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>840</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331266500</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331267400</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331268300</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-09T05:00:00Z</published>
      <updated>2012-03-09T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:e12148f9-6c29-4972-b157-2edb7616c84f</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/9" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331269200</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>826</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331269200</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331270100</espi:start>
               </espi:timePeriod>
               <espi:value>320</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>947</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331271000</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331271900</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>827</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331272800</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331273700</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>896</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331274600</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331275500</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331276400</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>961</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331277300</espi:start>
               </espi:timePeriod>
               <espi:value>320</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>975</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331278200</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>984</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331279100</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331280000</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331280900</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>832</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331281800</espi:start>
               </espi:timePeriod>
               <espi:value>277</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>975</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331282700</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>957</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331283600</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>947</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331284500</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331285400</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331286300</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2679</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331287200</espi:start>
               </espi:timePeriod>
               <espi:value>893</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2943</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331288100</espi:start>
               </espi:timePeriod>
               <espi:value>981</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2977</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331289000</espi:start>
               </espi:timePeriod>
               <espi:value>992</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2539</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331289900</espi:start>
               </espi:timePeriod>
               <espi:value>846</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9273</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331290800</espi:start>
               </espi:timePeriod>
               <espi:value>1545</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9280</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331291700</espi:start>
               </espi:timePeriod>
               <espi:value>1546</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8659</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331292600</espi:start>
               </espi:timePeriod>
               <espi:value>1443</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8585</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331293500</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9522</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331294400</espi:start>
               </espi:timePeriod>
               <espi:value>1587</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331295300</espi:start>
               </espi:timePeriod>
               <espi:value>1497</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8662</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331296200</espi:start>
               </espi:timePeriod>
               <espi:value>1443</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331297100</espi:start>
               </espi:timePeriod>
               <espi:value>1648</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9360</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331298000</espi:start>
               </espi:timePeriod>
               <espi:value>1560</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9527</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331298900</espi:start>
               </espi:timePeriod>
               <espi:value>1587</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9118</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331299800</espi:start>
               </espi:timePeriod>
               <espi:value>1519</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331300700</espi:start>
               </espi:timePeriod>
               <espi:value>1660</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8925</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331301600</espi:start>
               </espi:timePeriod>
               <espi:value>1487</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8348</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331302500</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9680</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331303400</espi:start>
               </espi:timePeriod>
               <espi:value>1613</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8583</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331304300</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5371</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331305200</espi:start>
               </espi:timePeriod>
               <espi:value>895</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5005</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331306100</espi:start>
               </espi:timePeriod>
               <espi:value>834</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331307000</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5632</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331307900</espi:start>
               </espi:timePeriod>
               <espi:value>938</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5731</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331308800</espi:start>
               </espi:timePeriod>
               <espi:value>955</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5297</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331309700</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5585</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331310600</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5525</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331311500</espi:start>
               </espi:timePeriod>
               <espi:value>920</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5673</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331312400</espi:start>
               </espi:timePeriod>
               <espi:value>945</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5798</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331313300</espi:start>
               </espi:timePeriod>
               <espi:value>966</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5557</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331314200</espi:start>
               </espi:timePeriod>
               <espi:value>926</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5808</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331315100</espi:start>
               </espi:timePeriod>
               <espi:value>968</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5587</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331316000</espi:start>
               </espi:timePeriod>
               <espi:value>931</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5125</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331316900</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5196</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331317800</espi:start>
               </espi:timePeriod>
               <espi:value>866</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5596</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331318700</espi:start>
               </espi:timePeriod>
               <espi:value>932</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9869</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331319600</espi:start>
               </espi:timePeriod>
               <espi:value>822</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11570</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331320500</espi:start>
               </espi:timePeriod>
               <espi:value>964</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10422</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331321400</espi:start>
               </espi:timePeriod>
               <espi:value>868</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10568</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331322300</espi:start>
               </espi:timePeriod>
               <espi:value>880</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17580</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331323200</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16462</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331324100</espi:start>
               </espi:timePeriod>
               <espi:value>914</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16400</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331325000</espi:start>
               </espi:timePeriod>
               <espi:value>911</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16840</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331325900</espi:start>
               </espi:timePeriod>
               <espi:value>935</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20489</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331326800</espi:start>
               </espi:timePeriod>
               <espi:value>853</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20200</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331327700</espi:start>
               </espi:timePeriod>
               <espi:value>841</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20842</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331328600</espi:start>
               </espi:timePeriod>
               <espi:value>868</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331329500</espi:start>
               </espi:timePeriod>
               <espi:value>986</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39149</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331330400</espi:start>
               </espi:timePeriod>
               <espi:value>1304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37971</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331331300</espi:start>
               </espi:timePeriod>
               <espi:value>1265</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38261</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331332200</espi:start>
               </espi:timePeriod>
               <espi:value>1275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39419</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331333100</espi:start>
               </espi:timePeriod>
               <espi:value>1313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48095</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331334000</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46103</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331334900</espi:start>
               </espi:timePeriod>
               <espi:value>1536</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47696</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331335800</espi:start>
               </espi:timePeriod>
               <espi:value>1589</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46436</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331336700</espi:start>
               </espi:timePeriod>
               <espi:value>1547</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16546</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331337600</espi:start>
               </espi:timePeriod>
               <espi:value>1378</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16704</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331338500</espi:start>
               </espi:timePeriod>
               <espi:value>1392</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18368</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331339400</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17614</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331340300</espi:start>
               </espi:timePeriod>
               <espi:value>1467</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14044</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331341200</espi:start>
               </espi:timePeriod>
               <espi:value>1560</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12598</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331342100</espi:start>
               </espi:timePeriod>
               <espi:value>1399</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12917</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331343000</espi:start>
               </espi:timePeriod>
               <espi:value>1435</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12967</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331343900</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8685</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331344800</espi:start>
               </espi:timePeriod>
               <espi:value>1447</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331345700</espi:start>
               </espi:timePeriod>
               <espi:value>1490</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8291</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331346600</espi:start>
               </espi:timePeriod>
               <espi:value>1381</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9776</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331347500</espi:start>
               </espi:timePeriod>
               <espi:value>1629</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4432</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331348400</espi:start>
               </espi:timePeriod>
               <espi:value>1477</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4506</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331349300</espi:start>
               </espi:timePeriod>
               <espi:value>1502</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4253</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331350200</espi:start>
               </espi:timePeriod>
               <espi:value>1417</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4142</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331351100</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2721</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331352000</espi:start>
               </espi:timePeriod>
               <espi:value>907</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2684</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331352900</espi:start>
               </espi:timePeriod>
               <espi:value>894</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2783</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331353800</espi:start>
               </espi:timePeriod>
               <espi:value>927</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2492</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331354700</espi:start>
               </espi:timePeriod>
               <espi:value>830</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-10T05:00:00Z</published>
      <updated>2012-03-10T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:312b86f5-60a6-435a-aa83-25ce1b2c4a86</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/10" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331355600</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>970</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331355600</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>905</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331356500</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>890</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331357400</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>824</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331358300</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>842</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331359200</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>870</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331360100</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>844</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331361000</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331361900</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331362800</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331363700</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>930</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331364600</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331365500</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>936</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331366400</espi:start>
               </espi:timePeriod>
               <espi:value>312</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331367300</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331368200</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>905</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331369100</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>958</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331370000</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331370900</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>989</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331371800</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>951</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331372700</espi:start>
               </espi:timePeriod>
               <espi:value>317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2471</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331373600</espi:start>
               </espi:timePeriod>
               <espi:value>823</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2774</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331374500</espi:start>
               </espi:timePeriod>
               <espi:value>924</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2593</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331375400</espi:start>
               </espi:timePeriod>
               <espi:value>864</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2552</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331376300</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9665</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331377200</espi:start>
               </espi:timePeriod>
               <espi:value>1610</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8357</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331378100</espi:start>
               </espi:timePeriod>
               <espi:value>1392</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8860</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331379000</espi:start>
               </espi:timePeriod>
               <espi:value>1476</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8432</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331379900</espi:start>
               </espi:timePeriod>
               <espi:value>1405</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8631</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331380800</espi:start>
               </espi:timePeriod>
               <espi:value>1438</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8451</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331381700</espi:start>
               </espi:timePeriod>
               <espi:value>1408</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331382600</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9071</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331383500</espi:start>
               </espi:timePeriod>
               <espi:value>1511</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9509</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331384400</espi:start>
               </espi:timePeriod>
               <espi:value>1584</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8767</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331385300</espi:start>
               </espi:timePeriod>
               <espi:value>1461</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8717</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331386200</espi:start>
               </espi:timePeriod>
               <espi:value>1452</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8326</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331387100</espi:start>
               </espi:timePeriod>
               <espi:value>1387</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9645</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331388000</espi:start>
               </espi:timePeriod>
               <espi:value>1607</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9671</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331388900</espi:start>
               </espi:timePeriod>
               <espi:value>1611</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9774</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331389800</espi:start>
               </espi:timePeriod>
               <espi:value>1629</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8808</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331390700</espi:start>
               </espi:timePeriod>
               <espi:value>1468</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8570</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331391600</espi:start>
               </espi:timePeriod>
               <espi:value>1428</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8605</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331392500</espi:start>
               </espi:timePeriod>
               <espi:value>1434</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8162</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331393400</espi:start>
               </espi:timePeriod>
               <espi:value>1360</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8578</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331394300</espi:start>
               </espi:timePeriod>
               <espi:value>1429</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8593</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331395200</espi:start>
               </espi:timePeriod>
               <espi:value>1432</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9183</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331396100</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8568</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331397000</espi:start>
               </espi:timePeriod>
               <espi:value>1428</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331397900</espi:start>
               </espi:timePeriod>
               <espi:value>1441</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8596</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331398800</espi:start>
               </espi:timePeriod>
               <espi:value>1432</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331399700</espi:start>
               </espi:timePeriod>
               <espi:value>1496</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8411</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331400600</espi:start>
               </espi:timePeriod>
               <espi:value>1401</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8261</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331401500</espi:start>
               </espi:timePeriod>
               <espi:value>1376</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9163</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331402400</espi:start>
               </espi:timePeriod>
               <espi:value>1527</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9524</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331403300</espi:start>
               </espi:timePeriod>
               <espi:value>1587</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9549</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331404200</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9664</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331405100</espi:start>
               </espi:timePeriod>
               <espi:value>1610</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13643</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331406000</espi:start>
               </espi:timePeriod>
               <espi:value>1515</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12960</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331406900</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13002</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331407800</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13284</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331408700</espi:start>
               </espi:timePeriod>
               <espi:value>1476</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19262</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331409600</espi:start>
               </espi:timePeriod>
               <espi:value>1605</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19041</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331410500</espi:start>
               </espi:timePeriod>
               <espi:value>1586</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19790</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331411400</espi:start>
               </espi:timePeriod>
               <espi:value>1649</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17062</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331412300</espi:start>
               </espi:timePeriod>
               <espi:value>1421</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20610</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331413200</espi:start>
               </espi:timePeriod>
               <espi:value>1374</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21318</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331414100</espi:start>
               </espi:timePeriod>
               <espi:value>1421</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22111</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331415000</espi:start>
               </espi:timePeriod>
               <espi:value>1474</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24300</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331415900</espi:start>
               </espi:timePeriod>
               <espi:value>1620</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23021</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331416800</espi:start>
               </espi:timePeriod>
               <espi:value>1534</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22044</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331417700</espi:start>
               </espi:timePeriod>
               <espi:value>1469</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24398</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331418600</espi:start>
               </espi:timePeriod>
               <espi:value>1626</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23313</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331419500</espi:start>
               </espi:timePeriod>
               <espi:value>1554</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23087</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331420400</espi:start>
               </espi:timePeriod>
               <espi:value>1539</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22593</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331421300</espi:start>
               </espi:timePeriod>
               <espi:value>1506</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21636</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331422200</espi:start>
               </espi:timePeriod>
               <espi:value>1442</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22476</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331423100</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17894</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331424000</espi:start>
               </espi:timePeriod>
               <espi:value>1491</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331424900</espi:start>
               </espi:timePeriod>
               <espi:value>1465</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19100</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331425800</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331426700</espi:start>
               </espi:timePeriod>
               <espi:value>1652</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12732</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331427600</espi:start>
               </espi:timePeriod>
               <espi:value>1414</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13683</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331428500</espi:start>
               </espi:timePeriod>
               <espi:value>1520</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12781</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331429400</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14900</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331430300</espi:start>
               </espi:timePeriod>
               <espi:value>1655</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9022</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331431200</espi:start>
               </espi:timePeriod>
               <espi:value>1503</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9823</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331432100</espi:start>
               </espi:timePeriod>
               <espi:value>1637</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9024</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331433000</espi:start>
               </espi:timePeriod>
               <espi:value>1504</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8309</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331433900</espi:start>
               </espi:timePeriod>
               <espi:value>1384</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4625</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331434800</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4505</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331435700</espi:start>
               </espi:timePeriod>
               <espi:value>1501</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4333</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331436600</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4578</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331437500</espi:start>
               </espi:timePeriod>
               <espi:value>1526</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331438400</espi:start>
               </espi:timePeriod>
               <espi:value>963</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2576</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331439300</espi:start>
               </espi:timePeriod>
               <espi:value>858</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2457</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331440200</espi:start>
               </espi:timePeriod>
               <espi:value>819</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2702</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331441100</espi:start>
               </espi:timePeriod>
               <espi:value>900</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-11T05:00:00Z</published>
      <updated>2012-03-11T05:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:339efcc4-ba4d-49d5-8e1b-734961e74e5e</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/11" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>82800</espi:duration>
               <espi:start>1331442000</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>981</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331442000</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331442900</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>821</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331443800</espi:start>
               </espi:timePeriod>
               <espi:value>273</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>839</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331444700</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331445600</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>982</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331446500</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>822</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331447400</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331448300</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>986</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331449200</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>822</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331450100</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>970</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331451000</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>817</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331451900</espi:start>
               </espi:timePeriod>
               <espi:value>272</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>980</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331452800</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331453700</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>874</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331454600</espi:start>
               </espi:timePeriod>
               <espi:value>291</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331455500</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>954</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331456400</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>984</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331457300</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331458200</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>869</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331459100</espi:start>
               </espi:timePeriod>
               <espi:value>289</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2701</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331460000</espi:start>
               </espi:timePeriod>
               <espi:value>900</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2516</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331460900</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2613</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331461800</espi:start>
               </espi:timePeriod>
               <espi:value>871</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2574</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331462700</espi:start>
               </espi:timePeriod>
               <espi:value>858</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8605</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331463600</espi:start>
               </espi:timePeriod>
               <espi:value>1434</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8616</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331464500</espi:start>
               </espi:timePeriod>
               <espi:value>1436</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9596</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331465400</espi:start>
               </espi:timePeriod>
               <espi:value>1599</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8941</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331466300</espi:start>
               </espi:timePeriod>
               <espi:value>1490</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9837</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331467200</espi:start>
               </espi:timePeriod>
               <espi:value>1639</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9335</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331468100</espi:start>
               </espi:timePeriod>
               <espi:value>1555</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9154</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331469000</espi:start>
               </espi:timePeriod>
               <espi:value>1525</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9202</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331469900</espi:start>
               </espi:timePeriod>
               <espi:value>1533</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9069</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331470800</espi:start>
               </espi:timePeriod>
               <espi:value>1511</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8409</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331471700</espi:start>
               </espi:timePeriod>
               <espi:value>1401</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9376</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331472600</espi:start>
               </espi:timePeriod>
               <espi:value>1562</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9407</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331473500</espi:start>
               </espi:timePeriod>
               <espi:value>1567</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9926</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331474400</espi:start>
               </espi:timePeriod>
               <espi:value>1654</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9136</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331475300</espi:start>
               </espi:timePeriod>
               <espi:value>1522</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8639</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331476200</espi:start>
               </espi:timePeriod>
               <espi:value>1439</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9546</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331477100</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8918</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331478000</espi:start>
               </espi:timePeriod>
               <espi:value>1486</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8945</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331478900</espi:start>
               </espi:timePeriod>
               <espi:value>1490</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8428</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331479800</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9364</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331480700</espi:start>
               </espi:timePeriod>
               <espi:value>1560</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8739</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331481600</espi:start>
               </espi:timePeriod>
               <espi:value>1456</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8487</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331482500</espi:start>
               </espi:timePeriod>
               <espi:value>1414</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9617</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331483400</espi:start>
               </espi:timePeriod>
               <espi:value>1602</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8615</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331484300</espi:start>
               </espi:timePeriod>
               <espi:value>1435</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8425</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331485200</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8496</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331486100</espi:start>
               </espi:timePeriod>
               <espi:value>1416</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9216</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331487000</espi:start>
               </espi:timePeriod>
               <espi:value>1536</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9584</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331487900</espi:start>
               </espi:timePeriod>
               <espi:value>1597</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8490</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331488800</espi:start>
               </espi:timePeriod>
               <espi:value>1415</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8905</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331489700</espi:start>
               </espi:timePeriod>
               <espi:value>1484</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8443</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331490600</espi:start>
               </espi:timePeriod>
               <espi:value>1407</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9181</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331491500</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>13876</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331492400</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12636</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331493300</espi:start>
               </espi:timePeriod>
               <espi:value>1404</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>12843</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331494200</espi:start>
               </espi:timePeriod>
               <espi:value>1427</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14434</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331495100</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19219</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331496000</espi:start>
               </espi:timePeriod>
               <espi:value>1601</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16388</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331496900</espi:start>
               </espi:timePeriod>
               <espi:value>1365</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17965</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331497800</espi:start>
               </espi:timePeriod>
               <espi:value>1497</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19243</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331498700</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24784</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331499600</espi:start>
               </espi:timePeriod>
               <espi:value>1652</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21610</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331500500</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23601</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331501400</espi:start>
               </espi:timePeriod>
               <espi:value>1573</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21804</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331502300</espi:start>
               </espi:timePeriod>
               <espi:value>1453</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>24585</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331503200</espi:start>
               </espi:timePeriod>
               <espi:value>1639</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21522</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331504100</espi:start>
               </espi:timePeriod>
               <espi:value>1434</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22521</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331505000</espi:start>
               </espi:timePeriod>
               <espi:value>1501</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21144</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331505900</espi:start>
               </espi:timePeriod>
               <espi:value>1409</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21261</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331506800</espi:start>
               </espi:timePeriod>
               <espi:value>1417</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21335</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331507700</espi:start>
               </espi:timePeriod>
               <espi:value>1422</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331508600</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21332</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331509500</espi:start>
               </espi:timePeriod>
               <espi:value>1422</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331510400</espi:start>
               </espi:timePeriod>
               <espi:value>1457</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34759</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331511300</espi:start>
               </espi:timePeriod>
               <espi:value>1448</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33449</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331512200</espi:start>
               </espi:timePeriod>
               <espi:value>1393</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35540</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331513100</espi:start>
               </espi:timePeriod>
               <espi:value>1480</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27111</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331514000</espi:start>
               </espi:timePeriod>
               <espi:value>1506</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28959</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331514900</espi:start>
               </espi:timePeriod>
               <espi:value>1608</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28384</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331515800</espi:start>
               </espi:timePeriod>
               <espi:value>1576</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25748</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331516700</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17331</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331517600</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19229</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331518500</espi:start>
               </espi:timePeriod>
               <espi:value>1602</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19721</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331519400</espi:start>
               </espi:timePeriod>
               <espi:value>1643</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17600</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331520300</espi:start>
               </espi:timePeriod>
               <espi:value>1466</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5796</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331521200</espi:start>
               </espi:timePeriod>
               <espi:value>966</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5637</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331522100</espi:start>
               </espi:timePeriod>
               <espi:value>939</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5958</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331523000</espi:start>
               </espi:timePeriod>
               <espi:value>993</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5395</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331523900</espi:start>
               </espi:timePeriod>
               <espi:value>899</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-12T04:00:00Z</published>
      <updated>2012-03-12T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:d517cdba-0245-4e70-ae09-d57a4d129639</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/12" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331524800</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>833</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331524800</espi:start>
               </espi:timePeriod>
               <espi:value>277</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331525700</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>932</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331526600</espi:start>
               </espi:timePeriod>
               <espi:value>310</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>896</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331527500</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>900</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331528400</espi:start>
               </espi:timePeriod>
               <espi:value>300</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>915</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331529300</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>914</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331530200</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>957</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331531100</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331532000</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331532900</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>916</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331533800</espi:start>
               </espi:timePeriod>
               <espi:value>305</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>845</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331534700</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>890</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331535600</espi:start>
               </espi:timePeriod>
               <espi:value>296</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>976</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331536500</espi:start>
               </espi:timePeriod>
               <espi:value>325</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>908</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331537400</espi:start>
               </espi:timePeriod>
               <espi:value>302</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331538300</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>919</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331539200</espi:start>
               </espi:timePeriod>
               <espi:value>306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>980</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331540100</espi:start>
               </espi:timePeriod>
               <espi:value>326</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>843</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331541000</espi:start>
               </espi:timePeriod>
               <espi:value>281</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>923</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331541900</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>985</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331542800</espi:start>
               </espi:timePeriod>
               <espi:value>328</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331543700</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>880</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331544600</espi:start>
               </espi:timePeriod>
               <espi:value>293</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>891</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331545500</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2672</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331546400</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2628</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331547300</espi:start>
               </espi:timePeriod>
               <espi:value>876</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2750</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331548200</espi:start>
               </espi:timePeriod>
               <espi:value>916</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2929</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331549100</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8303</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331550000</espi:start>
               </espi:timePeriod>
               <espi:value>1383</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8867</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331550900</espi:start>
               </espi:timePeriod>
               <espi:value>1477</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8997</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331551800</espi:start>
               </espi:timePeriod>
               <espi:value>1499</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8467</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331552700</espi:start>
               </espi:timePeriod>
               <espi:value>1411</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9003</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331553600</espi:start>
               </espi:timePeriod>
               <espi:value>1500</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9538</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331554500</espi:start>
               </espi:timePeriod>
               <espi:value>1589</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8187</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331555400</espi:start>
               </espi:timePeriod>
               <espi:value>1364</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9548</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331556300</espi:start>
               </espi:timePeriod>
               <espi:value>1591</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8439</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331557200</espi:start>
               </espi:timePeriod>
               <espi:value>1406</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9077</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331558100</espi:start>
               </espi:timePeriod>
               <espi:value>1512</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9223</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331559000</espi:start>
               </espi:timePeriod>
               <espi:value>1537</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9747</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331559900</espi:start>
               </espi:timePeriod>
               <espi:value>1624</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9258</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331560800</espi:start>
               </espi:timePeriod>
               <espi:value>1543</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8275</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331561700</espi:start>
               </espi:timePeriod>
               <espi:value>1379</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8939</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331562600</espi:start>
               </espi:timePeriod>
               <espi:value>1489</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8245</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331563500</espi:start>
               </espi:timePeriod>
               <espi:value>1374</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5148</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331564400</espi:start>
               </espi:timePeriod>
               <espi:value>858</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4903</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331565300</espi:start>
               </espi:timePeriod>
               <espi:value>817</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5316</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331566200</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331567100</espi:start>
               </espi:timePeriod>
               <espi:value>828</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5688</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331568000</espi:start>
               </espi:timePeriod>
               <espi:value>948</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4963</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331568900</espi:start>
               </espi:timePeriod>
               <espi:value>827</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5807</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331569800</espi:start>
               </espi:timePeriod>
               <espi:value>967</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5022</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331570700</espi:start>
               </espi:timePeriod>
               <espi:value>837</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5603</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331571600</espi:start>
               </espi:timePeriod>
               <espi:value>933</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5305</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331572500</espi:start>
               </espi:timePeriod>
               <espi:value>884</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331573400</espi:start>
               </espi:timePeriod>
               <espi:value>980</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5028</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331574300</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5158</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331575200</espi:start>
               </espi:timePeriod>
               <espi:value>859</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4928</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331576100</espi:start>
               </espi:timePeriod>
               <espi:value>821</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331577000</espi:start>
               </espi:timePeriod>
               <espi:value>982</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5373</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331577900</espi:start>
               </espi:timePeriod>
               <espi:value>895</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10906</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331578800</espi:start>
               </espi:timePeriod>
               <espi:value>908</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11539</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331579700</espi:start>
               </espi:timePeriod>
               <espi:value>961</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9974</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331580600</espi:start>
               </espi:timePeriod>
               <espi:value>831</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11356</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331581500</espi:start>
               </espi:timePeriod>
               <espi:value>946</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16544</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331582400</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15318</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331583300</espi:start>
               </espi:timePeriod>
               <espi:value>851</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16267</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331584200</espi:start>
               </espi:timePeriod>
               <espi:value>903</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14874</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331585100</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20405</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331586000</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22535</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331586900</espi:start>
               </espi:timePeriod>
               <espi:value>938</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20646</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331587800</espi:start>
               </espi:timePeriod>
               <espi:value>860</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21244</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331588700</espi:start>
               </espi:timePeriod>
               <espi:value>885</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37364</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331589600</espi:start>
               </espi:timePeriod>
               <espi:value>1245</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34330</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331590500</espi:start>
               </espi:timePeriod>
               <espi:value>1144</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>32649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331591400</espi:start>
               </espi:timePeriod>
               <espi:value>1088</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33317</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331592300</espi:start>
               </espi:timePeriod>
               <espi:value>1110</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48186</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331593200</espi:start>
               </espi:timePeriod>
               <espi:value>1606</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>41669</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331594100</espi:start>
               </espi:timePeriod>
               <espi:value>1388</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>46282</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331595000</espi:start>
               </espi:timePeriod>
               <espi:value>1542</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>49491</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331595900</espi:start>
               </espi:timePeriod>
               <espi:value>1649</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>35862</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331596800</espi:start>
               </espi:timePeriod>
               <espi:value>1494</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38317</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331597700</espi:start>
               </espi:timePeriod>
               <espi:value>1596</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33133</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331598600</espi:start>
               </espi:timePeriod>
               <espi:value>1380</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34434</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331599500</espi:start>
               </espi:timePeriod>
               <espi:value>1434</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28782</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331600400</espi:start>
               </espi:timePeriod>
               <espi:value>1599</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26403</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331601300</espi:start>
               </espi:timePeriod>
               <espi:value>1466</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28688</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331602200</espi:start>
               </espi:timePeriod>
               <espi:value>1593</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25165</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331603100</espi:start>
               </espi:timePeriod>
               <espi:value>1398</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17838</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331604000</espi:start>
               </espi:timePeriod>
               <espi:value>1486</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19686</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331604900</espi:start>
               </espi:timePeriod>
               <espi:value>1640</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19673</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331605800</espi:start>
               </espi:timePeriod>
               <espi:value>1639</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17396</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331606700</espi:start>
               </espi:timePeriod>
               <espi:value>1449</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5204</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331607600</espi:start>
               </espi:timePeriod>
               <espi:value>867</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5387</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331608500</espi:start>
               </espi:timePeriod>
               <espi:value>897</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5167</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331609400</espi:start>
               </espi:timePeriod>
               <espi:value>861</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5862</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331610300</espi:start>
               </espi:timePeriod>
               <espi:value>977</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-13T04:00:00Z</published>
      <updated>2012-03-13T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:af977275-b88a-4889-a3f6-7f026ee6b1d9</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/13" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331611200</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>827</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331611200</espi:start>
               </espi:timePeriod>
               <espi:value>275</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>944</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331612100</espi:start>
               </espi:timePeriod>
               <espi:value>314</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>988</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331613000</espi:start>
               </espi:timePeriod>
               <espi:value>329</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>924</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331613900</espi:start>
               </espi:timePeriod>
               <espi:value>308</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>947</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331614800</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>923</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331615700</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>983</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331616600</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>830</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331617500</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>883</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331618400</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>928</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331619300</espi:start>
               </espi:timePeriod>
               <espi:value>309</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331620200</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331621100</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>872</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331622000</espi:start>
               </espi:timePeriod>
               <espi:value>290</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331622900</espi:start>
               </espi:timePeriod>
               <espi:value>313</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>919</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331623800</espi:start>
               </espi:timePeriod>
               <espi:value>306</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>971</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331624700</espi:start>
               </espi:timePeriod>
               <espi:value>323</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>884</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331625600</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>834</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331626500</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>952</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331627400</espi:start>
               </espi:timePeriod>
               <espi:value>317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>864</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331628300</espi:start>
               </espi:timePeriod>
               <espi:value>288</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>908</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331629200</espi:start>
               </espi:timePeriod>
               <espi:value>302</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>968</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331630100</espi:start>
               </espi:timePeriod>
               <espi:value>322</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>881</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331631000</espi:start>
               </espi:timePeriod>
               <espi:value>293</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>854</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331631900</espi:start>
               </espi:timePeriod>
               <espi:value>284</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2775</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331632800</espi:start>
               </espi:timePeriod>
               <espi:value>925</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2479</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331633700</espi:start>
               </espi:timePeriod>
               <espi:value>826</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2713</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331634600</espi:start>
               </espi:timePeriod>
               <espi:value>904</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2850</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331635500</espi:start>
               </espi:timePeriod>
               <espi:value>950</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9156</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331636400</espi:start>
               </espi:timePeriod>
               <espi:value>1526</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9732</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331637300</espi:start>
               </espi:timePeriod>
               <espi:value>1622</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8820</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331638200</espi:start>
               </espi:timePeriod>
               <espi:value>1470</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8993</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331639100</espi:start>
               </espi:timePeriod>
               <espi:value>1498</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9246</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331640000</espi:start>
               </espi:timePeriod>
               <espi:value>1541</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8776</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331640900</espi:start>
               </espi:timePeriod>
               <espi:value>1462</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8755</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331641800</espi:start>
               </espi:timePeriod>
               <espi:value>1459</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9372</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331642700</espi:start>
               </espi:timePeriod>
               <espi:value>1562</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9829</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331643600</espi:start>
               </espi:timePeriod>
               <espi:value>1638</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331644500</espi:start>
               </espi:timePeriod>
               <espi:value>1596</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8204</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331645400</espi:start>
               </espi:timePeriod>
               <espi:value>1367</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9515</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331646300</espi:start>
               </espi:timePeriod>
               <espi:value>1585</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8944</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331647200</espi:start>
               </espi:timePeriod>
               <espi:value>1490</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8616</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331648100</espi:start>
               </espi:timePeriod>
               <espi:value>1436</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9711</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331649000</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9611</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331649900</espi:start>
               </espi:timePeriod>
               <espi:value>1601</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5859</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331650800</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5232</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331651700</espi:start>
               </espi:timePeriod>
               <espi:value>872</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5642</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331652600</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5490</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331653500</espi:start>
               </espi:timePeriod>
               <espi:value>915</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5096</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331654400</espi:start>
               </espi:timePeriod>
               <espi:value>849</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4952</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331655300</espi:start>
               </espi:timePeriod>
               <espi:value>825</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5761</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331656200</espi:start>
               </espi:timePeriod>
               <espi:value>960</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5396</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331657100</espi:start>
               </espi:timePeriod>
               <espi:value>899</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5951</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331658000</espi:start>
               </espi:timePeriod>
               <espi:value>991</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5295</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331658900</espi:start>
               </espi:timePeriod>
               <espi:value>882</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4984</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331659800</espi:start>
               </espi:timePeriod>
               <espi:value>830</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5069</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331660700</espi:start>
               </espi:timePeriod>
               <espi:value>844</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5383</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331661600</espi:start>
               </espi:timePeriod>
               <espi:value>897</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5387</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331662500</espi:start>
               </espi:timePeriod>
               <espi:value>897</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5454</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331663400</espi:start>
               </espi:timePeriod>
               <espi:value>909</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4950</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331664300</espi:start>
               </espi:timePeriod>
               <espi:value>825</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10805</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331665200</espi:start>
               </espi:timePeriod>
               <espi:value>900</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11055</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331666100</espi:start>
               </espi:timePeriod>
               <espi:value>921</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11608</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331667000</espi:start>
               </espi:timePeriod>
               <espi:value>967</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10257</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331667900</espi:start>
               </espi:timePeriod>
               <espi:value>854</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17424</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331668800</espi:start>
               </espi:timePeriod>
               <espi:value>968</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15068</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331669700</espi:start>
               </espi:timePeriod>
               <espi:value>837</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16373</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331670600</espi:start>
               </espi:timePeriod>
               <espi:value>909</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16488</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331671500</espi:start>
               </espi:timePeriod>
               <espi:value>916</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23632</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331672400</espi:start>
               </espi:timePeriod>
               <espi:value>984</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22978</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331673300</espi:start>
               </espi:timePeriod>
               <espi:value>957</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23762</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331674200</espi:start>
               </espi:timePeriod>
               <espi:value>990</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>20320</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331675100</espi:start>
               </espi:timePeriod>
               <espi:value>846</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36130</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331676000</espi:start>
               </espi:timePeriod>
               <espi:value>1204</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33824</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331676900</espi:start>
               </espi:timePeriod>
               <espi:value>1127</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39538</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331677800</espi:start>
               </espi:timePeriod>
               <espi:value>1317</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>32812</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331678700</espi:start>
               </espi:timePeriod>
               <espi:value>1093</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47017</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331679600</espi:start>
               </espi:timePeriod>
               <espi:value>1567</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>45302</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331680500</espi:start>
               </espi:timePeriod>
               <espi:value>1510</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>44079</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331681400</espi:start>
               </espi:timePeriod>
               <espi:value>1469</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48146</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331682300</espi:start>
               </espi:timePeriod>
               <espi:value>1604</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36411</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331683200</espi:start>
               </espi:timePeriod>
               <espi:value>1517</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37449</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331684100</espi:start>
               </espi:timePeriod>
               <espi:value>1560</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33399</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331685000</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33393</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331685900</espi:start>
               </espi:timePeriod>
               <espi:value>1391</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26224</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331686800</espi:start>
               </espi:timePeriod>
               <espi:value>1456</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27010</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331687700</espi:start>
               </espi:timePeriod>
               <espi:value>1500</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26305</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331688600</espi:start>
               </espi:timePeriod>
               <espi:value>1461</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>28563</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331689500</espi:start>
               </espi:timePeriod>
               <espi:value>1586</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18543</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331690400</espi:start>
               </espi:timePeriod>
               <espi:value>1545</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16826</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331691300</espi:start>
               </espi:timePeriod>
               <espi:value>1402</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>19605</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331692200</espi:start>
               </espi:timePeriod>
               <espi:value>1633</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18159</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331693100</espi:start>
               </espi:timePeriod>
               <espi:value>1513</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5101</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331694000</espi:start>
               </espi:timePeriod>
               <espi:value>850</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5030</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331694900</espi:start>
               </espi:timePeriod>
               <espi:value>838</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4969</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331695800</espi:start>
               </espi:timePeriod>
               <espi:value>828</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5910</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331696700</espi:start>
               </espi:timePeriod>
               <espi:value>985</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-14T04:00:00Z</published>
      <updated>2012-03-14T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:8e8a6957-5c81-4bd9-ba4c-33615e0ba0ad</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/MeterReading/1/IntervalBlock/14" rel="self"/>
      <title/>
      <content>
         <espi:IntervalBlock>
            <espi:interval>
               <espi:duration>86400</espi:duration>
               <espi:start>1331697600</espi:start>
            </espi:interval>
            <espi:IntervalReading>
               <espi:cost>894</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331697600</espi:start>
               </espi:timePeriod>
               <espi:value>298</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>828</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331698500</espi:start>
               </espi:timePeriod>
               <espi:value>276</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>892</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331699400</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>911</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331700300</espi:start>
               </espi:timePeriod>
               <espi:value>303</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>981</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331701200</espi:start>
               </espi:timePeriod>
               <espi:value>327</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>836</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331702100</espi:start>
               </espi:timePeriod>
               <espi:value>278</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>840</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331703000</espi:start>
               </espi:timePeriod>
               <espi:value>280</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>838</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331703900</espi:start>
               </espi:timePeriod>
               <espi:value>279</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331704800</espi:start>
               </espi:timePeriod>
               <espi:value>282</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>885</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331705700</espi:start>
               </espi:timePeriod>
               <espi:value>295</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>882</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331706600</espi:start>
               </espi:timePeriod>
               <espi:value>294</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>913</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331707500</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331708400</espi:start>
               </espi:timePeriod>
               <espi:value>324</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>957</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331709300</espi:start>
               </espi:timePeriod>
               <espi:value>319</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>816</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331710200</espi:start>
               </espi:timePeriod>
               <espi:value>272</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331711100</espi:start>
               </espi:timePeriod>
               <espi:value>297</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>823</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331712000</espi:start>
               </espi:timePeriod>
               <espi:value>274</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>991</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331712900</espi:start>
               </espi:timePeriod>
               <espi:value>330</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>922</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331713800</espi:start>
               </espi:timePeriod>
               <espi:value>307</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>903</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331714700</espi:start>
               </espi:timePeriod>
               <espi:value>301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>946</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331715600</espi:start>
               </espi:timePeriod>
               <espi:value>315</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>936</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331716500</espi:start>
               </espi:timePeriod>
               <espi:value>312</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>912</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331717400</espi:start>
               </espi:timePeriod>
               <espi:value>304</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>955</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331718300</espi:start>
               </espi:timePeriod>
               <espi:value>318</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2857</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331719200</espi:start>
               </espi:timePeriod>
               <espi:value>952</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2530</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331720100</espi:start>
               </espi:timePeriod>
               <espi:value>843</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2759</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331721000</espi:start>
               </espi:timePeriod>
               <espi:value>919</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>2662</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331721900</espi:start>
               </espi:timePeriod>
               <espi:value>887</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9747</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331722800</espi:start>
               </espi:timePeriod>
               <espi:value>1624</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8209</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331723700</espi:start>
               </espi:timePeriod>
               <espi:value>1368</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9008</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331724600</espi:start>
               </espi:timePeriod>
               <espi:value>1501</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8878</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331725500</espi:start>
               </espi:timePeriod>
               <espi:value>1479</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8243</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331726400</espi:start>
               </espi:timePeriod>
               <espi:value>1373</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8580</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331727300</espi:start>
               </espi:timePeriod>
               <espi:value>1430</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9893</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331728200</espi:start>
               </espi:timePeriod>
               <espi:value>1648</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9751</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331729100</espi:start>
               </espi:timePeriod>
               <espi:value>1625</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8194</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331730000</espi:start>
               </espi:timePeriod>
               <espi:value>1365</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8731</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331730900</espi:start>
               </espi:timePeriod>
               <espi:value>1455</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9887</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331731800</espi:start>
               </espi:timePeriod>
               <espi:value>1647</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8881</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331732700</espi:start>
               </espi:timePeriod>
               <espi:value>1480</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8476</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331733600</espi:start>
               </espi:timePeriod>
               <espi:value>1412</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9877</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331734500</espi:start>
               </espi:timePeriod>
               <espi:value>1646</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>8177</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331735400</espi:start>
               </espi:timePeriod>
               <espi:value>1362</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>9278</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331736300</espi:start>
               </espi:timePeriod>
               <espi:value>1546</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5546</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331737200</espi:start>
               </espi:timePeriod>
               <espi:value>924</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5642</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331738100</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4912</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331739000</espi:start>
               </espi:timePeriod>
               <espi:value>818</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5095</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331739900</espi:start>
               </espi:timePeriod>
               <espi:value>849</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5337</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331740800</espi:start>
               </espi:timePeriod>
               <espi:value>889</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5977</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331741700</espi:start>
               </espi:timePeriod>
               <espi:value>996</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5054</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331742600</espi:start>
               </espi:timePeriod>
               <espi:value>842</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5847</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331743500</espi:start>
               </espi:timePeriod>
               <espi:value>974</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5250</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331744400</espi:start>
               </espi:timePeriod>
               <espi:value>875</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5441</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331745300</espi:start>
               </espi:timePeriod>
               <espi:value>906</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4977</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331746200</espi:start>
               </espi:timePeriod>
               <espi:value>829</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331747100</espi:start>
               </espi:timePeriod>
               <espi:value>995</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5465</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331748000</espi:start>
               </espi:timePeriod>
               <espi:value>910</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5464</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331748900</espi:start>
               </espi:timePeriod>
               <espi:value>910</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5350</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331749800</espi:start>
               </espi:timePeriod>
               <espi:value>891</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5973</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331750700</espi:start>
               </espi:timePeriod>
               <espi:value>995</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11275</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331751600</espi:start>
               </espi:timePeriod>
               <espi:value>939</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>11581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331752500</espi:start>
               </espi:timePeriod>
               <espi:value>965</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10756</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331753400</espi:start>
               </espi:timePeriod>
               <espi:value>896</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>10633</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331754300</espi:start>
               </espi:timePeriod>
               <espi:value>886</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>15755</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331755200</espi:start>
               </espi:timePeriod>
               <espi:value>875</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>16754</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331756100</espi:start>
               </espi:timePeriod>
               <espi:value>930</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>14752</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331757000</espi:start>
               </espi:timePeriod>
               <espi:value>819</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17570</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331757900</espi:start>
               </espi:timePeriod>
               <espi:value>976</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>21369</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331758800</espi:start>
               </espi:timePeriod>
               <espi:value>890</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23572</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331759700</espi:start>
               </espi:timePeriod>
               <espi:value>982</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>23164</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331760600</espi:start>
               </espi:timePeriod>
               <espi:value>965</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>22921</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331761500</espi:start>
               </espi:timePeriod>
               <espi:value>955</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>33595</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331762400</espi:start>
               </espi:timePeriod>
               <espi:value>1119</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>39036</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331763300</espi:start>
               </espi:timePeriod>
               <espi:value>1301</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38338</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331764200</espi:start>
               </espi:timePeriod>
               <espi:value>1277</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36623</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331765100</espi:start>
               </espi:timePeriod>
               <espi:value>1220</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>40997</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331766000</espi:start>
               </espi:timePeriod>
               <espi:value>1366</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>47617</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331766900</espi:start>
               </espi:timePeriod>
               <espi:value>1587</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48095</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331767800</espi:start>
               </espi:timePeriod>
               <espi:value>1603</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>48548</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331768700</espi:start>
               </espi:timePeriod>
               <espi:value>1618</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>34581</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331769600</espi:start>
               </espi:timePeriod>
               <espi:value>1440</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>38276</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331770500</espi:start>
               </espi:timePeriod>
               <espi:value>1594</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>37649</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331771400</espi:start>
               </espi:timePeriod>
               <espi:value>1568</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>36725</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331772300</espi:start>
               </espi:timePeriod>
               <espi:value>1530</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26069</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331773200</espi:start>
               </espi:timePeriod>
               <espi:value>1448</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>27208</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331774100</espi:start>
               </espi:timePeriod>
               <espi:value>1511</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>26505</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331775000</espi:start>
               </espi:timePeriod>
               <espi:value>1472</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>25571</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331775900</espi:start>
               </espi:timePeriod>
               <espi:value>1420</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18428</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331776800</espi:start>
               </espi:timePeriod>
               <espi:value>1535</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17334</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331777700</espi:start>
               </espi:timePeriod>
               <espi:value>1444</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>17590</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331778600</espi:start>
               </espi:timePeriod>
               <espi:value>1465</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>18417</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331779500</espi:start>
               </espi:timePeriod>
               <espi:value>1534</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5726</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331780400</espi:start>
               </espi:timePeriod>
               <espi:value>954</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>4940</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331781300</espi:start>
               </espi:timePeriod>
               <espi:value>823</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5330</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331782200</espi:start>
               </espi:timePeriod>
               <espi:value>888</espi:value>
            </espi:IntervalReading>
            <espi:IntervalReading>
               <espi:cost>5641</espi:cost>
               <espi:timePeriod>
                  <espi:duration>900</espi:duration>
                  <espi:start>1331783100</espi:start>
               </espi:timePeriod>
               <espi:value>940</espi:value>
            </espi:IntervalReading>
         </espi:IntervalBlock>
      </content>
      <published>2012-03-15T04:00:00Z</published>
      <updated>2012-03-15T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:621d4bdf-fe3d-418b-8c98-276d941d3d45</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerUsageSummary" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerUsageSummary/1" rel="self"/>
      <title>Usage Summary</title>
      <content>
         <espi:ElectricPowerUsageSummary>
            <espi:billingPeriod>
               <espi:duration>1119600</espi:duration>
               <espi:start>1330578000</espi:start>
            </espi:billingPeriod>
            <espi:billLastPeriod>15252000</espi:billLastPeriod>
            <espi:billToDate>1149000</espi:billToDate>
            <espi:costAdditionalLastPeriod>1346000</espi:costAdditionalLastPeriod>
            <espi:currency>840</espi:currency>
            <espi:overallConsumptionLastPeriod>
               <espi:powerOfTenMultiplier>0</espi:powerOfTenMultiplier>
               <espi:uom>72</espi:uom>
               <espi:value>1298640</espi:value>
            </espi:overallConsumptionLastPeriod>
            <espi:currentBillingPeriodOverAllConsumption>
               <espi:powerOfTenMultiplier>0</espi:powerOfTenMultiplier>
               <espi:timeStamp>1331784000</espi:timeStamp>
               <espi:uom>72</espi:uom>
               <espi:value>93026</espi:value>
            </espi:currentBillingPeriodOverAllConsumption>
            <espi:qualityOfReading>14</espi:qualityOfReading>
            <espi:statusTimeStamp>1331784000</espi:statusTimeStamp>
         </espi:ElectricPowerUsageSummary>
      </content>
      <published>2012-04-12T04:00:00Z</published>
      <updated>2012-04-12T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:deb0a337-c1b5-4658-99ba-4688e253a99b</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerQualitySummary" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Subscription/7/UsagePoint/1/ElectricPowerQualitySummary/1" rel="self"/>
      <title>Quality Summary</title>
      <content>
         <espi:ElectricPowerQualitySummary>
            <espi:flickerPlt>1</espi:flickerPlt>
            <espi:flickerPst>2</espi:flickerPst>
            <espi:harmonicVoltage>3</espi:harmonicVoltage>
            <espi:longInterruptions>4</espi:longInterruptions>
            <espi:mainsVoltage>5</espi:mainsVoltage>
            <espi:measurementProtocol>6</espi:measurementProtocol>
            <espi:powerFrequency>7</espi:powerFrequency>
            <espi:rapidVoltageChanges>8</espi:rapidVoltageChanges>
            <espi:shortInterruptions>9</espi:shortInterruptions>
            <espi:summaryInterval>
               <espi:duration>2119600</espi:duration>
               <espi:start>2330578000</espi:start>
            </espi:summaryInterval>
            <espi:supplyVoltageDips>10</espi:supplyVoltageDips>
            <espi:supplyVoltageImbalance>11</espi:supplyVoltageImbalance>
            <espi:supplyVoltageVariations>12</espi:supplyVoltageVariations>
            <espi:tempOvervoltage>13</espi:tempOvervoltage>
         </espi:ElectricPowerQualitySummary>
      </content>
      <published>2012-04-12T04:00:00Z</published>
      <updated>2012-04-12T04:00:00Z</updated>
   </entry>
   <entry xmlns:espi="http://naesb.org/espi">
      <id>urn:uuid:3430b025-65d5-493a-bec2-053603c91cd7</id>
      <link href="https://cert.greenbuttonalliance.org/certificate/776198e6-59ec-5d25-950a-b34a25b93d67" rel="related"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ReadingType" rel="up"/>
      <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ReadingType/1" rel="self"/>
      <title>Type of Meter Reading Data</title>
      <content>
         <espi:ReadingType>
            <espi:accumulationBehaviour>4</espi:accumulationBehaviour>
            <espi:commodity>1</espi:commodity>
            <espi:currency>840</espi:currency>
            <espi:dataQualifier>12</espi:dataQualifier>
            <espi:flowDirection>1</espi:flowDirection>
            <espi:intervalLength>900</espi:intervalLength>
            <espi:kind>12</espi:kind>
            <espi:phase>769</espi:phase>
            <espi:powerOfTenMultiplier>0</espi:powerOfTenMultiplier>
            <espi:timeAttribute>0</espi:timeAttribute>
            <espi:uom>72</espi:uom>
            <espi:interharmonic>
               <espi:numerator>600</espi:numerator>
               <espi:denominator>800</espi:denominator>
            </espi:interharmonic>
            <espi:argument>
               <espi:numerator>1</espi:numerator>
               <espi:denominator>2</espi:denominator>
            </espi:argument>
         </espi:ReadingType>
      </content>
      <published>2012-10-24T04:00:00Z</published>
      <updated>2012-10-24T04:00:00Z</updated>
   </entry>
</feed>]]></con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC012 FIPS 140-2 support" searchProperties="true" id="853b39c2-bc6c-4ca1-a415-7a6cbd53db05"><con:description>Manual inspection of supporting documentation shall confirm that the Data Custodian implementation utilizes software libraries which are FIPS 140-2 level 1 or higher and listed on the CMVP website.</con:description><con:settings/><con:testStep type="groovy" name="FIPS 140-2 support" id="9c38a12a-f932-47ef-8f17-7090c5aabd82"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

def project = testRunner.testCase.testSuite.project
def authorizationServer = project.getPropertyValue( "authorizationServer" );
def resourceServer = project.getPropertyValue( "resourceServer" );

// Ask testee to verify (manual procedure)
log.info("Testing Authorization Server: " + authorizationServer);
result = ui.getDialogs().confirm("Verify Authorization Server: " + authorizationServer + " TLS software has been validated against FIPS 140-2", "\n");
//log.info (result)


if(result)
{
	log.info "Authorization Server: " + authorizationServer + " TLS software supports FIPS 140-2";
} else {
	log.info "Authorization Server: " + authorizationServer + " TLS software does not support FIPS 140-2";
	testRunner.fail("Authorization Server: " + authorizationServer + " TLS software does not support FIPS 140-2");
}


// Ask testee to verify (manual procedure)
log.info("Testing Resource Server: " + resourceServer);
result = ui.getDialogs().confirm("Verify Resource Server: " + authorizationServer + " TLS software has been validated against FIPS 140-2", "\n");
//log.info (result)


if(result)
{
	log.info "Resource Server: " + resourceServer + " TLS software supports FIPS 140-2";
} else {
	log.info "Resource Server: " + resourceServer + " TLS software does not support FIPS 140-2";
	testRunner.fail("Resource Server: " + resourceServer + " TLS software does not support FIPS 140-2");
}
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FB_14] Authorization and Authentication" id="5986c67c-db97-4324-b2a5-822fe773fe83">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD001 [NEG] Malformed Authorization Code Requests" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" id="fe96e0e8-b157-4d38-b230-984f1e4d61c2"><con:description/><con:settings/><con:testStep type="groovy" name="Start Mock Service" id="046723f4-4c1b-43a6-b4f5-18e9a1995ee9"><con:settings/><con:config><script>//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
context.mockService =  testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty NEG A tests Authorization Mock Service");

//   ****************************************************************************************************************************
//   *
//   *    Verify all mock service global variables are valid
//   *
//   ****************************************************************************************************************************

// Verify mockPort variable is valid
if (authCase.getPropertyValue("mockPort") == "" || authCase.getPropertyValue("mockPort") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) mockPort variable is blank or null: " + authCase.getPropertyValue("mockPort"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) mockPort variable is blank or null: " + authCase.getPropertyValue("mockPort"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) mockPort variable: " + authCase.getPropertyValue("mockPort"));
	}

// Verify proxyOutPort variable is valid
if (authCase.getPropertyValue("proxyOutPort") == "" || authCase.getPropertyValue("proxyOutPort") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) proxyOutPort variable is blank or null: " + authCase.getPropertyValue("proxyOutPort"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) proxyOutPort variable is blank or null: " + authCase.getPropertyValue("proxyOutPort"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) proxyOutPort variable: " + authCase.getPropertyValue("proxyOutPort"));
	}

// Verify OAuth Authorization Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == "" || authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Endpoint variable is blank or null: " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Endpoint variable is blank or null: " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Endpoint variable: " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	}

// Verify OAuth Authorization Redirect URI variable is valid
if (authCase.getPropertyValue("redirect_uri") == "" || authCase.getPropertyValue("redirect_uri") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Redirect URI Endpoint variable is blank or null: " + authCase.getPropertyValue("redirect_uri"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Redirect URI variable is blank or null: " + authCase.getPropertyValue("redirect_uri"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Redirect URI variable: " + authCase.getPropertyValue("redirect_uri"));
	}

// Verify OAuth Authorization Token Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerTokenEndpoint") == "" || authCase.getPropertyValue("authorizationServerTokenEndpoint") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Token Endpoint variable is blank or null: " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Token Endpoint variable is blank or null: " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) OAuth Authorization Token Endpoint variable: " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	}

// Verify Client ID variable is valid
if (authCase.getPropertyValue("client_id") == "" || authCase.getPropertyValue("client_id") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Client ID variable is blank or null: " + authCase.getPropertyValue("client_id"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Client ID variable is blank or null: " + authCase.getPropertyValue("client_id"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Client ID variable: " + authCase.getPropertyValue("client_id"));
	}

// Verify Client Secret variable is valid
if (authCase.getPropertyValue("client_secret") == "" || authCase.getPropertyValue("client_secret") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Client Secret variable is blank or null: " + authCase.getPropertyValue("client_secret"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Client Secret variable is blank or null: " + authCase.getPropertyValue("client_secret"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Client Secret variable: " + authCase.getPropertyValue("client_secret"));
	}

// Verify Data Custodian Scope Selection Screen URI is valid
if (authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == "" || authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Data Custodian Scope Selection Screen URI variable is blank or null: " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Data Custodian Scope Selection Screen URI variable is blank or null: " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) Data Custodian Scope Selection Screen URI variable: " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	}

//   ****************************************************************************************************************************
//   *
//   *    Initialize mock service variables
//   *
//   ****************************************************************************************************************************

context.mockService.setPropertyValue("tokenResponse","");
context.mockService.setPropertyValue("GotFirstRedirect","FALSE");
context.mockService.setPropertyValue("GotScopeSelPOST","FALSE");
context.mockService.setPropertyValue("authorizationServerAuthorizationEndpoint",authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
context.mockService.setPropertyValue("redirect_uri",authCase.getPropertyValue("redirect_uri"));
context.mockService.setPropertyValue("authorizationServerTokenEndpoint",authCase.getPropertyValue("authorizationServerTokenEndpoint"));
context.mockService.setPropertyValue("client_id",authCase.getPropertyValue("client_id"));
context.mockService.setPropertyValue("client_secret",authCase.getPropertyValue("client_secret"));
context.mockService.setPropertyValue("dataCustodianScopeSelectionScreenURI",authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));

context.mockService.setPort(authCase.getPropertyValue("mockPort").toInteger());

log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) mockService starting");

def runner = context.mockService.start();

log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Start Mock Service -- Start Mock Service) mockService: " + runner + " started");

context.mockRunner = runner;
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Script will bring up browser to DC Scope selection screen" id="5194f820-0727-4f66-ac03-11b76824f66f"><con:settings/><con:config><script>import org.greenbutton.cmd.utils.DriverHelper;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

String strScopeSelURI = authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI");

String parseBaseUrlFromURI(String strURI) throws Exception {
    URL aURL = new URL(strURI);

    if(aURL.getPort().equals(-1))
    {
	    log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Request -- Script will bring up browser to DC Scope selection screen) aURL.getPort(): " + aURL.getPort());
	    log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Request -- Script will bring up browser to DC Scope selection screen) strBaseUrl: " + aURL.getProtocol() + "://" +  aURL.getHost());
	    return aURL.getProtocol() + "://" +  aURL.getHost();
    }
    else
    {
	    log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Request -- Script will bring up browser to DC Scope selection screen) aURL.getPort(): " + aURL.getPort());
	    log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Request -- Script will bring up browser to DC Scope selection screen) strBaseUrl: " + aURL.getProtocol() + "://" +  aURL.getHost() + ":" + aURL.getPort());
	    return aURL.getProtocol() + "://" +  aURL.getHost() + ":" + aURL.getPort();
    }
}

String parseResource(String strURI) throws Exception {
    URL aURL = new URL(strURI);

    log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Request -- Script will bring up browser to DC Scope selection screen) strResource: " + aURL.getPath());
    return aURL.getPath();
}

String strBaseUrl = parseBaseUrlFromURI(strScopeSelURI);
String strResource = parseResource(strScopeSelURI);

log.info "[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Request -- Script will bring up browser to DC Scope selection screen) Scope select URI: " + strScopeSelURI;

DriverHelper driver = new DriverHelper(strBaseUrl,strResource,"",log);

log.info "[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Request -- Script will bring up browser to DC Scope selection screen) driver: " + driver;

context["driver"] = driver;

driver.get(strScopeSelURI);
</script></con:config></con:testStep><con:testStep type="manualTestStep" name="Perform Login" id="821ab4d0-3ae0-49e2-a069-c393dd5bd8c2"><con:description>Login to the Data Custodian under 
test and wait for the Third Party Scope
Selection Screen.

When this screen appears, right click
on the page and select "Page Info" from
the menu.

Click the "Details" button and then the
"View Cookies" button on the next window.
On the next window that appears, copy 
the session cookie for the Data Custodian 
path (labeled "Content:").

Paste the session cookie in the "Result"
field of this dialog box.
</con:description><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:expectedResult/></con:config></con:testStep><con:testStep type="groovy" name="Extract sessionID" id="f544e23c-56c9-4226-955f-13bdf22c51f0"><con:settings/><con:config><script>
testRunner.testCase.setPropertyValue("browserSession",testRunner.testCase.getTestStepByName("Perform Login").getPropertyValue("Result"));
 
</script></con:config></con:testStep><con:testStep type="groovy" name="Perform TP Scope Selection" id="fb5fc53b-b795-408b-8cc4-dc82abb95021"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

result = ui.getDialogs().showInfoMessage("Select Scope and click OK when done", "");
</script></con:config></con:testStep><con:testStep type="groovy" name="Wait for Mock Service to receive TP scope sel POST" id="0dee7420-3702-444b-b3c2-e5e2fb7959e6"><con:settings/><con:config><script>
int cnt=20;

while(cnt>0){
	log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests) Script waiting for TP scope selection POST");
	if(context.mockService.getPropertyValue("GotScopeSelPOST").equals("TRUE")){
		assert true;
		return;
	}
	Thread.sleep(1000);
	cnt--;
}

log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests) No scope selection POST received");
testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests) No scope selection POST received.");
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue malformed oauth/authorize GETs" id="a3b8d371-3592-413d-90bc-5cb2b998798a"><con:settings/><con:config><script><![CDATA[import java.net.HttpUrlConnection.*;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

public class codeLocation {
	
	private int iRespCode;
	private String strRespLoc;

	public codeLocation (int c, String l) {
		iRespCode = c;
		strRespLoc = l;
	}


	/******************************
	 * Return Response Code
	 ******************************/
	 public int getCode() {
	 	return iRespCode;
	 }


	/******************************
	 * Return Response Location
	 ******************************/
	 public String getLocation() {
	 	return strRespLoc;
	 }
}

int issueGET(String targetURL,String strSessionID){

	log.info("targetURL: " + targetURL);
	int iRespCode = 0;
	String urlParameters = "";
	
	URL url;
	
	HttpURLConnection connection = null;  
	
	try {
		//Create connection
		url = new URL(targetURL);
		connection = (HttpURLConnection)url.openConnection();
		connection.setRequestMethod("GET");
		connection.setInstanceFollowRedirects(false);
		connection.setRequestProperty("Cookie", "JSESSIONID=" + strSessionID);
		
		//Get Response    
		InputStream is = connection.getInputStream();
		BufferedReader rd = new BufferedReader(new InputStreamReader(is));
		String line;
		StringBuffer response = new StringBuffer(); 
		while((line = rd.readLine()) != null) {
			response.append(line);
			response.append('\r');
		}
		rd.close();

		log.info "Response code = " + connection.getResponseCode();

		strRespLoc = connection.getHeaderField("Location");
		log.info "Response Location: " + strRespLoc;
		
		iRespCode = connection.getResponseCode();
	
	} catch (Exception e) {
		log.info("Exception: " + e.getMessage());
		return 0;
	} finally {
		if(connection != null) {
			log.info("Response: " + connection.getResponseCode());
			iRespCode = connection.getResponseCode();		
			connection.disconnect(); 
		}

		return iRespCode;
	}	
}

//   ****************************************************************************************************************************
//   *
//   *    Verify Browser SessionID variable is valid
//   *
//   ****************************************************************************************************************************

// Verify Browser Session variable is valid
if (testRunner.testCase.getPropertyValue("browserSession") == "" || testRunner.testCase.getPropertyValue("browserSession") == null) {

	log.error("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests -- Issue malformed oauth/authorize GETs) Browser SessionID variable is blank or null -- " + testRunner.testCase.getPropertyValue("browserSession"));
	testRunner.fail("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests -- Issue malformed oauth/authorize GETs) Browser Session variable is blank or null -- " + testRunner.testCase.getPropertyValue("browserSession"));
	return;
	
	} else {
		log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests -- Issue malformed oauth/authorize GETs) Browser Session variable: " + testRunner.testCase.getPropertyValue("browserSession"));
	}

//   ****************************************************************************************************************************
//   *
//   *    Initialize test step variables
//   *
//   ****************************************************************************************************************************

String strSessionID = testRunner.testCase.getPropertyValue("browserSession");
String strSelectedScope = context.mockService.getPropertyValue("SelectedScope").replace("scope=","");
String strRedirURI = authCase.getPropertyValue("redirect_uri");
String strClientId = authCase.getPropertyValue("client_id");
String strRespLocation;

// Convert Authorization Token Endpoint to use stunnel proxy
String strAuthEndpoint = "";
URL aURL = new URL(authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));

log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests -- Issue malformed oauth/authorize GETs) aURL: " + aURL);
log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests -- Issue malformed oauth/authorize GETs) aURL.getPort(): " + aURL.getPort());
log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests -- Issue malformed oauth/authorize GETs) strAuthEndpoint: " + "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath());
strAuthEndpoint = "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath();
log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests -- Issue malformed oauth/authorize GETs) strAuthEndpoint: " + strAuthEndpoint);

log.info("[FB_14] Authorization and Authentication (OAD001 [NEG] Malformed Authorization Code Requests -- Issue malformed oauth/authorize GETs) strRedirURI: " + strRedirURI);

// Sample Authorization Code Grant request valid query string:
//strQryParams = "?response_type=code" + "&client_id=third_party" + "&redirect_uri=" + strRedirURI + "&scope=" + strSelectedScope + "&state=ee148ec2-9892-466e-a013-4dedf1eb3018"; 

int iTestID= 0;
while(true) {
	// loop through different malformation tests
	String strTestName = "";
	String strQryParams = "";
	int iRespCode = 0;
	int iExpectedRespCode = 0;

/*

 no authorization code in the response 

 */

	switch(iTestID) {
		case 0:
			strTestName = "Malformed Authorization Code Request (No response_type field-value pair)";
			strQryParams = "?client_id=" + strClientId + "&redirect_uri=" + strRedirURI + "&scope=" + strSelectedScope + "&state=ee148ec2-9892-466e-a013-4dedf1eb3018"; 
  			iExpectedRespCode = 302;	
			break;
		case 1:
			strTestName = "Malformed Authorization Code Request (No client_id field-value pair)";
			strQryParams = "?response_type=code" + "&redirect_uri=" + strRedirURI + "&scope=" + strSelectedScope + "&state=ee148ec2-9892-466e-a013-4dedf1eb3018";  
  			iExpectedRespCode = 401;							
			break;
		case 2:
			strTestName = "Malformed Authorization Code Request (Invalid response_type field-value pair)";
			strQryParams = "?response_type=badresponsetype&client_id=" + strClientId + "&redirect_uri=" + strRedirURI + "&scope=" + strSelectedScope + "&state=ee148ec2-9892-466e-a013-4dedf1eb3018";
  			iExpectedRespCode = 302;	
			break;
		case 3:
			strTestName = "Authorization Code Request (Invalid client_id field-value pair)";
			strQryParams = "?response_type=code&client_id=invalid_third_party&redirect_uri=" + strRedirURI + "&scope=" + strSelectedScope + "&state=ee148ec2-9892-466e-a013-4dedf1eb3018";
			iExpectedRespCode = 401;
			break;
		case 4:
			strTestName = "Authorization Code Request (Invalid redirect_uri field-value pair)";
			strQryParams = "?response_type=code&client_id=" + strClientId + "&redirect_uri=" + "https://services.greenbuttondata.org" + "&scope=" + strSelectedScope + "&state=ee148ec2-9892-466e-a013-4dedf1eb3018";
			iExpectedRespCode = 400;			
			break;
		case 5:
			strTestName = "Authorization Code Request (Invalid scope field-value pair)";
			strQryParams = "?response_type=code&client_id=" + strClientId + "&redirect_uri=" + strRedirURI + "&&scope=" + "FB=????" + "&state=ee148ec2-9892-466e-a013-4dedf1eb3018";
			iExpectedRespCode = 302;
			break;
		default:
			break;
	}


	// 0 indicates skip test
	if(iExpectedRespCode != 0) {
		log.info("==================================================================================================================");		
		log.info("Testing: " + strTestName);
		log.info("Expected Response Code: " + iExpectedRespCode);
		iRespCode = issueGET(strAuthEndpoint + strQryParams,strSessionID);

		// if we get 302 and authorization code, this is a failure
		if (iRespCode == 302) {
			if (strRespLoc != null) {
				if (strRespLoc.indexOf("code=") != -1) {	// A 302 Redirect Response Code with a "code=" parameter is NOT valid 
					log.error("Failed malformed Authorization request: " + strTestName + " received expected response code: " + iExpectedRespCode + " but response contained code=");
					testRunner.fail("Failed malformed Authorization request: " + strTestName + " received expected response code: " + iExpectedRespCode + " but response contained code=");
					return;
				}
			}
		}
		// if we get 200, this means they are progressing the dialog instead of rejecting the request, so this is a failure
		else if (iRespCode == 200){
			log.error("Failed malformed Authorization request: " + strTestName + " the data custodian progressed rather than rejected the request");
			testRunner.fail("Failed malformed Authorization request: " + strTestName + " the data custodian progressed rather than rejected the request");
			return;
		}
	} else {
		log.info("skipping: " + strTestName);
	}


	iTestID++;
	if(iTestID > 5){
		break;
	}
}

assert true;]]></script></con:config></con:testStep><con:testStep type="groovy" name="End Browser session" id="26465757-1ba7-4608-8601-cbec5492e117"><con:settings/><con:config><script>context["driver"].quit();
context["driver"] = null;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="40ff42e1-7a63-4149-9c17-76a84053e99d"><con:settings/><con:config><script>context.mockRunner.stop();
context.mockRunner = null;
return;</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>if(context.mockRunner != null){
	context.mockRunner.stop();
	context.mockRunner = null;
}

if(context["driver"] != null){
	context["driver"].quit();
	context["driver"] = null;	
}

log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();
</con:tearDownScript><con:properties><con:property><con:name>extracted_scope_sel_uri</con:name><con:value/></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>browserSession</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">8BFA51ECD0ECEE4450C47019CF5F69CB</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD002 [NEG] Authorization Code Request (Retail Customer Passes Authentication and DENIES access)" searchProperties="true" id="bccca4c3-2b7b-4359-8ca2-2159ecd05c3e"><con:description/><con:settings/><con:testStep type="groovy" name="Start Mock Service" id="d08db03c-02df-4bec-be6d-8eb8cd7f4cda"><con:settings/><con:config><script>//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

context.mockService = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Authorization Mock Service");

//   ****************************************************************************************************************************
//   *
//   *    Verify all mock service global variables are valid
//   *
//   ****************************************************************************************************************************

// Verify mockPort variable is valid
if (authCase.getPropertyValue("mockPort") == "" || authCase.getPropertyValue("mockPort") == null) {

	log.info("OAD002 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	log.error("OAD002 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	testRunner.fail("OAD002 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	return;
	
	} else {
		log.info("OAD002 [NEG] Start Mock Service -- mockPort variable: " + authCase.getPropertyValue("mockPort"));
	}

// Verify proxyOutPort variable is valid
if (authCase.getPropertyValue("proxyOutPort") == "" || authCase.getPropertyValue("proxyOutPort") == null) {

	log.info("OAD002 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	log.error("OAD002 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	testRunner.fail("OAD002 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	return;
	
	} else {
		log.info("OAD002 [NEG] Start Mock Service -- proxyOutPort variable: " + authCase.getPropertyValue("proxyOutPort"));
	}

// Verify Oauth Authorization Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == "" || authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == null) {

	log.info("OAD002 [NEG] Start Mock Service -- Oauth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	log.error("OAD002 [NEG] Start Mock Service -- Oauth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	testRunner.fail("OAD002 [NEG] Start Mock Service -- Oauth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	return;
	
	} else {
		log.info("OAD002 [NEG] Start Mock Service -- Oauth Authorization Endpoint variable: " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	}

// Verify OAuth Authorization Redirect URI variable is valid
if (authCase.getPropertyValue("redirect_uri") == "" || authCase.getPropertyValue("redirect_uri") == null) {

	log.info("OAD002 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	log.error("OAD002 [NEG] Start Mock Service -- OAuth Authorization Redirect URI Endpoint variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	testRunner.fail("OAD002 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	return;
	
	} else {
		log.info("OAD002 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable: " + authCase.getPropertyValue("redirect_uri"));
	}

// Verify OAuth Authorization Token Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerTokenEndpoint") == "" || authCase.getPropertyValue("authorizationServerTokenEndpoint") == null) {

	log.info("OAD002 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	log.error("OAD002 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	testRunner.fail("OAD002 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	return;
	
	} else {
		log.info("OAD002 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable: " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	}

// Verify Client ID variable is valid
if (authCase.getPropertyValue("client_id") == "" || authCase.getPropertyValue("client_id") == null) {

	log.info("OAD002 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	log.error("OAD002 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	testRunner.fail("OAD002 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	return;
	
	} else {
		log.info("OAD002 [NEG] Start Mock Service -- Client ID variable: " + authCase.getPropertyValue("client_id"));
	}

// Verify Client Secret variable is valid
if (authCase.getPropertyValue("client_secret") == "" || authCase.getPropertyValue("client_secret") == null) {

	log.info("Create Authorization and extract all information Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	log.error("Create Authorization and extract all information Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	testRunner.fail("Create Authorization and extract all information Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information Start Mock Service -- Client Secret variable: " + authCase.getPropertyValue("client_secret"));
	}

// Verify Data Custodian Scope Selection Screen URI is valid
if (authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == "" || authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == null) {

	log.info("OAD002 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	log.error("OAD002 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	testRunner.fail("OAD002 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	return;
	
	} else {
		log.info("OAD002 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable: " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	}

//   ****************************************************************************************************************************
//   *
//   *    Initialize mock service variables
//   *
//   ****************************************************************************************************************************

context.mockService.setPropertyValue("error","");
context.mockService.setPropertyValue("tokenResponse","");
context.mockService.setPropertyValue("authorizationServerAuthorizationEndpoint",authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
context.mockService.setPropertyValue("redirect_uri",authCase.getPropertyValue("redirect_uri"));
context.mockService.setPropertyValue("authorizationServerTokenEndpoint",authCase.getPropertyValue("authorizationServerTokenEndpoint"));
context.mockService.setPropertyValue("client_id",authCase.getPropertyValue("client_id"));
context.mockService.setPropertyValue("dataCustodianScopeSelectionScreenURI",authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));

context.mockService.setPort(authCase.getPropertyValue("mockPort").toInteger());
def runner = context.mockService.start();
context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Script will bring up browser to DC Scope selection screen" id="1ecf4a9c-55f0-45f8-a0f6-bfc4bd189ecf"><con:settings/><con:config><script>import org.greenbutton.cmd.utils.DriverHelper;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

String strScopeSelURI = authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI");

String parseBaseUrlFromURI(String strURI) throws Exception {
    URL aURL = new URL(strURI);

    if(aURL.getPort().equals(-1))
    {
	    log.info("OAD002 [NEG] Script will bring up browser to DC Scope selection screen -- aURL.getPort(): " + aURL.getPort());
	    log.info("OAD002 [NEG] Script will bring up browser to DC Scope selection screen -- strBaseUrl: " + aURL.getProtocol() + "://" +  aURL.getHost());
	    return aURL.getProtocol() + "://" +  aURL.getHost();
    }
    else
    {
	    log.info("OAD002 [NEG] Script will bring up browser to DC Scope selection screen -- aURL.getPort(): " + aURL.getPort());
	    log.info("OAD002 [NEG] Script will bring up browser to DC Scope selection screen -- strBaseUrl: " + aURL.getProtocol() + "://" +  aURL.getHost() + ":" + aURL.getPort());
	    return aURL.getProtocol() + "://" +  aURL.getHost() + ":" + aURL.getPort();
    }
}

String parseResource(String strURI) throws Exception {
    URL aURL = new URL(strURI);

    log.info("OAD002 [NEG] Script will bring up browser to DC Scope selection screen -- strResource: " + aURL.getPath());
    return aURL.getPath();
}

String strBaseUrl = parseBaseUrlFromURI(strScopeSelURI);
String strResource = parseResource(strScopeSelURI);

log.info "OAD002 [NEG] Script will bring up browser to DC Scope selection screen -- Scope select URI: " + strScopeSelURI;

DriverHelper driver = new DriverHelper(strBaseUrl,strResource,"",log);

context["driver"] = driver;

driver.get(strScopeSelURI);
</script></con:config></con:testStep><con:testStep type="groovy" name="Wait for Authorization to Complete and End Browser session" id="335fbfd7-b948-47bd-adb8-e20bad342944"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

result = ui.getDialogs().showInfoMessage("Perform logon, select scope and DENY authorization request. Click OK when done.", "");

context["driver"].quit();</script></con:config></con:testStep><con:testStep type="groovy" name="End Browser session" id="4d820d57-da11-46f5-9b74-2c9a58cd91f1"><con:settings/><con:config><script>context["driver"].quit();
context["driver"] = null;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="62cbdcbe-2f49-470b-b76b-16fc7ec0d150"><con:settings/><con:config><script>context.mockRunner.stop();
context.mockRunner = null;
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Check access denied" id="774ad163-ad8a-44d7-895d-c6c96d1f6f1a"><con:settings/><con:config><script>
String strError =  context.mockService.getPropertyValue("error");

if(!strError.contains("error=access_denied"))
{
	log.error("OAD002 [NEG] Authorization Code Request (Retail Customer Passes Authentication and DENIES access) Authorization Server did not respond with expected error:" + strError);
	testRunner.fail("OAD002 [NEG] Authorization Code Request (Retail Customer Passes Authentication and DENIES access) Authorization Server did not respond with expected error:" + strError);

	return
}
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>if(context.mockRunner != null){
	context.mockRunner.stop();
	context.mockRunner = null;
}

if(context["driver"] != null){
	context["driver"].quit();
	context["driver"] = null;	
}
log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();
</con:tearDownScript><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=third_party</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value>LAaB0X</con:value></con:property><con:property><con:name>tokenResponse</con:name><con:value>{"access_token":"275ff15a-8902-445e-b4fd-f12fd00f9092","token_type":"bearer","refresh_token":"1b0b86ee-3508-4349-afff-0d87c1d004c9","expires_in":31535999,"scope":"FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13","resourceURI":"http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Subscription/5","authorizationURI":"http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/5"}
</con:value></con:property><con:property><con:name>access_token</con:name><con:value>275ff15a-8902-445e-b4fd-f12fd00f9092</con:value></con:property><con:property><con:name>token_type</con:name><con:value>bearer</con:value></con:property><con:property><con:name>refresh_token</con:name><con:value>1b0b86ee-3508-4349-afff-0d87c1d004c9</con:value></con:property><con:property><con:name>expires_in</con:name><con:value>31535999</con:value></con:property><con:property><con:name>scope</con:name><con:value>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>resourceURI</con:name><con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:value></con:property><con:property><con:name>authorizationURI</con:name><con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/5</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property><con:property><con:name>client_id</con:name><con:value>third_party</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD003 [NEG] Access Token Request Authorization Header and malformation Access Token Authorization Code Request Rejection" searchProperties="true" id="5e670f61-7366-4e72-9bf3-92c57e462f1f"><con:description/><con:settings/><con:testStep type="groovy" name="Start Mock Service" id="84ca8b4a-d62e-4996-bffa-45f1bd02e2d5"><con:settings/><con:config><script>//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

context.mockService = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty NEG B tests Authorization Mock Service");

//   ****************************************************************************************************************************
//   *
//   *    Verify all mock service global variables are valid
//   *
//   ****************************************************************************************************************************

// Verify mockPort variable is valid
if (authCase.getPropertyValue("mockPort") == "" || authCase.getPropertyValue("mockPort") == null) {

	log.info("OAD003 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	log.error("OAD003 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	testRunner.fail("OAD003 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	return;
	
	} else {
		log.info("OAD003 [NEG] Start Mock Service -- mockPort variable: " + authCase.getPropertyValue("mockPort"));
	}

// Verify proxyOutPort variable is valid
if (authCase.getPropertyValue("proxyOutPort") == "" || authCase.getPropertyValue("proxyOutPort") == null) {

	log.info("OAD003 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	log.error("OAD003 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	testRunner.fail("OAD003 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	return;
	
	} else {
		log.info("OAD003 [NEG] Start Mock Service -- proxyOutPort variable: " + authCase.getPropertyValue("proxyOutPort"));
	}

// Verify OAuth Authorization Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == "" || authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == null) {

	log.info("OAD003 [NEG] Start Mock Service -- OAuth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	log.error("OAD003 [NEG] Start Mock Service -- OAuth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	testRunner.fail("OAD003 [NEG] Start Mock Service -- OAauth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	return;
	
	} else {
		log.info("OAD003 [NEG] Start Mock Service -- OAuth Authorization Endpoint variable: " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	}

// Verify OAuth Authorization Redirect URI variable is valid
if (authCase.getPropertyValue("redirect_uri") == "" || authCase.getPropertyValue("redirect_uri") == null) {

	log.info("OAD003 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	log.error("OAD003 [NEG] Start Mock Service -- OAuth Authorization Redirect URI Endpoint variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	testRunner.fail("OAD003 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	return;
	
	} else {
		log.info("OAD003 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable: " + authCase.getPropertyValue("redirect_uri"));
	}

// Verify OAuth Authorization Token Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerTokenEndpoint") == "" || authCase.getPropertyValue("authorizationServerTokenEndpoint") == null) {

	log.info("OAD003 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	log.error("OAD003 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	testRunner.fail("OAD003 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	return;
	
	} else {
		log.info("OAD003 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable: " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	}

// Verify Client ID variable is valid
if (authCase.getPropertyValue("client_id") == "" || authCase.getPropertyValue("client_id") == null) {

	log.info("OAD003 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	log.error("OAD003 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	testRunner.fail("OAD003 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	return;
	
	} else {
		log.info("OAD003 [NEG] Start Mock Service -- Client ID variable: " + authCase.getPropertyValue("client_id"));
	}

// Verify Client Secret variable is valid
if (authCase.getPropertyValue("client_secret") == "" || authCase.getPropertyValue("client_secret") == null) {

	log.info("OAD003 [NEG] Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	log.error("OAD003 [NEG] Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	testRunner.fail("OAD003 [NEG] Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	return;
	
	} else {
		log.info("OAD003 [NEG] Start Mock Service -- Client Secret variable: " + authCase.getPropertyValue("client_secret"));
	}

// Verify Data Custodian Scope Selection Screen URI is valid
if (authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == "" || authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == null) {

	log.info("OAD003 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	log.error("OAD003 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	testRunner.fail("OAD003 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	return;
	
	} else {
		log.info("OAD003 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable: " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	}

//   ****************************************************************************************************************************
//   *
//   *    Initialize mock service variables
//   *
//   ****************************************************************************************************************************


context.mockService.setPropertyValue("tokenResponse","");
context.mockService.setPropertyValue("authorizationServerAuthorizationEndpoint",authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
context.mockService.setPropertyValue("redirect_uri",authCase.getPropertyValue("redirect_uri"));
context.mockService.setPropertyValue("authorizationServerTokenEndpoint",authCase.getPropertyValue("authorizationServerTokenEndpoint"));
context.mockService.setPropertyValue("client_id",authCase.getPropertyValue("client_id"));
context.mockService.setPropertyValue("client_secret",authCase.getPropertyValue("client_secret"));
context.mockService.setPropertyValue("dataCustodianScopeSelectionScreenURI",authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));

context.mockService.setPort(authCase.getPropertyValue("mockPort").toInteger());
def runner = context.mockService.start();
context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Script will bring up browser to DC Scope selection screen" id="34c1d3d7-de9f-4a23-8fae-d819ccbe6cde"><con:settings/><con:config><script>import org.greenbutton.cmd.utils.DriverHelper;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

String strScopeSelURI = authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI");

String strHost = "";

//	Does URI start with http://
if (strScopeSelURI.substring("http://".length()) == -1) {	// Yes, extract baseURI value
	
	strHost = strScopeSelURI.substring("http://".length());
	log.info("OAD002 [NEG] Script will bring up browser to DC Scope selection screen -- strHost: " + strHost);
	
} else {	// No, extract baseURI value using https://

	strHost = strScopeSelURI.substring("https://".length());
	log.info("OAD002 [NEG] Script will bring up browser to DC Scope selection screen -- strHost: " + strHost);
	
}

String strResource = strHost.substring(strHost.indexOf("/"));
strHost = strScopeSelURI.substring(0,strScopeSelURI.indexOf(strResource));

DriverHelper driver = new DriverHelper(strHost,strResource,"",log);

context["driver"] = driver;

driver.get(strScopeSelURI);</script></con:config></con:testStep><con:testStep type="groovy" name="Wait for Authorization to Complete and End Browser session" id="c959593c-f4f7-4741-adf3-914104b45561"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

result = ui.getDialogs().showInfoMessage("Perform logon, select scope and APPROVE authorization request. Click OK when done.", "");

context["driver"].quit();</script></con:config></con:testStep><con:testStep type="groovy" name="End Browser session" id="b94ec9cd-0ad7-4cba-805f-375979bc058b"><con:settings/><con:config><script>context["driver"].quit();
context["driver"] = null;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="98c0f85c-4381-4eea-97f6-bc62cc9b9ced"><con:settings/><con:config><script>context.mockRunner.stop();
context.mockRunner = null;
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Issue Malformed GET OAuth Token requests" id="e3246a57-8c49-4ed5-b6f4-ce549c91b88c"><con:settings/><con:config><script><![CDATA[import java.net.*;
import java.io.*;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

int issueGET(String targetURL,String strToken){

	log.info("Issuing malformed GET " + targetURL);
	int iRespCode = 0;
	String urlParameters = "";
	
	URL url;
	
	HttpURLConnection connection = null;  
	
	try {
		//Create connection
		url = new URL(targetURL);
		connection = (HttpURLConnection)url.openConnection();
		connection.setRequestMethod("GET");
		connection.setInstanceFollowRedirects(false);
		connection.setRequestProperty("Authorization", "Basic " + strToken);
		connection.setRequestProperty("Accept", "application/json, application/*+json");
		
		//Get Response    
		InputStream is = connection.getInputStream();
		BufferedReader rd = new BufferedReader(new InputStreamReader(is));
		String line;
		StringBuffer response = new StringBuffer(); 
		while((line = rd.readLine()) != null) {
			response.append(line);
			response.append('\r');
		}
		rd.close();
			
		log.info "Response Code = " + connection.getResponseCode();

		iRespCode = connection.getResponseCode();
	
	} catch (Exception e) {
		log.info e.getMessage();
		return 0;
	} finally {
		if(connection != null) {
			log.info "Response = " + connection.getResponseCode();
			iRespCode = connection.getResponseCode();		
			connection.disconnect(); 
		}

		return iRespCode;
	}	
}

String strOAuthCodeReceivedValue = context.mockService.getPropertyValue("OAuthCodeReceivedValue");
String strRedirURI = authCase.getPropertyValue("redirect_uri");
String strClientId = authCase.getPropertyValue("client_id");

// Save Received Authorization Code for later tests
authCase.setPropertyValue("OAuthCodeReceivedValue",strOAuthCodeReceivedValue);
log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' strOAuthCodeReceivedValue: " + strOAuthCodeReceivedValue);
log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' Saved strOAuthCodeReceivedValue: " + authCase.getPropertyValue("OAuthCodeReceivedValue"));

// Convert Authorization Token Endpoint to use stunnel proxy
String strAuthorizationServerTokenEndpoint = "";
URL aURL = new URL(authCase.getPropertyValue("authorizationServerTokenEndpoint"));

log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' aURL: " + aURL);
log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' aURL.getPort(): " + aURL.getPort());
log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' strAuthorizationServerTokenEndpoint: " + "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath());
strAuthorizationServerTokenEndpoint = "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath();

log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' strRedirURI: " + strRedirURI);
log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' strAuthorizationServerTokenEndpoint: " + strAuthorizationServerTokenEndpoint);
log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' client_id: " + strClientId);
log.info("OAD003 [NEG] Access Token Request malformed Access Token Request Rejection -- 'Issue Malformed GET OAuth Token Request' client_secret: " + authCase.getPropertyValue("client_secret"));

String strAuthentication = authCase.getPropertyValue("client_id") + ":" + authCase.getPropertyValue("client_secret");

// Encode byte array into Base 64
String token = strAuthentication.bytes.encodeBase64().toString();

// Sample valid Access Token Authorization Code Request query parameters
//strQryParams = "?grant_type=authorization_code" + "&code=" + strOAuthCodeReceivedValue + "&redirect_uri=" + strRedirURI;

int iTestID = 0;

while(true) {
	// loop through different malformation tests
	String strTestName = "";
	String strQryParams = "";
	String strToken = token;
	 
	int iRespCode = 0;
	int iExpectedRespCode = 0;

	switch(iTestID) {
		case 0:
			strTestName = "Access Token Request Authorization No Authorization Header";
			strQryParams = "?grant_type=authorization_code" + "&code=" + strOAuthCodeReceivedValue + "&redirect_uri=" + strRedirURI;
			strToken = "";				
			iExpectedRespCode = 401;
			break;
		case 1:
			strTestName = "Access Token Request Authorization Invalid Authorization Header";
			strQryParams = "?grant_type=authorization_code" + "&code=" + strOAuthCodeReceivedValue + "&redirect_uri=" + strRedirURI;
			strToken = "bad value";				
			iExpectedRespCode = 401;
			break;			
		case 2:
			strTestName = "Malformed Authorization Code Grant Access Token Request (No grant_type field-value pair)";
			strQryParams = "?code=" + strOAuthCodeReceivedValue + "&redirect_uri=" + strRedirURI;				
			iExpectedRespCode = 400;
			break;	
		case 3:
			strTestName = "Malformed Authorization Code Grant Access Token Request (No code field-value pair)";
			strQryParams = "?grant_type=authorization_code" + "&redirect_uri=" + strRedirURI;				
			iExpectedRespCode = 400;
			break;
		case 4:
			strTestName = "Malformed Authorization Code Grant Access Token Request (No redirect_uri field-value pair)";
			strQryParams = "?grant_type=authorization_code" + "&code=" + strOAuthCodeReceivedValue;				
			iExpectedRespCode = 400;
			break;
		case 5:
			strTestName = "Malformed Authorization Code Grant Access Token Request (Contains  HTTP BASIC Authorization header and client_id field-value pair)";
			strQryParams = "?grant_type=authorization_code" + "&code=" + strOAuthCodeReceivedValue + "&redirect_uri=" + strRedirURI + "?client_id=" + strClientId;				
			iExpectedRespCode = 400;
			break;
		case 6:
			strTestName = "Invalid Authorization Code Grant Access Token Request (redirect_uri field-value pair doess not match the redirect_uri field-value pair in the Authorization Code Request)";
			strQryParams = "?grant_type=authorization_code" + "&code=" + strOAuthCodeReceivedValue + "&redirect_uri=https://services.greenbuttondata.org";				
			iExpectedRespCode = 400;
			break;
		case 7:
			strTestName = "Invalid Authorization Code Grant Access Token Request (code field-value pair contains an authorization code issued to another client)";
			strQryParams = "?grant_type=authorization_code" + "&code=" + strOAuthCodeReceivedValue + "&redirect_uri=" + strRedirURI;			
			iExpectedRespCode = 400;
			break;
		case 8:
			strTestName = "Invalid Authorization Code Grant Access Token Request (code field-value pair contains an invalid authorization code)";
			strQryParams = "?grant_type=authorization_code" + "&code=badauthorizationcode" + "&redirect_uri=" + strRedirURI;				
			iExpectedRespCode = 400;
			break;
		case 9:
			def ui = com.eviware.soapui.support.UISupport;
			result = ui.getDialogs().showInfoMessage("The following test will take 6 minutes to complete. SoapUI may appear inactive. Please click OK now and please be patient...", "");
			Thread.sleep(360000);
			strTestName = "Invalid Authorization Code Grant Access Token Request (code field-value pair contains a valid authorization code issued 6 minutes prior)";
			strQryParams = "?grant_type=authorization_code" + "&code=" + strOAuthCodeReceivedValue + "&redirect_uri=" + strRedirURI;				
			iExpectedRespCode = 400;
			break;
		default:
			break;
	}

	// 0 indicates skip test
	if(iExpectedRespCode != 0) {
		log.info("==================================================================================================================");
		log.info("Testing: " + strTestName);
		log.info("Expected Response Code: " + iExpectedRespCode);
		iRespCode = issueGET(strAuthorizationServerTokenEndpoint + strQryParams,strToken);
		
		if(iRespCode != iExpectedRespCode) {
			log.error("Failed malformed token request: " + strTestName + " expected response code:" + iExpectedRespCode + " but received:" + iRespCode);
			testRunner.fail("Failed malformed token request: " + strTestName + " expected response code:" + iExpectedRespCode + " but received:" + iRespCode);
			return;						
		}		
	} else {
		log.info("skipping: " + strTestName);
	}	

	iTestID++;
	if(iTestID > 9){
		break;
	}
}	

assert true;

]]></script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>if(context.mockRunner != null){
	context.mockRunner.stop();
	context.mockRunner = null;
}

if(context["driver"] != null){
	context["driver"].quit();
	context["driver"] = null;	
}
log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>http://localhost:8080/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=third_party</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>http://localhost:8081/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value>quexi</con:value></con:property><con:property><con:name>tokenResponse</con:name><con:value>{"access_token":"06430590-2897-422a-9316-95fccb60e96d","token_type":"bearer","refresh_token":"1d8e2070-73ee-40f8-9549-dad626ead16a","expires_in":31535999,"scope":"FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13","resourceURI":"http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Subscription/5","authorizationURI":"http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/5"}
</con:value></con:property><con:property><con:name>access_token</con:name><con:value>06430590-2897-422a-9316-95fccb60e96d</con:value></con:property><con:property><con:name>token_type</con:name><con:value>bearer</con:value></con:property><con:property><con:name>refresh_token</con:name><con:value>1d8e2070-73ee-40f8-9549-dad626ead16a</con:value></con:property><con:property><con:name>expires_in</con:name><con:value>31535999</con:value></con:property><con:property><con:name>scope</con:name><con:value>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>resourceURI</con:name><con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:value></con:property><con:property><con:name>authorizationURI</con:name><con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/5</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD004 [NEG] Invalid Authorization Code Grant Access Token Request (code field-value pair contains a previously used authorization code)" searchProperties="true" id="b15099c2-2c8e-4569-b4ed-8e6be0ff849a"><con:description/><con:settings/><con:testStep type="groovy" name="Issue GET OAuth Token requests" id="51d52d0a-0580-4f35-a5c9-a52fb5bf3d83"><con:settings/><con:config><script>import java.net.*;
import java.io.*;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

int issueGET(String targetURL,String strToken){

	log.info("Issuing malformed GET " + targetURL);
	int iRespCode = 0;
	String urlParameters = "";
	
	URL url;
	
	HttpURLConnection connection = null;  
	
	try {
		//Create connection
		url = new URL(targetURL);
		connection = (HttpURLConnection)url.openConnection();
		connection.setRequestMethod("GET");
		connection.setInstanceFollowRedirects(false);
		connection.setRequestProperty("Authorization", "Basic " + strToken);
		connection.setRequestProperty("Accept", "application/json, application/*+json");
		
		//Get Response    
		InputStream is = connection.getInputStream();
		BufferedReader rd = new BufferedReader(new InputStreamReader(is));
		String line;
		StringBuffer response = new StringBuffer(); 
		while((line = rd.readLine()) != null) {
			response.append(line);
			response.append('\r');
		}
		rd.close();
			
		log.info "Response Code = " + connection.getResponseCode();

		iRespCode = connection.getResponseCode();
	
	} catch (Exception e) {
		log.info e.getMessage();
		return 0;
	} finally {
		if(connection != null) {
			log.info "Response = " + connection.getResponseCode();
			iRespCode = connection.getResponseCode();		
			connection.disconnect(); 
		}

		return iRespCode;
	}	
}

String strOAuthCodeReceivedValue = authCase.getPropertyValue("OAuthCodeReceivedValue");
String strRedirURI = authCase.getPropertyValue("redirect_uri");

// Convert Authorization Token Endpoint to use stunnel proxy
String strAuthorizationServerTokenEndpoint = "";
URL aURL = new URL(authCase.getPropertyValue("authorizationServerTokenEndpoint"));

log.info("OAD004 [NEG] Invalid Authorization Code Grant Access Token Request -- aURL: " + aURL);
log.info("OAD004 [NEG] Invalid Authorization Code Grant Access Token Request -- aURL.getPort(): " + aURL.getPort());
log.info("OAD004 [NEG] Invalid Authorization Code Grant Access Token Request -- strAuthorizationServerTokenEndpoint: " + "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath());
strAuthorizationServerTokenEndpoint = "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath();

log.info("OAD004 [NEG] Invalid Authorization Code Grant Access Token Request -- strRedirURI: " + strRedirURI);
log.info("OAD004 [NEG] Invalid Authorization Code Grant Access Token Request -- strOAuthCodeReceivedValue: " + strOAuthCodeReceivedValue);

String strAuthentication = authCase.getPropertyValue("client_id") + ":" + authCase.getPropertyValue("client_secret");

// Encode byte array into Base 64
String token = strAuthentication.bytes.encodeBase64().toString();

String strQryParams = "?redirect_uri=" + strRedirURI + "&amp;code=" + strOAuthCodeReceivedValue + "&amp;grant_type=authorization_code";
String strToken = token;

log.info("OAD004 [NEG] Invalid Authorization Code Grant Access Token Request -- strToken: " + strToken);
log.info("OAD004 [NEG] Invalid Authorization Code Grant Access Token Request -- strQryParams: " + strQryParams);

int iRespCode = issueGET(strAuthorizationServerTokenEndpoint + strQryParams,strToken);


if(iRespCode != 400) {
	log.error("Token request expected result code 400 but received:" + iRespCode);
	testRunner.fail("Token request expected result code 400 but received:" + iRespCode);
	return;						
}		


assert true;

</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>http://localhost:8080/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=third_party</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>http://localhost:8081/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value>OrBApu</con:value></con:property><con:property><con:name>tokenResponse</con:name><con:value>{"access_token":"06430590-2897-422a-9316-95fccb60e96d","token_type":"bearer","refresh_token":"1d8e2070-73ee-40f8-9549-dad626ead16a","expires_in":31535999,"scope":"FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13","resourceURI":"http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Subscription/5","authorizationURI":"http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/5"}
</con:value></con:property><con:property><con:name>access_token</con:name><con:value>06430590-2897-422a-9316-95fccb60e96d</con:value></con:property><con:property><con:name>token_type</con:name><con:value>bearer</con:value></con:property><con:property><con:name>refresh_token</con:name><con:value>1d8e2070-73ee-40f8-9549-dad626ead16a</con:value></con:property><con:property><con:name>expires_in</con:name><con:value>31535999</con:value></con:property><con:property><con:name>scope</con:name><con:value>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>resourceURI</con:name><con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:value></con:property><con:property><con:name>authorizationURI</con:name><con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/5</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD005 [POS] Successful Access Token Request" searchProperties="true" id="e85a65a3-3c40-4d23-9720-1830d5cb4b6f"><con:description/><con:settings/><con:testStep type="groovy" name="Ask User To expire Authorization" id="f2811d3d-f416-498d-8151-7e44d5c6d40b"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

String strDialog = "If the Data Custodian supports changing the default authorization expiration period, request the \
Data Custodian to set the default period to a short duration (i.e. one or two minutes).\r\n\
After the expiration period has been changed note the new authorization expiration period used and proceed.  Otherwise \
the Data Custodian will be requested to forcefully expire \r\n\
the authorization about to be created later in the test.\r\n\
\r\n\
If you do not wish to proceed, click No.\r\n\
To proceed, click Yes.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.error("[FB_14] Authorization and Authentication -- (OAD005 [POS] Successful Access Token Request) Testing terminated by user.");
	testRunner.fail("[FB_14] Authorization and Authentication -- (OAD005 [POS] Successful Access Token Request) Testing terminated by user.");
	return;	
}

assert true;</script></con:config></con:testStep><con:testStep type="groovy" name="Start Mock Service" id="f0cc43a0-62df-45b2-b96f-5d7f7f01c4c5"><con:settings/><con:config><script>//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

context.mockService = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty NEG B tests Authorization Mock Service");

//   ****************************************************************************************************************************
//   *
//   *    Verify all mock service global variables are valid
//   *
//   ****************************************************************************************************************************

// Verify mockPort variable is valid
if (authCase.getPropertyValue("mockPort") == "" || authCase.getPropertyValue("mockPort") == null) {

	log.info("OAD005 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	log.error("OAD005 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	testRunner.fail("OAD005 [NEG] Start Mock Service -- mockPort variable is blank or null -- " + authCase.getPropertyValue("mockPort"));
	return;
	
	} else {
		log.info("OAD005 [NEG] Start Mock Service -- mockPort variable: " + authCase.getPropertyValue("mockPort"));
	}

// Verify proxyOutPort variable is valid
if (authCase.getPropertyValue("proxyOutPort") == "" || authCase.getPropertyValue("proxyOutPort") == null) {

	log.info("OAD005 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	log.error("OAD005 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	testRunner.fail("OAD005 [NEG] Start Mock Service -- proxyOutPort variable is blank or null -- " + authCase.getPropertyValue("proxyOutPort"));
	return;
	
	} else {
		log.info("OAD005 [NEG] Start Mock Service -- proxyOutPort variable: " + authCase.getPropertyValue("proxyOutPort"));
	}

// Verify Oauth Authorization Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == "" || authCase.getPropertyValue("authorizationServerAuthorizationEndpoint") == null) {

	log.info("OAD005 [NEG] Start Mock Service -- Oauth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	log.error("OAD005 [NEG] Start Mock Service -- Oauth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	testRunner.fail("OAD005 [NEG] Start Mock Service -- Oauth Authorization Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	return;
	
	} else {
		log.info("OAD005 [NEG] Start Mock Service -- Oauth Authorization Endpoint variable: " + authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
	}

// Verify OAuth Authorization Redirect URI variable is valid
if (authCase.getPropertyValue("redirect_uri") == "" || authCase.getPropertyValue("redirect_uri") == null) {

	log.info("OAD005 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	log.error("OAD005 [NEG] Start Mock Service -- OAuth Authorization Redirect URI Endpoint variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	testRunner.fail("OAD005 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable is blank or null -- " + authCase.getPropertyValue("redirect_uri"));
	return;
	
	} else {
		log.info("OAD005 [NEG] Start Mock Service -- OAuth Authorization Redirect URI variable: " + authCase.getPropertyValue("redirect_uri"));
	}

// Verify OAuth Authorization Token Endpoint variable is valid
if (authCase.getPropertyValue("authorizationServerTokenEndpoint") == "" || authCase.getPropertyValue("authorizationServerTokenEndpoint") == null) {

	log.info("OAD005 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	log.error("OAD005 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	testRunner.fail("OAD005 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable is blank or null -- " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	return;
	
	} else {
		log.info("OAD005 [NEG] Start Mock Service -- OAuth Authorization Token Endpoint variable: " + authCase.getPropertyValue("authorizationServerTokenEndpoint"));
	}

// Verify Client ID variable is valid
if (authCase.getPropertyValue("client_id") == "" || authCase.getPropertyValue("client_id") == null) {

	log.info("OAD005 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	log.error("OAD005 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	testRunner.fail("OAD005 [NEG] Start Mock Service -- Client ID variable is blank or null -- " + authCase.getPropertyValue("client_id"));
	return;
	
	} else {
		log.info("OAD005 [NEG] Start Mock Service -- Client ID variable: " + authCase.getPropertyValue("client_id"));
	}

// Verify Client Secret variable is valid
if (authCase.getPropertyValue("client_secret") == "" || authCase.getPropertyValue("client_secret") == null) {

	log.info("Create Authorization and extract all information Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	log.error("Create Authorization and extract all information Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	testRunner.fail("Create Authorization and extract all information Start Mock Service -- Client Secret variable is blank or null -- " + authCase.getPropertyValue("client_secret"));
	return;
	
	} else {
		log.info("Create Authorization and extract all information Start Mock Service -- Client Secret variable: " + authCase.getPropertyValue("client_secret"));
	}

// Verify Data Custodian Scope Selection Screen URI is valid
if (authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == "" || authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI") == null) {

	log.info("OAD005 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	log.error("OAD005 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	testRunner.fail("OAD005 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable is blank or null -- " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	return;
	
	} else {
		log.info("OAD005 [NEG] Start Mock Service -- Data Custodian Scope Selection Screen URI variable: " + authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));
	}

//   ****************************************************************************************************************************
//   *
//   *    Initialize mock service variables
//   *
//   ****************************************************************************************************************************

context.mockService.setPropertyValue("tokenResponse","");
context.mockService.setPropertyValue("authorizationServerAuthorizationEndpoint",authCase.getPropertyValue("authorizationServerAuthorizationEndpoint"));
context.mockService.setPropertyValue("redirect_uri",authCase.getPropertyValue("redirect_uri"));
context.mockService.setPropertyValue("authorizationServerTokenEndpoint",authCase.getPropertyValue("authorizationServerTokenEndpoint"));
context.mockService.setPropertyValue("client_id",authCase.getPropertyValue("client_id"));
context.mockService.setPropertyValue("dataCustodianScopeSelectionScreenURI",authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI"));

context.mockService.setPort(authCase.getPropertyValue("mockPort").toInteger());
def runner = context.mockService.start();
context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Script will bring up browser to DC Scope selection screen" id="f314f733-b26a-4313-b984-1a3a448afb36"><con:settings/><con:config><script>import org.greenbutton.cmd.utils.DriverHelper;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

String strScopeSelURI = authCase.getPropertyValue("dataCustodianScopeSelectionScreenURI");

String parseBaseUrlFromURI(String strURI) throws Exception {
    URL aURL = new URL(strURI);

    if(aURL.getPort().equals(-1))
    {
	    log.info("OAD005 [NEG] Script will bring up browser to DC Scope selection screen -- aURL.getPort(): " + aURL.getPort());
	    log.info("OAD005 [NEG] Script will bring up browser to DC Scope selection screen -- strBaseUrl: " + aURL.getProtocol() + "://" +  aURL.getHost());
	    return aURL.getProtocol() + "://" +  aURL.getHost();
    }
    else
    {
	    log.info("OAD005 [NEG] Script will bring up browser to DC Scope selection screen -- aURL.getPort(): " + aURL.getPort());
	    log.info("OAD005 [NEG] Script will bring up browser to DC Scope selection screen -- strBaseUrl: " + aURL.getProtocol() + "://" +  aURL.getHost() + ":" + aURL.getPort());
	    return aURL.getProtocol() + "://" +  aURL.getHost() + ":" + aURL.getPort();
    }
}

String parseResource(String strURI) throws Exception {
    URL aURL = new URL(strURI);

    log.info("OAD005 [NEG] Script will bring up browser to DC Scope selection screen -- strResource: " + aURL.getPath());
    return aURL.getPath();
}

String strBaseUrl = parseBaseUrlFromURI(strScopeSelURI);
String strResource = parseResource(strScopeSelURI);

log.info "OAD005 [NEG] Script will bring up browser to DC Scope selection screen -- Scope select URI: " + strScopeSelURI;

DriverHelper driver = new DriverHelper(strBaseUrl,strResource,"",log);

context["driver"] = driver;

driver.get(strScopeSelURI);</script></con:config></con:testStep><con:testStep type="groovy" name="Wait for Authorization to Complete and End Browser session" id="ed4146e3-f783-4c9b-bee7-ef0245827d1b"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

result = ui.getDialogs().showInfoMessage("Perform logon, select scope and APPROVE authorization request. Click OK when done.", "");

context["driver"].quit();</script></con:config></con:testStep><con:testStep type="groovy" name="End Browser session" id="3680cc6f-388e-4274-bac8-6321c1b3eb11"><con:settings/><con:config><script>context["driver"].quit();
context["driver"] = null;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="d8107c28-154b-4432-a46b-1ae2ebc3b6b9"><con:settings/><con:config><script>context.mockRunner.stop();
context.mockRunner = null;
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Issue Successful GET Authorization Code" id="a533e4a2-4e1c-4aad-8de8-a60b607fa8d9"><con:settings/><con:config><script>import java.net.*;
import java.io.*;
import groovy.json.JsonSlurper;
import com.eviware.soapui.support.types.StringToStringMap;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

//	Create addressability to project variables
def project = testRunner.testCase.testSuite.project;

int issueGET(String targetURL,String strToken){

	log.info("Issuing GET " + targetURL);
	int iRespCode = 0;
	String urlParameters = "";
	String strTmpResp = "";
	
	URL url;
	
	HttpURLConnection connection = null;  
	
	try {
		//Create connection
		url = new URL(targetURL);
		connection = (HttpURLConnection)url.openConnection();
		connection.setRequestMethod("GET");
		connection.setInstanceFollowRedirects(false);
		connection.setRequestProperty("Authorization", "Basic " + strToken);
		connection.setRequestProperty("Accept", "application/json, application/*+json");
		
		//Get Response    
		InputStream is = connection.getInputStream();
		BufferedReader rd = new BufferedReader(new InputStreamReader(is));
		String line;
		StringBuffer response = new StringBuffer(); 
		while((line = rd.readLine()) != null) {
			response.append(line);
			response.append('\r');
		}
		rd.close();

		strTmpResp = response.toString();
		log.info "ResponseCode = " + connection.getResponseCode();
		log.info "Response = " + strTmpResp;
		

		iRespCode = connection.getResponseCode();
	
	} catch (Exception e) {
		log.info e.getMessage();
		return 0;
	} finally {
		if(connection != null) {
			log.info "ResponseCode = " + connection.getResponseCode();
			log.info "Response = " + strTmpResp;
			testRunner.testCase.setPropertyValue("tokenResponse",strTmpResp);
			iRespCode = connection.getResponseCode();		
			connection.disconnect(); 
		}

		return iRespCode;
	}	
}

String strRedirURI = authCase.getPropertyValue("redirect_uri");

// Retrieve received Authorization Code and save it globally
String strOAuthCodeReceivedValue = context.mockService.getPropertyValue("OAuthCodeReceivedValue");
authCase.setPropertyValue("OAuthCodeReceivedValue",strOAuthCodeReceivedValue);

// Convert Authorization Token Endpoint to use stunnel proxy
String strAuthorizationServerTokenEndpoint = "";
URL aURL = new URL(authCase.getPropertyValue("authorizationServerTokenEndpoint"));

log.debug("OAD005 [POS] Successful GET Authorization Code -- aURL: " + aURL);
log.debug("OAD005 [POS] Successful GET Authorization Code -- aURL.getPort(): " + aURL.getPort());
log.debug("OAD005 [POS] Successful GET Authorization Code -- strAuthorizationServerTokenEndpoint: " + "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath());
strAuthorizationServerTokenEndpoint = "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath();

log.info("OAD005 [POS] Successful GET Authorization Code -- strRedirURI: " + strRedirURI);
log.info("OAD005 [POS] Successful GET Authorization Code -- strOAuthCodeReceivedValue: " + strOAuthCodeReceivedValue);

String strAuthentication = authCase.getPropertyValue("client_id") + ":" + authCase.getPropertyValue("client_secret");

// Encode byte array into Base 64
String token = strAuthentication.bytes.encodeBase64().toString();

String strQryParams = "?redirect_uri=" + strRedirURI + "&amp;code=" + strOAuthCodeReceivedValue + "&amp;grant_type=authorization_code";
String strToken = token;

iRespCode = issueGET(strAuthorizationServerTokenEndpoint + strQryParams,strToken);
		
if(iRespCode != 200) {
	log.error("Failed GET Token request: response code:" + iRespCode);
	testRunner.fail("Failed GET Token request: response code:" + iRespCode);
	return;						
}		

String strTokenResponse = testRunner.testCase.getPropertyValue("tokenResponse");

if((strTokenResponse==null)||(strTokenResponse=="")){
	log.error("Failed GET Token request response body empty");
	testRunner.fail("Failed GET Token request response body empty");
	return;
}

def slurper = new JsonSlurper();
def tokenResponse = slurper.parseText(strTokenResponse);
def headers = new StringToStringMap()

log.info("OAD005 [POS] Successful GET Authorization Code -- access_token: " + tokenResponse.access_token);
log.info("OAD005 [POS] Successful GET Authorization Code -- token_type: " + tokenResponse.token_type);
log.info("OAD005 [POS] Successful GET Authorization Code -- refresh_token: " + tokenResponse.refresh_token);
log.info("OAD005 [POS] Successful GET Authorization Code -- expires_in: " + tokenResponse.expires_in);
log.info("OAD005 [POS] Successful GET Authorization Code -- scope: " + tokenResponse.scope);
log.info("OAD005 [POS] Successful GET Authorization Code -- resourceURI: " + tokenResponse.resourceURI);
log.info("OAD005 [POS] Successful GET Authorization Code -- authorizationURI: " + tokenResponse.authorizationURI);

if(tokenResponse.access_token==""){
	log.error("token response missing access_token");
	testRunner.fail("token response missing access_token");
	return;	
}
if(tokenResponse.token_type==""){
	log.error("token response missing token_type");
	testRunner.fail("token response missing token_type");
	return;	
}
if(tokenResponse.refresh_token==""){
	log.error("token response missing refresh_token");
	testRunner.fail("token response missing refresh_token");
	return;	
}
if(tokenResponse.expires_in==0){
	log.error("token response missing expires_in");
	testRunner.fail("token response missing expires_in");
	return;	
}
if(tokenResponse.scope==""){
	log.error("token response missing scope");
	testRunner.fail("token response missing scope");
	return;	
}
if(tokenResponse.resourceURI==""){
	log.error("token response missing resourceURI");
	testRunner.fail("token response missing resourceURI");
	return;	
}
if(tokenResponse.authorizationURI==""){
	log.error("token response missing authorizationURI");
	testRunner.fail("token response missing authorizationURI");
	return;	
}

authCase.setPropertyValue("access_token",tokenResponse.access_token);
authCase.setPropertyValue("token_type",tokenResponse.token_type);
authCase.setPropertyValue("refresh_token",tokenResponse.refresh_token);
authCase.setPropertyValue("expires_in",tokenResponse.expires_in.toString());
authCase.setPropertyValue("scope",tokenResponse.scope);
authCase.setPropertyValue("resourceURI",tokenResponse.resourceURI);
authCase.setPropertyValue("authorizationURI",tokenResponse.authorizationURI);

project.setPropertyValue("access_token",tokenResponse.access_token);

log.info("OAD005 [POS] Successful GET Authorization Code -- authCase.getPropertyValue('access_token'): " + authCase.getPropertyValue("access_token"));
log.info("OAD005 [POS] Successful GET Authorization Code -- authCase.getPropertyValue('token_type'): " + authCase.getPropertyValue("token_type"));
log.info("OAD005 [POS] Successful GET Authorization Code -- authCase.getPropertyValue('refresh_token'): " + authCase.getPropertyValue("refresh_token"));
log.info("OAD005 [POS] Successful GET Authorization Code -- authCase.getPropertyValue('expires_in'): " + authCase.getPropertyValue("expires_in"));
log.info("OAD005 [POS] Successful GET Authorization Code -- authCase.getPropertyValue('scope'): " + authCase.getPropertyValue("scope"));
log.info("OAD005 [POS] Successful GET Authorization Code -- authCase.getPropertyValue('resourceURI'): " + authCase.getPropertyValue("resourceURI"));
log.info("OAD005 [POS] Successful GET Authorization Code -- authCase.getPropertyValue('authorizationURI'): " + authCase.getPropertyValue("authorizationURI"));

log.info("OAD005 [POS] Successful GET Authorization Code -- project.getPropertyValue('access_token'): " + project.getPropertyValue("access_token"));

assert true;

</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>if(context.mockRunner != null){
	context.mockRunner.stop();
	context.mockRunner = null;
}

if(context["driver"] != null){
	context["driver"].quit();
	context["driver"] = null;	
}

log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>http://localhost:8080/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=third_party</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>http://localhost:8081/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value>8TmRz3</con:value></con:property><con:property><con:name>tokenResponse</con:name><con:value>{"access_token":"59ff6c86-7ebc-4220-b247-a6bcc4834613","token_type":"bearer","refresh_token":"9f2182e6-5270-4896-91ab-c542f5d18a21","expires_in":315359999,"scope":"FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13","resourceURI":"https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7","authorizationURI":"https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/7"}
</con:value></con:property><con:property><con:name>access_token</con:name><con:value>039121fb-af73-4669-b972-4b4f9fd2281a</con:value></con:property><con:property><con:name>token_type</con:name><con:value>bearer</con:value></con:property><con:property><con:name>refresh_token</con:name><con:value>d7ba0b90-70ea-41a1-82dc-3e9b6e8361c8</con:value></con:property><con:property><con:name>expires_in</con:name><con:value>119</con:value></con:property><con:property><con:name>scope</con:name><con:value>FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>resourceURI</con:name><con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Batch/Subscription/5</con:value></con:property><con:property><con:name>authorizationURI</con:name><con:value>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization/5</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD006 [NEG] Invalid Access Token Requests for ApplicationInformation" searchProperties="true" id="12b61b3f-7940-4953-8d46-715534e8ee86"><con:settings/><con:testStep type="restrequest" name="GET ApplicationInformation with incorrect Access Token &quot;client_access_token&quot;" id="462ea7ae-1c68-4eef-8f9c-94930aad47e5"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation with incorrect Access Token &quot;client_access_token&quot;" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">

					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="64003a3b-dd47-4e86-b288-b37c6f895346"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
				<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
				<con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>applicationInformationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GET ApplicationInformation with incorrect Access Token &quot;access_token&quot;" id="27620b0f-aa63-440a-94de-2ebd5f1dff54"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation with incorrect Access Token &quot;access_token&quot;" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="dd48c35c-050b-4f30-860d-58a9d623198d"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
				<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
				<con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="Bearer ${#Project#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>applicationInformationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GET ApplicationInformation with no Authorization Header" id="9b3d3fa6-6f00-4aa7-acde-8276a6996ab4"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation with no Authorization Header" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="76a2af73-43bb-4162-bd51-f2a62b70ba81"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
				<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
				<con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>applicationInformationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD007 [NEG] Invalid Access Token Requests for Authorization entry" searchProperties="true" id="ae7b834c-2b03-465a-b13c-8208ae0528c0"><con:settings/><con:testStep type="restrequest" name="GET Authorization by Id  with incorrect access token &quot;registration_access_token&quot;" id="f3ee40de-0843-4ab1-92f2-200602fceb43"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="GET Authorization by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization by Id  with incorrect access token &quot;registration_access_token&quot;" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="61ac84ff-c4c3-4510-a31c-55a24f7ae9a7"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>authorizationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GET Authorization by Id with incorrect access token &quot;access_token&quot;" id="70b0fc1a-b554-46af-9545-deda2137ee0c"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="GET Authorization by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization by Id with incorrect access token &quot;access_token&quot;" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="293a44c1-1268-408b-9eba-795f3a96d58c"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>authorizationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GET Authorization by Id with no Authorization Header" id="2fd09656-3c6a-4902-8ecd-298e48b38662"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="GET Authorization by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization by Id with no Authorization Header" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ec89f88a-7398-4c5e-9488-13c24becdedc"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>authorizationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD008 [NEG] Invalid Access Token Requests for Authorization feed" searchProperties="true" id="b02ab7a7-d7ef-4b00-8f1c-f136da1e81bb"><con:settings/><con:testStep type="restrequest" name="GET Authorization Feed with incorrect access token &quot;registration_access_token&quot;" id="e0d056c2-8d60-41fa-a7ab-24d1dd9fd04b"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization" methodName="GET Authorization Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization Feed with incorrect access token &quot;registration_access_token&quot;" mediaType="application/json" id="78372758-3493-4c0e-925a-ffff58d1cb41">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		<con:setting id="AutoInferSchemas">false</con:setting></con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="562409c6-b85e-4186-8765-2b740c0cbe39"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GET Authorization Feed with incorrect access token &quot;access_token&quot;" id="4e62c878-964c-4311-add1-90321e9c7665"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization" methodName="GET Authorization Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization Feed with incorrect access token &quot;access_token&quot;" mediaType="application/json" id="78372758-3493-4c0e-925a-ffff58d1cb41">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		<con:setting id="AutoInferSchemas">false</con:setting></con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="c647ddda-72ef-493a-851b-a4dc9d2a2fd6"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GET Authorization Feed with no Authorization Header" id="0e8e63e0-49bb-47d1-89ea-c40be2bbf76b"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization" methodName="GET Authorization Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization Feed with no Authorization Header" mediaType="application/json" id="78372758-3493-4c0e-925a-ffff58d1cb41">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		<con:setting id="AutoInferSchemas">false</con:setting></con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="f540bf18-371d-4bda-9b2e-3f182e02d372"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD009 [NEG] Invalid Access Token Request (GET RESTful Batch/Subscription request contains registration_access_token)" searchProperties="true" id="f07529bb-9d3e-4f0f-a4aa-60be839b6702"><con:settings/><con:testStep type="groovy" name="Extract information from authorization for registration access token" id="cffeef24-4c55-497a-9480-97dc2f280b4d"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def authResourceURI;
def genericGetMockServerURI;
def headers = new StringToStringMap();
def project = testRunner.testCase.testSuite.project
def propCreateAuthResults = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def resourceURI;

propTestStep = context.testCase.getTestStepByName("GET Resource URI with invalid token - registration_access_token");
service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");
genericGetServiceMockPort = service.getPropertyValue("mockPort");

// Convert URL to proxy version
public String GetProxiedUrl(String uri, String proxy)
{
	def project = testRunner.testCase.testSuite.project;
	URL aURL = new URL(uri);
	String urlproxy="";

	// check for valid url -- at least protocol and host
	if ( (aURL.getProtocol() == null) || (aURL.getHost()==null ))
	{
		testRunner.fail("unparsable url: "+ uri);	
	}
	else
	{
		//String proxyOutPort = project.getPropertyValue("proxyOutPort");
		log.info "Port = " + aURL.getPort();
		if (aURL.getQuery() != null) {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath() + "?"+ aURL.getQuery();
		}
		else {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath();
		}
		log.info "Converted = " + urlproxy;
	}

	return urlproxy;
}

/////////////////////////////////////////////////////////
//
// 	Main Script
//
/////////////////////////////////////////////////////////

// Convert Resource URI to use GenericGetMockServer proxy
resourceURI = propCreateAuthResults.getPropertyValue("resourceURI");
log.info("Data Custodian Resource URI: " + resourceURI);
tempResourceURI = resourceURI;
i = tempResourceURI.indexOf("espi/1_1/resource");
if (i>0) {
	// Strip off everything up to the resource
	tempResourceURI = tempResourceURI.substring(0,i-1);
	log.info("Data Custodian Service Endpoint: " + tempResourceURI);

	genericGetMockServerURI = GetProxiedUrl(tempResourceURI, genericGetServiceMockPort);
//	project.setPropertyValue("ServiceEndpoint",tempResourceURI);
	log.info("genericGetMockServerURI: " + genericGetMockServerURI);

	tempResourceURI = resourceURI;
	authResourceURI = tempResourceURI.substring(tempResourceURI.indexOf("espi/1_1/resource"), tempResourceURI.length());
//	project.setPropertyValue("resourceUri",tempResourceURI);
	log.info("authResourceURI: " + authResourceURI);	
	
} else {
	// Resource URI is improperly formed
	log.error("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
	testRunner.fail("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
}

//propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
propTestStep.setPropertyValue("Endpoint",genericGetMockServerURI + "/" + authResourceURI);
log.info("TestStep Endpoint: " + propTestStep.getPropertyValue("Endpoint"));

headers.put("Authorization","Bearer " + testRunner.testCase.testSuite.project.getPropertyValue("registration_access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with invalid token - registration_access_token" id="1f7a25f2-5942-442e-8cd4-d794bf02dbcb"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with invalid token - registration_access_token" id="7e0ce768-b7c3-4761-89a3-3ef6c6b514bd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer 0ce73dd5-4d93-4015-aec6-50a9ce862781"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>null/null</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b7d6602d-3abf-4ef6-9551-432d1d99748b"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Extract information from authorization for client access token" id="c354976a-44ca-4f45-b9fc-dc570dd167b7"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def authResourceURI;
def genericGetMockServerURI;
def headers = new StringToStringMap();
def project = testRunner.testCase.testSuite.project
def propCreateAuthResults = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def resourceURI;

propTestStep = context.testCase.getTestStepByName("GET Resource URI with invalid token - client_access_token");
service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");
genericGetServiceMockPort = service.getPropertyValue("mockPort");

// Convert URL to proxy version
public String GetProxiedUrl(String uri, String proxy)
{
	def project = testRunner.testCase.testSuite.project;
	URL aURL = new URL(uri);
	String urlproxy="";

	// check for valid url -- at least protocol and host
	if ( (aURL.getProtocol() == null) || (aURL.getHost()==null ))
	{
		testRunner.fail("unparsable url: "+ uri);	
	}
	else
	{
		//String proxyOutPort = project.getPropertyValue("proxyOutPort");
		log.info "Port = " + aURL.getPort();
		if (aURL.getQuery() != null) {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath() + "?"+ aURL.getQuery();
		}
		else {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath();
		}
		log.info "Converted = " + urlproxy;
	}

	return urlproxy;
}

/////////////////////////////////////////////////////////
//
// 	Main Script
//
/////////////////////////////////////////////////////////

// Convert Resource URI to use GenericGetMockServer proxy
resourceURI = propCreateAuthResults.getPropertyValue("resourceURI");
log.info("Data Custodian Resource URI: " + resourceURI);
tempResourceURI = resourceURI;
i = tempResourceURI.indexOf("espi/1_1/resource");
if (i>0) {
	// Strip off everything up to the resource
	tempResourceURI = tempResourceURI.substring(0,i-1);
	log.info("Data Custodian Service Endpoint: " + tempResourceURI);

	genericGetMockServerURI = GetProxiedUrl(tempResourceURI, genericGetServiceMockPort);
//	project.setPropertyValue("ServiceEndpoint",tempResourceURI);
	log.info("genericGetMockServerURI: " + genericGetMockServerURI);

	tempResourceURI = resourceURI;
	authResourceURI = tempResourceURI.substring(tempResourceURI.indexOf("espi/1_1/resource"), tempResourceURI.length());
//	project.setPropertyValue("resourceUri",tempResourceURI);
	log.info("authResourceURI: " + authResourceURI);	
	
} else {
	// Resource URI is improperly formed
	log.error("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
	testRunner.fail("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
}

//propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
propTestStep.setPropertyValue("Endpoint",genericGetMockServerURI + "/" + authResourceURI);
log.info("TestStep Endpoint: " + propTestStep.getPropertyValue("Endpoint"));

headers.put("Authorization","Bearer " + testRunner.testCase.testSuite.project.getPropertyValue("client_access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with invalid token - client_access_token" id="290b25d3-4f23-4749-b71d-bc1ebb20242c"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with invalid token - client_access_token" id="0f6fd866-deee-40a4-abc0-8e5e03a7a6a6" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer 760a4b10-dfce-42ad-81c2-f26496461254"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://localhost:8086/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="0da9db86-144d-43c6-bd69-73d6a296d0bf"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Extract information from authorization no Authorization Header" id="3cebf954-a715-427b-9d52-a61c62a4e9ff"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def authResourceURI;
def genericGetMockServerURI;
def headers = new StringToStringMap();
def project = testRunner.testCase.testSuite.project
def propCreateAuthResults = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def resourceURI;

propTestStep = context.testCase.getTestStepByName("GET Resource URI with invalid no Authorization Header");
service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");
genericGetServiceMockPort = service.getPropertyValue("mockPort");

// Convert URL to proxy version
public String GetProxiedUrl(String uri, String proxy)
{
	def project = testRunner.testCase.testSuite.project;
	URL aURL = new URL(uri);
	String urlproxy="";

	// check for valid url -- at least protocol and host
	if ( (aURL.getProtocol() == null) || (aURL.getHost()==null ))
	{
		testRunner.fail("unparsable url: "+ uri);	
	}
	else
	{
		//String proxyOutPort = project.getPropertyValue("proxyOutPort");
		log.info "Port = " + aURL.getPort();
		if (aURL.getQuery() != null) {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath() + "?"+ aURL.getQuery();
		}
		else {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath();
		}
		log.info "Converted = " + urlproxy;
	}

	return urlproxy;
}

/////////////////////////////////////////////////////////
//
// 	Main Script
//
/////////////////////////////////////////////////////////

// Convert Resource URI to use GenericGetMockServer proxy
resourceURI = propCreateAuthResults.getPropertyValue("resourceURI");
log.info("Data Custodian Resource URI: " + resourceURI);
tempResourceURI = resourceURI;
i = tempResourceURI.indexOf("espi/1_1/resource");
if (i>0) {
	// Strip off everything up to the resource
	tempResourceURI = tempResourceURI.substring(0,i-1);
	log.info("Data Custodian Service Endpoint: " + tempResourceURI);

	genericGetMockServerURI = GetProxiedUrl(tempResourceURI, genericGetServiceMockPort);
//	project.setPropertyValue("ServiceEndpoint",tempResourceURI);
	log.info("genericGetMockServerURI: " + genericGetMockServerURI);

	tempResourceURI = resourceURI;
	authResourceURI = tempResourceURI.substring(tempResourceURI.indexOf("espi/1_1/resource"), tempResourceURI.length());
//	project.setPropertyValue("resourceUri",tempResourceURI);
	log.info("authResourceURI: " + authResourceURI);	
	
} else {
	// Resource URI is improperly formed
	log.error("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
	testRunner.fail("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
}

//propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
propTestStep.setPropertyValue("Endpoint",genericGetMockServerURI + "/" + authResourceURI);
log.info("TestStep Endpoint: " + propTestStep.getPropertyValue("Endpoint"));

//headers.put("Authorization","Bearer " + testRunner.testCase.testSuite.project.getPropertyValue("client_access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with invalid no Authorization Header" id="3b093be8-4658-414b-88ed-0933be1debcf"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with invalid no Authorization Header" id="41a41664-70df-4b61-9766-4a4985321b39" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Content-Type" value="Application/atom+xml" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://localhost:8086/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="43e11d14-daf7-4f80-8f97-d377a030b928"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD010 [NEG] Invalid Access Token Request (GET RESTful ReadServiceStatus request contain invalid access tokens)" searchProperties="true" id="2b179321-2f69-48d8-928d-daf4a9914977"><con:settings/><con:testStep type="restrequest" name="GET ServiceStatus with incorrect access token registration_access_token" id="45031e99-3602-42dd-bd9e-188413e48413">
		<con:settings/>
		<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadServiceStatus" methodName="GET ServiceStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="GET ServiceStatus with incorrect access token registration_access_token" mediaType="application/json" id="60e1ff43-7b61-4173-9448-051a3c6ddf48">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="859581ec-35e0-499b-b44f-94d8e16a8fb1">
			<con:configuration><codes>403</codes></con:configuration>
		</con:assertion>
		
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest>
</con:config>
</con:testStep><con:testStep type="restrequest" name="GET ServiceStatus with incorrect access token access_token" id="0443c063-202e-4f51-9a3f-d644913a3227">
		<con:settings/>
		<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadServiceStatus" methodName="GET ServiceStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="GET ServiceStatus with incorrect access token access_token" mediaType="application/json" id="60e1ff43-7b61-4173-9448-051a3c6ddf48">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="e4048da7-f9ed-4ec4-8b22-ce843e0edb7c">
			<con:configuration><codes>403</codes></con:configuration>
		</con:assertion>
		
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest>
</con:config>
</con:testStep><con:testStep type="restrequest" name="GET ServiceStatus with no Authorization Header" id="d28ef7fc-ae7a-49fe-b73c-149f876aaa14">
		<con:settings/>
		<con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ReadServiceStatus" methodName="GET ServiceStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<con:restRequest name="GET ServiceStatus with no Authorization Header" mediaType="application/json" id="60e1ff43-7b61-4173-9448-051a3c6ddf48">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ReadServiceStatus</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="caf7f84c-e98e-42ea-9ed5-ecaaeaaae131">
			<con:configuration><codes>403</codes></con:configuration>
		</con:assertion>
		
		<con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest>
</con:config>
</con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD011 [NEG] Malformed Refresh Token Requests" searchProperties="true" id="ded1c582-6be2-4ca4-b85a-9dbfc56183b3"><con:settings/><con:testStep type="groovy" name="Issue malformed refresh token requests" id="4a4ca5ca-aa85-4749-9881-e31cb613c77f"><con:settings/><con:config><script><![CDATA[import java.net.*;
import java.io.*;

//	Create addressability to global variables
def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

int issueGET(String targetURL,String strToken){

	log.info("OAD011 [NEG] Malformed Refresh Token Request -- Issuing malformed GET " + targetURL);
	int iRespCode = 0;
	String urlParameters = "";
	
	URL url;
	
	HttpURLConnection connection = null;  
	
	try {
		//Create connection
		url = new URL(targetURL);
		connection = (HttpURLConnection)url.openConnection();
		connection.setRequestMethod("GET");
		connection.setInstanceFollowRedirects(false);
		connection.setRequestProperty("Authorization", "Basic " + strToken);
		connection.setRequestProperty("Accept", "application/json, application/*+json");
		
		//Get Response    
		InputStream is = connection.getInputStream();
		BufferedReader rd = new BufferedReader(new InputStreamReader(is));
		String line;
		StringBuffer response = new StringBuffer(); 
		while((line = rd.readLine()) != null) {
			response.append(line);
			response.append('\r');
		}
		rd.close();
		//log.info response.toString();
		
		log.info "Response = " + connection.getResponseCode();

		iRespCode = connection.getResponseCode();
	
	} catch (Exception e) {
		log.info e.getMessage();
		return 0;
	} finally {
		if(connection != null) {
			log.info "Response = " + connection.getResponseCode();
			iRespCode = connection.getResponseCode();		
			connection.disconnect(); 
		}

		return iRespCode;
	}	
}

String strScope = authCase.getPropertyValue("scope");
String strRefreshToken = authCase.getPropertyValue("refresh_token");
String strClientId= authCase.getPropertyValue("client_id");
String strClientSecret = authCase.getPropertyValue("client_secret");


if (strRefreshToken == null || strRefreshToken == "") {
	log.error("Failed 'Malformed Refresh Token Request: refresh_token is null or blank");
	testRunner.fail("Failed 'Malformed Refresh Token Request: refresh_token is null or blank");
	return;	
}

// Convert Authorization Token Endpoint to use stunnel proxy
String strAuthorizationServerTokenEndpoint = "";
URL aURL = new URL(authCase.getPropertyValue("authorizationServerTokenEndpoint"));

log.info("OAD011 [NEG] Malformed Refresh Token Request -- aURL: " + aURL);
log.info("OAD011 [NEG] Malformed Refresh Token Request -- aURL.getPort(): " + aURL.getPort());
log.info("OAD011 [NEG] Malformed Refresh Token Request -- strAuthorizationServerTokenEndpoint: " + "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath());
strAuthorizationServerTokenEndpoint = "http://" +  aURL.getHost() + ":" + authCase.getPropertyValue("proxyOutPort") + aURL.getPath();

log.info("OAD011 [NEG] Malformed Refresh Token Request -- strAuthorizationServerTokenEndpoint: " + strAuthorizationServerTokenEndpoint);
log.info("OAD011 [NEG] Malformed Refresh Token Request -- client_id: " + strClientId);
log.info("OAD011 [NEG] Malformed Refresh Token Request -- client_secret: " + strClientSecret);

String strAuthentication = strClientId + ":" + strClientSecret;

// Encode byte array into Base 64
String strToken = strAuthentication.bytes.encodeBase64().toString();

log.info("OAD011 [NEG] Malformed Refresh Token Request -- Original Authentication: " + strAuthentication);
log.info("OAD011 [NEG] Malformed Refresh Token Request -- Base 64 Encoded Authentication: " + strToken);

// Sample Refresh Token Request valid query parameter
//String strQryParams = "?grant_type=refresh_token" + "&refresho_token=" + strRefreshToken + "&scope=" + strScope;

int iTestID= 0;
while(true) {
	// loop through different malformation tests
	String strTestName = "";
	String strQryParams = "?grant_type=refresh_token" + "&refresh_token=" + strRefreshToken + "&scope=" + strScope;

	int iRespCode = 0;
	int iExpectedRespCode = 0;

	switch(iTestID) {
		case 0:
			strTestName = "Malformed Refresh Token Request (No grant_type= field-value pair)";
			strQryParams = "?refresh_token=" + strRefreshToken + "&scope=" + strScope;			
			iExpectedRespCode = 400;
			break;
		case 1:
			strTestName = "Malformed Refresh Token Request (No refresh_token= field-value pair)";
			strQryParams = "?grant_type=refresh_token" + "&scope=" + strScope;			
			iExpectedRespCode = 400;
			break;
		case 2:
			strTestName = "Invalid Refresh Token Request (Contents of scope= field-value pair does not match 'scope=' used in original access token request)";
			strQryParams = "?grant_type=refresh_token" + "&refresh_token=" + strRefreshToken + "&scope=Read/Write";			
			iExpectedRespCode = 400;
			break;
		default:
			break;
	}

	// 0 indicates skip test
	if(iExpectedRespCode != 0) {
		log.info("==================================================================================================================");		
		log.info("testing: " + strTestName);
		iRespCode = iRespCode = issueGET(strAuthorizationServerTokenEndpoint + strQryParams,strToken);
		
		if(iRespCode != iExpectedRespCode) {
			log.error("Failed malformed refresh token request: " + strTestName + " expected response code:" + iExpectedRespCode + " but received:" + iRespCode);
			testRunner.fail("Failed malformed refresh token request: " + strTestName + " expected response code:" + iExpectedRespCode + " but received:" + iRespCode);
			return;						
		}		
	} else {
		log.info("OAD011 [NEG] Malformed Refresh Token Request -- skipping: " + strTestName);
	}	

	iTestID++;
	if(iTestID > 2){
		break;
	}
}	



assert true;

]]></script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD012 [POS] Valid refresh_token request" searchProperties="true" id="f45a7dc4-3dab-4615-99c3-42b6153fdea3"><con:settings/><con:testStep type="groovy" name="Save old access token" id="b5ea7c6d-15a3-4439-a7bb-21d230bb2f7c"><con:settings/><con:config><script>
def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propCreateAuthResults.setPropertyValue("old_access_token",propCreateAuthResults.getPropertyValue("access_token"));</script></con:config></con:testStep><con:testStep type="groovy" name="Transfer properties to Request" id="56ed3dd2-9912-4d08-90ec-7d3b5e9eee9d"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

String strAuthorizationServerTokenEndpoint = propCreateAuthResults.getPropertyValue("authorizationServerTokenEndpoint");
String strRefreshToken = propCreateAuthResults.getPropertyValue("refresh_token");
String strScope = propCreateAuthResults.getPropertyValue("scope");
String strQryParams = "?grant_type=refresh_token" + "&amp;refresh_token=" + strRefreshToken + "&amp;scope=" + strScope;

propTestStep = context.testCase.getTestStepByName("Issue Refresh Token Request");
def headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",strAuthorizationServerTokenEndpoint + strQryParams);

String strAuthentication = propCreateAuthResults.getPropertyValue("client_id") + ":" + propCreateAuthResults.getPropertyValue("client_secret");

// Encode byte array into Base 64
String strToken = strAuthentication.bytes.encodeBase64().toString();

log.info("Original Authentication: " + strAuthentication);
log.info("Base 64 Encoded Authentication: " + strToken);

headers.put("Authorization","Basic " + strToken);
headers.put("Accept","application/json, application/*+json");
propTestStep.testRequest.setRequestHeaders(headers);</script></con:config></con:testStep><con:testStep type="httprequest" name="Issue Refresh Token Request" id="1262fb12-8637-4f01-9ddb-1c30c90bacca"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Issue Refresh Token Request" id="ac1c3c99-f244-4c0b-80f1-9a625c9dc566" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic c3VyZmFjZV90cDpzZWNyZXQ="/>
  &lt;con:entry key="Accept" value="application/json, application/*+json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/oauth/token?grant_type=refresh_token&amp;refresh_token=null&amp;scope=FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fe43d96e-8045-4ffa-b07c-0b6cf3bf04a2"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="74425cd7-ff3f-4642-8f4d-c7905142c2a2"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.response.contentAsString;

def slurper = new JsonSlurper();
def tokenResponse = slurper.parseText(response);

log.info("access_token = " + tokenResponse.access_token);
log.info("token_type = " + tokenResponse.token_type);
log.info("refresh_token = " + tokenResponse.refresh_token);
log.info("expires_in = " + tokenResponse.expires_in);
log.info("scope = " + tokenResponse.scope);
log.info("resourceURI = " + tokenResponse.resourceURI);
log.info("authorizationURI = " + tokenResponse.authorizationURI);

if(tokenResponse.access_token==null){
	assert false;
}

if(tokenResponse.token_type==null){
	assert false;
}

if(tokenResponse.refresh_token==null){
	assert false;
}

if(tokenResponse.expires_in==null){
	assert false;
}

if(tokenResponse.scope==null){
	assert false;
}

if(tokenResponse.resourceURI==null){
	assert false;
}

if(tokenResponse.authorizationURI==null){
	assert false;
}


</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="extract and save authorization information" id="1df59688-d3ed-4510-ad08-f52d4f01dd8f"><con:settings/><con:config><script>
import groovy.json.JsonSlurper;

def ResponseMessage = testRunner.testCase.testSteps["Issue Refresh Token Request"].testRequest.response.contentAsString;


def slurper = new JsonSlurper();
def tokenResponse = slurper.parseText(ResponseMessage);


def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];


log.info("OAD012 [POS] Valid refresh_token request -- access_token: " + tokenResponse.access_token);
log.info("OAD012 [POS] Valid refresh_token request -- token_type: " + tokenResponse.token_type);
log.info("OAD012 [POS] Valid refresh_token request -- refresh_token: " + tokenResponse.refresh_token);
log.info("OAD012 [POS] Valid refresh_token request -- expires_in: " + tokenResponse.expires_in);
log.info("OAD012 [POS] Valid refresh_token request -- scope: " + tokenResponse.scope);
log.info("OAD012 [POS] Valid refresh_token request -- resourceURI: " + tokenResponse.resourceURI);
log.info("OAD012 [POS] Valid refresh_token request -- authorizationURI: " + tokenResponse.authorizationURI);

propCreateAuthResults.setPropertyValue("access_token",tokenResponse.access_token);
propCreateAuthResults.setPropertyValue("token_type",tokenResponse.token_type);
propCreateAuthResults.setPropertyValue("refresh_token",tokenResponse.refresh_token);
propCreateAuthResults.setPropertyValue("expires_in",tokenResponse.expires_in.toString());
propCreateAuthResults.setPropertyValue("scope",tokenResponse.scope);
propCreateAuthResults.setPropertyValue("resourceURI",tokenResponse.resourceURI);
propCreateAuthResults.setPropertyValue("authorizationURI",tokenResponse.authorizationURI);
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD013 [NEG][old A] Valid refresh_token request invalidates prior access_token" searchProperties="true" id="4f1a20e4-8937-4a72-a4d3-35956e1559e0"><con:description/><con:settings/><con:testStep type="groovy" name="Extract information from authorization" id="5593dc25-aef2-493d-972e-e912cfe19188"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def authResourceURI;
def genericGetMockServerURI;
def headers = new StringToStringMap();
def project = testRunner.testCase.testSuite.project
def propCreateAuthResults = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def resourceURI;

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");
genericGetServiceMockPort = service.getPropertyValue("mockPort");

// Convert URL to proxy version
public String GetProxiedUrl(String uri, String proxy)
{
	def project = testRunner.testCase.testSuite.project;
	URL aURL = new URL(uri);
	String urlproxy="";

	// check for valid url -- at least protocol and host
	if ( (aURL.getProtocol() == null) || (aURL.getHost()==null ))
	{
		testRunner.fail("unparsable url: "+ uri);	
	}
	else
	{
		//String proxyOutPort = project.getPropertyValue("proxyOutPort");
		log.info "Port = " + aURL.getPort();
		if (aURL.getQuery() != null) {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath() + "?"+ aURL.getQuery();
		}
		else {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath();
		}
		log.info "Converted = " + urlproxy;
	}

	return urlproxy;
}

/////////////////////////////////////////////////////////
//
// 	Main Script
//
/////////////////////////////////////////////////////////

// Convert Resource URI to use GenericGetMockServer proxy
resourceURI = propCreateAuthResults.getPropertyValue("resourceURI");
log.info("Data Custodian Resource URI: " + resourceURI);
tempResourceURI = resourceURI;
i = tempResourceURI.indexOf("espi/1_1/resource");
if (i>0) {
	// Strip off everything up to the resource
	tempResourceURI = tempResourceURI.substring(0,i-1);
	log.info("Data Custodian Service Endpoint: " + tempResourceURI);

	genericGetMockServerURI = GetProxiedUrl(tempResourceURI, genericGetServiceMockPort);
//	project.setPropertyValue("ServiceEndpoint",tempResourceURI);
	log.info("genericGetMockServerURI: " + genericGetMockServerURI);

	tempResourceURI = resourceURI;
	authResourceURI = tempResourceURI.substring(tempResourceURI.indexOf("espi/1_1/resource"), tempResourceURI.length());
//	project.setPropertyValue("resourceUri",tempResourceURI);
	log.info("authResourceURI: " + authResourceURI);	
	
} else {
	// Resource URI is improperly formed
	log.error("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
	testRunner.fail("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
}

//propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
propTestStep.setPropertyValue("Endpoint",genericGetMockServerURI + "/" + authResourceURI);
log.info("TestStep Endpoint: " + propTestStep.getPropertyValue("Endpoint"));

headers.put("Authorization","Bearer " + testRunner.testCase.testSuite.project.getPropertyValue("old_access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI" id="696a3a5b-eca2-455b-a640-c9fb7771b160"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI" id="906e45eb-c342-4057-b30a-6e9dee28e1e2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer null"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://localhost:8086/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="6858de9d-d648-4132-bb21-fd727a59a1e1"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()

testRunner.testCase.setPropertyValue("testsPerformed","");

def mapFBsTested = [:];
context.mapFBsTested = mapFBsTested;
</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>extracted_scope_sel_uri</con:name><con:value>http://localhost:8080/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=third_party</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>http://localhost:8081/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>testsPerformed</con:name><con:value/></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD014 [NEG] Malformed Client Credentials Grant Access Token Requests" searchProperties="true" id="6124850c-a445-466c-9453-4616b31220d9"><con:settings/><con:testStep type="groovy" name="Issue malformed client credentials access token requests" id="ac82382c-7750-44b6-afcb-9bb1ae661227"><con:settings/><con:config><script>import java.net.*;
import java.io.*;

int issueGET(String targetURL,String strToken){

	log.info("Issuing malformed GET " + targetURL);
	int iRespCode = 0;
	String urlParameters = "";
	
	URL url;
	
	HttpURLConnection connection = null;  
	
	try {
		//Create connection
		url = new URL(targetURL);
		connection = (HttpURLConnection)url.openConnection();
		connection.setRequestMethod("GET");
		connection.setInstanceFollowRedirects(false);
		connection.setRequestProperty("Authorization", "Basic " + strToken);
		connection.setRequestProperty("Accept", "application/json, application/*+json");
		
		//Get Response    
		InputStream is = connection.getInputStream();
		BufferedReader rd = new BufferedReader(new InputStreamReader(is));
		String line;
		StringBuffer response = new StringBuffer(); 
		while((line = rd.readLine()) != null) {
			response.append(line);
			response.append('\r');
		}
		rd.close();
		//log.info response.toString();
		
		log.info "Response = " + connection.getResponseCode();

		iRespCode = connection.getResponseCode();
	
	} catch (Exception e) {
		log.info e.getMessage();
		return 0;
	} finally {
		if(connection != null) {
			log.info "Response = " + connection.getResponseCode();
			iRespCode = connection.getResponseCode();		
			connection.disconnect(); 
		}

		return iRespCode;
	}	
}

def project = testRunner.testCase.testSuite.project;

String strAuthorizationServerTokenEndpoint = testRunner.testCase.getPropertyValue("authorizationServerTokenEndpoint");
String strScope = testRunner.testCase.getPropertyValue("scope");

log.info ("authorizationServerTokenEndpoint: " + strAuthorizationServerTokenEndpoint);
log.info ("scope: " + strScope);

// Sample good Access Token Client Credentials Request query parameter
//String strQryParams = "?grant_type=client_credentials" + "&amp;scope=FB=34_35";

int iTestID= 0;
while(true) {
	// loop through different malformation tests
	String strTestName = "";
	String strQryParams = "?grant_type=client_credentials" + "&amp;scope=FB=34_35";
//	String strToken = "dGhpcmRfcGFydHk6c2VjcmV0";

	String strAuthentication = project.getPropertyValue("client_id") + ":" + project.getPropertyValue("client_secret");

	// Encode byte array into Base 64
	String strToken = strAuthentication.bytes.encodeBase64().toString();

	log.info("Original Authentication: " + strAuthentication);
	log.info("Base 64 Encoded Authentication: " + strToken);
	 
	int iRespCode = 0;
	int iExpectedRespCode = 0;

	switch(iTestID) {
		case 0:
			strTestName = "Malformed Client Credentials Grant Access Token Request (No grant_type= field-value pair)";
			strQryParams = "?scope=FB=34_35";			
			iExpectedRespCode = 400;
			break;
		case 1:
			strTestName = "Malformed Client Credentials Grant Access Token Request (contents of scope= field-value pair does not match contents of Application Information structure 'scope' field)";
			strQryParams = "?grant_type=client_credentials" + "&amp;scope=FB=read/write";			
			iExpectedRespCode = 400;
			break;
		default:
			break;
	}

	// 0 indicates skip test
	if(iExpectedRespCode != 0) {
		log.info("==================================================================================================================");		
		log.info("testing: " + strTestName);
		iRespCode = iRespCode = issueGET(strAuthorizationServerTokenEndpoint + strQryParams,strToken);
		
		if(iRespCode != iExpectedRespCode) {
			log.error("Failed malformed client credential grant access token request: " + strTestName + " expected response code:" + iExpectedRespCode + " but received:" + iRespCode);
			testRunner.fail("Failed malformed client credential grant access token request: " + strTestName + " expected response code:" + iExpectedRespCode + " but received:" + iRespCode);
			return;						
		}		
	} else {
		log.info("skipping: " + strTestName);
	}	

	iTestID++;
	if(iTestID > 1){
		break;
	}
}	



assert true;

</script></con:config></con:testStep><con:testStep type="restrequest" name="GET ApplicationInformation and verify grant_types" id="01073163-cbf9-47c3-ad91-3cfef316ee31"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation and verify grant_types" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="78acb532-523c-45f9-853b-a88a286b8919"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema validation" id="488b7ada-04f2-43bd-9413-3d566e13534b"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="ApplicationInformation must contains fields" id="f62f6af4-6d66-47a4-982c-9ebbb8eaec89"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianId and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianApplicationStatus and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:thirdPartyNotifyUri and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:authorizationServerAuthorizationEndpoint and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:authorizationServerTokenEndpoint and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianBulkRequestURI and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianResourceEndpoint and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:thirdPartyScopeSelectionScreenURI and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:thirdPartyUserPortalScreenURI and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:client_secret and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:client_name and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:client_uri and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:client_id and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:software_id and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:software_version and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:client_id_issued_at and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:client_secret_expires_at and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:token_endpoint_auth_method and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:scope,grant_types and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:response_types and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:registration_client_uri and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:registration_access_token and
/ns3:entry/ns3:content/espi:ApplicationInformation/espi:dataCustodianScopeSelectionScreen</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="grant_types must contain a value of client_credentials" id="4a5fab15-c9c0-4207-ae96-f65e79ca68ce"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
(/ns3:entry/ns3:content/espi:ApplicationInformation/espi:grant_types='client_credentials')</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
				<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
				<con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>applicationInformationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>scope</con:name><con:value>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>grant_types</con:name><con:value>refresh_token</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD015 [POS] Valid JSON structure returned during Data Custodian Client Credentials Grant Access Token Request processing" searchProperties="true" id="a8ca9692-6570-4cdb-ab51-31f9fcb43659"><con:settings/><con:testStep type="groovy" name="Transfer authorization properties" id="b663ad08-ae05-41bf-b6b3-839902dd0717"><con:settings/><con:config><script>def authCase = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

testRunner.testCase.setPropertyValue("scope",authCase.getPropertyValue("scope"));</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>scope</con:name><con:value>FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OAD016 [NEG] Invalid Access Token Request (Access Token contained in the Authorization Header has expired)" searchProperties="true" id="7e5de04b-965c-47be-a2b7-b4ee577ba4fd"><con:settings/><con:testStep type="groovy" name="Ask User To expire Authorization" id="6dc016a5-0479-44bc-8bb9-5a093696fd4f"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

String strDialog = "If the previously created authorization has been set to expire please wait for the expiration period before continuing.\r\n\
Otherwise please instruct the Data Custodian to cause the authorization to expire now and continue this test after this has been performed.\r\n\
\r\n\
If you do not wish to proceed click No.\r\n\
To proceed click Yes.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.error("[FB_14] Authorization and Authentication (OAD016 [NEG] Invalid Access Token Request (Access Token contained in the Authorization Header has expired) Testing terminated by user.");
	testRunner.fail("[FB_14] Authorization and Authentication (OAD016 [NEG] Invalid Access Token Request (Access Token contained in the Authorization Header has expired) Testing terminated by user.");
	return;	
}

assert true;</script></con:config></con:testStep><con:testStep type="groovy" name="Extract information from authorization for access_token" id="84909737-fd1d-41f7-af0e-ab3a1fdc9426"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def authResourceURI;
def genericGetMockServerURI;
def headers = new StringToStringMap();
def project = testRunner.testCase.testSuite.project
def propCreateAuthResults = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def resourceURI;

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
service = testRunner.testCase.testSuite.project.getRestMockServiceByName("GenericGetService");
genericGetServiceMockPort = service.getPropertyValue("mockPort");

// Convert URL to proxy version
public String GetProxiedUrl(String uri, String proxy)
{
	def project = testRunner.testCase.testSuite.project;
	URL aURL = new URL(uri);
	String urlproxy="";

	// check for valid url -- at least protocol and host
	if ( (aURL.getProtocol() == null) || (aURL.getHost()==null ))
	{
		testRunner.fail("unparsable url: "+ uri);	
	}
	else
	{
		//String proxyOutPort = project.getPropertyValue("proxyOutPort");
		log.info "Port = " + aURL.getPort();
		if (aURL.getQuery() != null) {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath() + "?"+ aURL.getQuery();
		}
		else {
			urlproxy = "http://" +  "localhost" + ":"+proxy + aURL.getPath();
		}
		log.info "Converted = " + urlproxy;
	}

	return urlproxy;
}

/////////////////////////////////////////////////////////
//
// 	Main Script
//
/////////////////////////////////////////////////////////

// Convert Resource URI to use GenericGetMockServer proxy
resourceURI = propCreateAuthResults.getPropertyValue("resourceURI");
log.info("Data Custodian Resource URI: " + resourceURI);
tempResourceURI = resourceURI;
i = tempResourceURI.indexOf("espi/1_1/resource");
if (i>0) {
	// Strip off everything up to the resource
	tempResourceURI = tempResourceURI.substring(0,i-1);
	log.info("Data Custodian Service Endpoint: " + tempResourceURI);

	genericGetMockServerURI = GetProxiedUrl(tempResourceURI, genericGetServiceMockPort);
//	project.setPropertyValue("ServiceEndpoint",tempResourceURI);
	log.info("genericGetMockServerURI: " + genericGetMockServerURI);

	tempResourceURI = resourceURI;
	authResourceURI = tempResourceURI.substring(tempResourceURI.indexOf("espi/1_1/resource"), tempResourceURI.length());
//	project.setPropertyValue("resourceUri",tempResourceURI);
	log.info("authResourceURI: " + authResourceURI);	
	
} else {
	// Resource URI is improperly formed
	log.error("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
	testRunner.fail("Data Custodian Authorization Resource URI is improperly formed: " + resourceURI);
}

//propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
propTestStep.setPropertyValue("Endpoint",genericGetMockServerURI + "/" + authResourceURI);
log.info("TestStep Endpoint: " + propTestStep.getPropertyValue("Endpoint"));

headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI" id="7833b236-0569-4845-a351-1e6e154ee057"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI" id="91e703ef-4710-480e-bfad-da8a2bc3cf6a" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer 03ec2b3a-8073-4d04-a426-99c62301b4ca"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://localhost:8086/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="797c5efb-fa4e-482e-b8ea-e9dc2e9e94f4"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property></con:properties></con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FUTURE]*[FB_19] Partial Update Data" id="d27adaf9-fad4-4ebd-b4dd-2d7af1a11f65">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="[FB_19] Partial Update Data" searchProperties="true" id="395adfd8-27de-4152-ac79-a898f5305634">
		<con:settings/>
		<con:properties/>
	</con:testCase>
	<con:properties/>
</con:testSuite>
<con:testSuite name="[FB_37] Query Parameters" id="a0a3badc-2426-4111-9f53-ced14e0fa592">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="QRY_001 [POS][A] Query Parameters - published-min/max" searchProperties="true" id="3daee975-e73f-4a02-9e49-15262c473322"><con:description/><con:settings/><con:testStep type="calltestcase" name="Run TestCase Create Authorization" id="55b572e1-ed1c-40e1-9b1f-e80d547d5341"><con:settings/><con:config xsi:type="con:RunTestCaseStep" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>00812f7a-b4ce-4782-bf13-f27a979f6d00</con:targetTestCase><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>redirect_uri</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>access_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>resourceURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>token_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>refresh_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>expires_in</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>scope</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>error</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_id</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>old_access_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_secret</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerProxy</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>resourceServerProxy</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>mockPort</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>proxyOutPort</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerAuthorizationEndpointProxy</con:name></con:property><con:property><con:name>authorizationServerTokenEndpointProxy</con:name></con:property><con:property><con:name>client_access_token</con:name></con:property><con:property><con:name>resourceServer</con:name></con:property><con:property><con:name>registration_access_token</con:name></con:property></con:properties><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Extract information from authorization" id="725fd908-9d65-4a8b-bc15-3c4b4c1fae5a"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
def headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
log.info("[FB_37] Query Parameters (QRY_001 [POS] [A] Query Parameters - published-min-max -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint");
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI" id="d0a25ac8-9369-4018-af8c-e36fa4da37e1"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer b9759c79-54fd-48d8-89f1-95443e10cf74"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="8c21e275-db8c-4f21-b4a2-1963d06d5599"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;

context.ResponseBody = response;

log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Filter Set of Interval Blocks" id="a655037a-485c-4f34-856d-e8a4d8a86f2d"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;
import com.eviware.soapui.support.XmlHolder;
import com.eviware.soapui.support.types.StringToStringMap;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context);



def holder;

// the following code allows us to temporarily bypass openESPI as a reference implementation
// in order to test the following code, since openESPI currently (1/14/2015) 
// does not handle published and updated time stamps properly
// This code will "bypass" the true response from OpenESPI and will use a test data file

// String strFile = groovyUtils.projectPath + "/sampledata/resource.xml";
// holder = groovyUtils.getXmlHolder(new File(strFile).text);


// this code uses the actual retreived response

log.info("[FB_37] Query Parameters (QRY_001 [POS][A] Query Parameters - published-min/max -- Filter Set of Interval Blocks) Extracting info from: " + context.ResponseBody);
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid response body: " + e.toString());
	testRunner.fail("Invalid response body.");
	return;
}


holder.declareNamespace( 'espi', 'http://naesb.org/espi');
holder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

String strCount = "0";
try{
	strCount = holder.getNodeValue("count(//espi:IntervalBlock)")
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid response body: " + e.toString());
	testRunner.fail("Invalid response body. Cannot query response.");
	return;
}

if(strCount.toInteger()&lt;4){
	log.error("Resource must contain at least 3 interval blocks");
	testRunner.fail("Resource must contain at least 3 interval blocks");
	return;	
}

def entryNodes = holder.getDomNodes("//espi:IntervalBlock/../../atom:published");

List listStarts = [];

for(entryNode in entryNodes) {
	String strPublished = entryNode.getFirstChild().getNodeValue();
	Date datePublished =  new Date().parse("yyyy-MM-dd'T'HH:mm:ss'Z'",strPublished);
//	log.info "published: " + strPublished + " date: " + datePublished.format("yyyy-MM-dd'T'HH:mm:ss'Z'");
	listStarts.add(datePublished);
}

listStarts.sort();

String strMin = listStarts.getAt(1).format("yyyy-MM-dd'T'HH:mm:ss'Z'");
String strMax = listStarts.getAt(listStarts.size-2).format("yyyy-MM-dd'T'HH:mm:ss'Z'");

if(strMin.equals(strMax)){
	log.error("Cannot conduct test as the resource response does not contain a testable range of IntervalBlock published dates.");
	testRunner.fail("Cannot conduct test as the resource response does not contain a testable range of IntervalBlock published dates.");
	return;
}

/*
log.info("size:" + listStarts.size);
log.info("start:" + listStarts.getAt(0).format("yyyy-MM-dd'T'HH:mm:ss'Z'"));
log.info("start+1:" + strMin);
log.info("end:" + listStarts.getAt(listStarts.size-1).format("yyyy-MM-dd'T'HH:mm:ss'Z'"));
log.info("end-1:" + strMax);
*/

context.expectedCount = listStarts.size - 2;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Filtered Resource URI");
def headers = new StringToStringMap();

String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=" + strMin + "&amp;published-max=" + strMax;

propTestStep.setPropertyValue("Endpoint",strEndpoint);
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);



return

/*
 * TMP: code used to get intervalBlock Time stamps
 * for reference only
 * 
def entryNodes = holder.getDomNodes("//espi:IntervalBlock/espi:interval/espi:start");
for(entryNode in entryNodes) {
	String strStart = entryNode.getFirstChild().getNodeValue();
	def holderParent = new XmlHolder(entryNode.getParentNode());
	holderParent.declareNamespace( 'espi', 'http://naesb.org/espi');
	
	String strDuration = holderParent.getDomNode("//espi:duration").getFirstChild().getNodeValue();
	long lDuration = strDuration.toInteger();
	
	long lEnd = strStart.toInteger() + lDuration;
	Date dateEnd = new Date( ((long)lEnd) * 1000 )
	
	//log.info "start: " + strStart + "Date: " + dateStart.format("yyyy-MM-dd HH:mm:ss.S");
	log.info "end Date: " + dateEnd.format("yyyy-MM-dd HH:mm:ss");
}
*/


</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Filtered Resource URI" id="26b74608-0f80-4bbc-8bc3-670701427bab"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Filtered Resource URI" id="ee75590d-ed36-45dd-b8b0-5f1430de39dd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer b9759c79-54fd-48d8-89f1-95443e10cf74"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7?published-min=2012-03-03T05:00:00Z&amp;published-max=2012-03-14T04:00:00Z</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fe93bd64-f25e-47e3-9d79-eaedf4970e58"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="07379694-c59e-4124-a0f6-5980d72ea38e"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;

context.ResponseBody = response;

log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Verify Filtered Set of Interval Blocks" id="3ec5cca0-cb41-4756-8821-fb87f7788689"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;
import com.eviware.soapui.support.XmlHolder;
import com.eviware.soapui.support.types.StringToStringMap;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context);



def holder;

// the following code allows us to temporarily bypass openESPI as a reference implementation
// in order to test the following code, since openESPI currently (1/14/2015) 
// does not handle published and updated time stamps properly
// This code will "bypass" the true response from OpenESPI and will use a test data file

// String strFile = groovyUtils.projectPath + "/sampledata/resource_filteredMinMax.xml";
// holder = groovyUtils.getXmlHolder(new File(strFile).text);


// this code uses the actual retreived response

log.info("extracting info from: " + context.ResponseBody);
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid response body: " + e.toString());
	testRunner.fail("Invalid response body.");
	return;
}

holder.declareNamespace( 'espi', 'http://naesb.org/espi');
holder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

String strCount = "0";
try{
	strCount = holder.getNodeValue("count(//espi:IntervalBlock)")
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid response body: " + e.toString());
	testRunner.fail("Invalid response body. Cannot query response.");
	return;
}

if(strCount.toInteger()&lt;1){
	log.error("Resource must contain at least 1 interval block");
	testRunner.fail("Resource must contain at least 1 interval block");
	return;	
}

if(strCount.toInteger()!=context.expectedCount){
	log.error("Filtered response does not contain the expected  number of IntervalBlocks. Expected:" + context.expectedCount + " Actual:" + strCount);
	testRunner.fail("Filtered response does not contain the expected  number of IntervalBlocks. Expected:" + context.expectedCount + " Actual:" + strCount);
}

return
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()

testRunner.testCase.setPropertyValue("testsPerformed","");

def mapFBsTested = [:];
context.mapFBsTested = mapFBsTested;
</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>extracted_scope_sel_uri</con:name><con:value>http://localhost:8080/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=third_party</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>http://localhost:8081/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>testsPerformed</con:name><con:value/></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="QRY_002 [POS][A] Query Parameters - updated-min/max" searchProperties="true" id="d4faef9f-ddb4-4d5a-b65e-e7c7000aa5e8"><con:description/><con:settings/><con:testStep type="calltestcase" name="Run TestCase Create Authorization" id="bf25b095-f5ac-478c-a160-071a57c76cf5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>00812f7a-b4ce-4782-bf13-f27a979f6d00</con:targetTestCase><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>redirect_uri</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>access_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>resourceURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>token_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>refresh_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>expires_in</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>scope</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>error</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_id</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>old_access_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_secret</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerProxy</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>resourceServerProxy</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>mockPort</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>proxyOutPort</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerAuthorizationEndpointProxy</con:name></con:property><con:property><con:name>authorizationServerTokenEndpointProxy</con:name></con:property><con:property><con:name>client_access_token</con:name></con:property><con:property><con:name>resourceServer</con:name></con:property><con:property><con:name>registration_access_token</con:name></con:property></con:properties><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Extract information from authorization" id="c68213d8-20a7-4eaa-8f6a-ada47b15b38b"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
def headers = new StringToStringMap();

propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI" id="2a1bfb94-0679-4b24-aad9-fdfc8cb81ad2"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI" id="e7b7cc31-caa4-478c-8229-c01afceffeaf" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer b9759c79-54fd-48d8-89f1-95443e10cf74"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="0c95678a-cf15-4c48-a460-1c22ca369f59"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="fe842a44-72e3-4f52-a947-f9418a0407f3"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;

context.ResponseBody = response;

log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Filter Set of Interval Blocks" id="2006161f-b729-46aa-95be-4af1fde9c6a7"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;
import com.eviware.soapui.support.XmlHolder;
import com.eviware.soapui.support.types.StringToStringMap;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context);



def holder;

// the following code allows us to temporarily bypass openESPI as a reference implementation
// in order to test the following code, since openESPI currently (1/14/2015) 
// does not handle published and updated time stamps properly
// This code will "bypass" the true response from OpenESPI and will use a test data file

//String strFile = groovyUtils.projectPath + "/sampledata/resource.xml";
//holder = groovyUtils.getXmlHolder(new File(strFile).text);


// this code uses the actual retreived response

log.info("extracting info from: " + context.ResponseBody);
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid response body: " + e.toString());
	testRunner.fail("Invalid response body.");
	return;
}


holder.declareNamespace( 'espi', 'http://naesb.org/espi');
holder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

String strCount = "0";
try{
	strCount = holder.getNodeValue("count(//espi:IntervalBlock)")
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid response body: " + e.toString());
	testRunner.fail("Invalid response body. Cannot query response.");
	return;
}

if(strCount.toInteger()&lt;4){
	log.error("Resource must contain at least 3 interval blocks");
	testRunner.fail("Resource must contain at least 3 interval blocks");
	return;	
}

def entryNodes = holder.getDomNodes("//espi:IntervalBlock/../../atom:updated");

List listStarts = [];

for(entryNode in entryNodes) {
	String strPublished = entryNode.getFirstChild().getNodeValue();
	Date datePublished =  new Date().parse("yyyy-MM-dd'T'HH:mm:ss'Z'",strPublished);
//	log.info "published: " + strPublished + " date: " + datePublished.format("yyyy-MM-dd'T'HH:mm:ss'Z'");
	listStarts.add(datePublished);
}

listStarts.sort();

String strMin = listStarts.getAt(1).format("yyyy-MM-dd'T'HH:mm:ss'Z'");
String strMax = listStarts.getAt(listStarts.size-2).format("yyyy-MM-dd'T'HH:mm:ss'Z'");

if(strMin.equals(strMax)){
	log.error("Cannot conduct test as the resource response does not contain a testable range of IntervalBlock updated dates.");
	testRunner.fail("Cannot conduct test as the resource response does not contain a testable range of IntervalBlock updated dates.");
	return;
}

/*
log.info("size:" + listStarts.size);
log.info("start:" + listStarts.getAt(0).format("yyyy-MM-dd'T'HH:mm:ss'Z'"));
log.info("start+1:" + strMin);
log.info("end:" + listStarts.getAt(listStarts.size-1).format("yyyy-MM-dd'T'HH:mm:ss'Z'"));
log.info("end-1:" + strMax);
*/

context.expectedCount = listStarts.size - 2;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Filtered Resource URI");
def headers = new StringToStringMap();

String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?updated-min=" + strMin + "&amp;updated-max=" + strMax;

propTestStep.setPropertyValue("Endpoint",strEndpoint);
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);



return

/*
 * TMP: code used to get intervalBlock Time stamps
 * for reference only
 * 
def entryNodes = holder.getDomNodes("//espi:IntervalBlock/espi:interval/espi:start");
for(entryNode in entryNodes) {
	String strStart = entryNode.getFirstChild().getNodeValue();
	def holderParent = new XmlHolder(entryNode.getParentNode());
	holderParent.declareNamespace( 'espi', 'http://naesb.org/espi');
	
	String strDuration = holderParent.getDomNode("//espi:duration").getFirstChild().getNodeValue();
	long lDuration = strDuration.toInteger();
	
	long lEnd = strStart.toInteger() + lDuration;
	Date dateEnd = new Date( ((long)lEnd) * 1000 )
	
	//log.info "start: " + strStart + "Date: " + dateStart.format("yyyy-MM-dd HH:mm:ss.S");
	log.info "end Date: " + dateEnd.format("yyyy-MM-dd HH:mm:ss");
}
*/


</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Filtered Resource URI" id="26c5fbcf-67ad-49f1-8bdd-26613edf3d10"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Filtered Resource URI" id="839f41c5-b5a9-4ee8-9a94-151a7518bfe0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer b9759c79-54fd-48d8-89f1-95443e10cf74"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/7?updated-min=2012-03-03T05:00:00Z&amp;updated-max=2012-03-14T04:00:00Z</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="c546ee6a-d45f-4a5d-b25f-95f2cf4f80d2"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="748d6611-1638-4740-a908-08255ecad730"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;

context.ResponseBody = response;

log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Verify Filtered Set of Interval Blocks" id="6fac550c-a358-48f7-9364-814daa31f13a"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;
import com.eviware.soapui.support.XmlHolder;
import com.eviware.soapui.support.types.StringToStringMap;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context);



def holder;

// the following code allows us to temporarily bypass openESPI as a reference implementation
// in order to test the following code, since openESPI currently (1/14/2015) 
// does not handle published and updated time stamps properly
// This code will "bypass" the true response from OpenESPI and will use a test data file

// String strFile = groovyUtils.projectPath + "/sampledata/resource_filteredMinMax.xml";
// holder = groovyUtils.getXmlHolder(new File(strFile).text);


// this code uses the actual retreived response

log.info("extracting info from: " + context.ResponseBody);
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid response body: " + e.toString());
	testRunner.fail("Invalid response body.");
	return;
}

holder.declareNamespace( 'espi', 'http://naesb.org/espi');
holder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

String strCount = "0";
try{
	strCount = holder.getNodeValue("count(//espi:IntervalBlock)")
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid response body: " + e.toString());
	testRunner.fail("Invalid response body. Cannot query response.");
	return;
}

if(strCount.toInteger()&lt;1){
	log.error("Resource must contain at least 1 interval block");
	testRunner.fail("Resource must contain at least 1 interval block");
	return;	
}

if(strCount.toInteger()!=context.expectedCount){
	log.error("Filtered response does not contain the expected  number of IntervalBlocks. Expected:" + context.expectedCount + " Actual:" + strCount);
	testRunner.fail("Filtered response does not contain the expected  number of IntervalBlocks. Expected:" + context.expectedCount + " Actual:" + strCount);
}

return
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()

testRunner.testCase.setPropertyValue("testsPerformed","");

def mapFBsTested = [:];
context.mapFBsTested = mapFBsTested;
</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties><con:property><con:name>extracted_scope_sel_uri</con:name><con:value>http://localhost:8080/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=third_party</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>http://localhost:8081/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>testsPerformed</con:name><con:value/></con:property></con:properties></con:testCase><con:testCase id="e0a0ba6e-7442-4248-803e-c2f50d78e6da" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="QRY_003 [NEG][A] Query Parameters - Verify Query Parameter Contents are Validated" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Run TestCase Create Authorization" id="4f58f18b-5338-4cb5-98ff-ebc07efac32b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>00812f7a-b4ce-4782-bf13-f27a979f6d00</con:targetTestCase><con:properties><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>redirect_uri</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>access_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>resourceURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationURI</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>token_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>refresh_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>expires_in</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>scope</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>error</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_id</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>old_access_token</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>client_secret</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerProxy</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>resourceServerProxy</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>mockPort</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>proxyOutPort</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>authorizationServerAuthorizationEndpointProxy</con:name></con:property><con:property><con:name>authorizationServerTokenEndpointProxy</con:name></con:property><con:property><con:name>client_access_token</con:name></con:property><con:property><con:name>resourceServer</con:name></con:property><con:property><con:name>registration_access_token</con:name></con:property></con:properties><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Alpha published-min Value" id="14d567df-28e7-476c-8e1d-b3a3324b2422"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Alpha published-min Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=All";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Alpha published-min Value" id="f0a0167d-6491-4880-adb5-f97069dd30a3"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Alpha published-min Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer d68f0ebc-5f8b-4a8d-9564-919cb82d6576"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/9?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Invalid Date published-min Value" id="9b655b2e-44a8-464e-83d4-db6cf1cb180b"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Invalid Date published-min Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=03/01/2016";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Invalid Date published-min Value" id="5fc9ef61-a792-48aa-a71a-e62efad9e37f"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Invalid Date published-min Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=03/01/2016</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Alpha published-max Value" id="bad43d8f-a9c5-46a9-91bd-fcaea306ed58"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Alpha published-max Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=All";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Alpha published-max Value" id="ed70ff2d-2ee5-4f14-a864-bf8ea3458bb2"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Alpha published-max Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Invalid Date published-max Value" id="c8992c36-5460-499a-b6b7-1dce60032728"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Invalid Date published-max Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=03/01/2016";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Invalid Date published-max Value" id="6e6f122d-eff0-43e9-a7a8-8293ee4a6a2f"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Invalid Date published-max Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Alpha updated-min Value" id="2b329dab-c450-4527-92a0-0d048862c324"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Alpha updated-min Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=All";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Alpha updated-min Value" id="2c319c68-fb74-43c4-a8b4-d7be04f5e6a8"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Alpha updated-min Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Invalid Date updated-min Value" id="aa57a780-c12c-424d-aad9-fdba287d7d8e"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Invalid Date updated-min Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=03/01/2016";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Invalid Date updated-min Value" id="e4a87e5c-e3d3-49de-9ba0-dd6ef928f598"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Invalid Date updated-min Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Alpha updated-max Value" id="d6a18155-b2b2-4f29-8126-4774f799eaef"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Alpha updated-max Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=All";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Alpha updated-max Value" id="53712b51-a4e0-46f8-b85a-808bf8b500ce"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Alpha updated-max Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Invalid Date updated-max Value" id="0b563ac0-1718-4d17-8bb3-15c2f9bb161c"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Invalid Date updated-max Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=03/01/2016";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Invalid Date updated-max Value" id="ceecd4c5-beec-4622-a9bf-eea3d4148d3b"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Invalid Date updated-max Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Alpha max-results Value" id="1d10c376-2699-4081-994c-6b532cee9519"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Alpha max-results Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=All";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Alpha max-results Value" id="6c8f54f5-b8ac-4a96-977c-fc42bc4a0282"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Alpha max-results Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Alpha start-index Value" id="de804fe8-b3e6-4d87-902f-5698977b0a52"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Alpha start-index Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=All";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Alpha start-index Value" id="fb4fbf3c-8369-464b-9b4d-fbd8b0529caa"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Alpha start-index Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Create URI Value for GET Resource URI with Alpha depth Value" id="5b51953b-9dd0-48e8-812e-544ea52c5787"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI with Alpha depth Value");
def headers = new StringToStringMap();


String strEndpoint = propCreateAuthResults.getPropertyValue("resourceURI");
strEndpoint = strEndpoint + "?published-min=All";

propTestStep.setPropertyValue("Endpoint",strEndpoint);
log.info("[FB_37] Query Parameters (QRY_003 [POS] [A] Query Parameters - Verify Query Paraneter Contents are Verified -- Extract information from authorization) resourceURI: " + propTestStep.getPropertyValue("Endpoint"));
headers.put("Authorization","Bearer " + propCreateAuthResults.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);
</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI with Alpha depth Value" id="686e7177-9e6c-432c-941d-b8fcc27db450"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI with Alpha depth Value" id="f7cb0019-d01d-4a23-9d5a-03c0ad1ac907" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer e61efcd0-b34a-4183-974d-47bc76ef8358"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/8?published-min=All</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="242b98a4-e03e-4073-bbc5-6fd0c9077d2a"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties/></con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FUTURE]*[FB_33] DataCustodian Management Interface" id="4f33442c-daf6-4730-bcbc-8c5c5f134962">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="[FB_33] DataCustodian Management Interface" searchProperties="true" id="cc324d40-14aa-43de-b544-f43d12e6d022">
		<con:settings/>
		<con:testStep type="groovy" name="Feature: DC Admin Access" id="fb282fdd-4dca-4228-b853-b0db7a3b1642">
			<con:settings/>
			<con:config>
				<script>//******************************************************************************************************************
					//******************************************************************************************************************
					log.info("Feature: DC Admin Access");
					//******************************************************************************************************************
					//******************************************************************************************************************
				</script>
			</con:config>
		</con:testStep>
		<con:properties/>
	</con:testCase>
	<con:properties/>
</con:testSuite>
<con:testSuite name="[FB_34] SFTP for Bulk" id="403ba35c-d11c-4173-bf0f-2eaaf4d73b93">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="SFTP_001 SFTP for BULK notification" searchProperties="true" id="da90c8ed-9f6c-48c8-980a-60508be6c8f0">
		<con:settings/>
		<con:testStep type="restrequest" name="GET Authorization Feed" id="c7193edc-62be-442b-a071-6e0a014805d3"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization" methodName="GET Authorization Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization Feed" mediaType="application/json" id="78372758-3493-4c0e-925a-ffff58d1cb41">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		<con:setting id="AutoInferSchemas">false</con:setting></con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="495a6224-bce0-415a-9c51-37232d811861"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Start Mock Service" id="16a03f52-958d-42e3-9827-9a88349df910"><con:settings/><con:config><script>// Verify BatchListNotification Mock Service is NOT running
if(testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner() != null) {

	log.info("[FB_34] SFTP for bulk (Start Mock Service) BatchListNotification Mock Service is running!");
	log.info("[FB_34] SFTP for bulk (Start Mock Service) Stopping BatchListNotification Mock Service!");
	testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner().stop();
	
}

def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

service.setPropertyValue("rxNotificationBody","");

def runner = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service").start();

context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="manualTestStep" name="Have DataCustodian Issue a Notification message with Batch/Bulk information" id="817bdfe9-ccb6-498a-826b-4e66edf41217"><con:description>From the DataCustodian under test please manually initiate a Notification of Batch/Bulk.
After the notification is issued please indicate "Pass" on this test step "test status" and click OK.
</con:description><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:expectedResult>Pass</con:expectedResult></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="3bf4597e-4be1-41d2-b9da-25226da0afd4"><con:settings/><con:config><script>context.mockRunner.stop();
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate notification" id="53db505d-7657-4c7e-8205-3361a765ff45"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

String strNotificationBody =  service.getPropertyValue("rxNotificationBody");
log.info("notification Body:" + strNotificationBody);

if(!strNotificationBody) {
	log.error("No notification received or empty notification body.");
	testRunner.fail("No notification received or empty notification body.");
	return;	
}

def holder;
try{
	holder = groovyUtils.getXmlHolder(strNotificationBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("Invalid notification body:" + e.toString());
	testRunner.fail("Invalid notification body.");
	return;
}


String strNotificationURI = holder.getNodeValue("//espi:BatchList/espi:resources")
log.info("notification URI:" + strNotificationURI);

if(!strNotificationURI) {
	log.error("Invalid URI supplied in the notification.");
	testRunner.fail("Invalid URI supplied in the notification.");
	return;	
}

if(strNotificationURI.startsWith("http://")){
	
	String strHost = strNotificationURI.substring("http://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	log.error("Notification must be an SFTP resource.");
	testRunner.fail("Notification must be an SFTP resource.");
	return;
	
} else if(strNotificationURI.startsWith("https://")){

	String strHost = strNotificationURI.substring("https://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	log.error("Notification must be an SFTP resource.");
	testRunner.fail("Notification must be an SFTP resource.");
	return;
	
} else if(strNotificationURI.startsWith("sftp://")){

	String strHost = strNotificationURI.substring("sftp://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	strHost = strHost.substring("sftp://".length());
	context.strHost = strHost;
	context.strResource = strResource;
		
} else {
	log.error("Invalid URI supplied in the notification.");
	testRunner.fail("Invalid URI supplied in the notification.");
	return;	
}
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue SFTP get" id="10879b9c-15de-4e61-9514-f81f1437274d"><con:settings/><con:config><script>import groovy.io.FileType;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath

public boolean RunCommand(String cmd)
{
	def doCmd;

	log.info("exec: " + cmd);
	log.info("os  : " + System.properties['os.name']);
	
	if (System.properties['os.name'].toLowerCase().contains('windows')) {
		doCmd = ["cmd", "/c",cmd].execute();
	} else {
		doCmd = ["bash", "-c",cmd].execute();
	}
	
	doCmd.waitFor();
	
	if(doCmd.exitValue()!=0) {
		
		log.error "return code: ${ doCmd.exitValue()}"
		log.error "stderr: ${doCmd.err.text}"
		log.error "stdout: ${doCmd.in.text}"
	
		return false;
	}
	return true;
}

transferDir = groovyUtils.projectPath + "/../transferred";

def list = []
def dir = new File(transferDir);
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

if(list.size()>0){
	
	cmdRm = 'rm ' + transferDir +  '/*';
	
	if(RunCommand(cmdRm) != true) {
		log.error("could not clear transfer directory");
		testRunner.fail("could not clear transfer directory");
		return;
	} 
}

cmdGet = 'sftp ' + context.strHost + ':' + context.strResource + ' ' + transferDir;

if(RunCommand(cmdGet) != true) {
	log.error("could not issue sftp get");
	testRunner.fail("could not issue sftp get");
	return;
}

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate retrieved files against schema" id="e0e394b8-8b5f-4a0e-a470-96154dee176c"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(groovyUtils.projectPath + "/etc/atom.xsd");
schemaDocuments[1] = new StreamSource(groovyUtils.projectPath + "/etc/espiDerived.xsd");

def list = []
def dir = new File(groovyUtils.projectPath + "/../transferred")
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

boolean bFailed = false;
list.each {
	log.info "Validating:" + it.path;

	def holder;
	try{
		holder = groovyUtils.getXmlHolder(new File(it.path).text);
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("Invalid response body: " + e.toString());
		bFailed = true;
	}

	holder.declareNamespace( 'espi', 'http://naesb.org/espi');
	holder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

	String strCount = "0";
	try{
		strCount = holder.getNodeValue("count(//atom:feed)")
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("Invalid response body. Cannot query response: " +  e.toString());
		bFailed = true;
	}

	if(strCount.toInteger()!=1){
		log.error("Response does not contain one feed.");
		bFailed = true;
	}
	
	strCount = "0";
	try{
		strCount = holder.getNodeValue("count(//atom:entry)")
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("Invalid response body. Cannot query response: " +  e.toString());
		bFailed = true;
	}

	if(strCount.toInteger()&lt;1){
		log.error("Response does not contain at least one entry.");
		bFailed = true;
	}
	
	Source instanceDocument = new StreamSource(new FileReader(it.path));
	
	SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
	Schema s = sf.newSchema(schemaDocuments);
	Validator v = s.newValidator();

	try {
		v.validate(instanceDocument);
	} catch(org.xml.sax.SAXParseException e) {
		log.error e.toString();
		bFailed = true;
	}
}

if(bFailed) {
	testRunner.fail("One or more response files failed validation. See script log for details.");
}

return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Validate data received" id="1c9b6270-ee04-4b12-b1c5-254e33be23eb"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;
import com.eviware.soapui.support.XmlHolder;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)


def Authorizations;
try{
	Authorizations = groovyUtils.getXmlHolder(testRunner.testCase.testSteps["GET Authorization Feed"].testRequest.response.responseContent);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("could not obtain Authorizations XML " + e.toString());
	testRunner.fail("One or more response files failed validation. See script log for details.");
	return;
}

Authorizations.declareNamespace( 'espi', 'http://naesb.org/espi');
Authorizations.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

def nodesAuthResource = Authorizations.getDomNodes("//atom:entry");


def list = []
def dir = new File(groovyUtils.projectPath + "/../transferred")
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

int iEntryCnt = 0;
boolean bFailed = false;
list.each {
	log.info "Validating:" + it.path;

	def holder;
	try{
		holder = groovyUtils.getXmlHolder(new File(it.path).text);
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("Invalid response body: " + e.toString());
		bFailed = true;
	}

	holder.declareNamespace( 'espi', 'http://naesb.org/espi');
	holder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

	String strCount = "0";
	try{
		strCount = holder.getNodeValue("count(//atom:entry)")
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("Invalid response body. Cannot query response: " +  e.toString());
		bFailed = true;
	}

	//loop through each entry
	boolean bFailedAuthCheck = false;
	def entryNodes = holder.getDomNodes("//atom:entry");
	for(entryNode in entryNodes) {
		iEntryCnt++;
		def nodeHolder = new XmlHolder(entryNode);
		nodeHolder.declareNamespace( 'espi', 'http://naesb.org/espi');
		nodeHolder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');
		
		if(nodeHolder.getDomNodes("//atom:content/espi:ReadingType").length>0) {
			log.info("Skipping ReadingType entry");
		} else if(nodeHolder.getDomNodes("//atom:content/espi:LocalTimeParameters").length>0) {
			log.info("Skipping LocalTimeParameters entry");
		} else if(nodeHolder.getDomNodes("//atom:content/espi:Authorization").length>0) {
			log.info("processing entry:"+ nodeHolder.getDomNode("//atom:content/*").getNodeName());
			String strEntrySelfLink = nodeHolder.getDomNode("//atom:link[@rel='self']/@href").getNodeValue();

			boolean bMatchFound = false;
			for(nodeAuthResource in nodesAuthResource){
				
				def nodeAuthHolder = new XmlHolder(nodeAuthResource);
				nodeAuthHolder.declareNamespace( 'espi', 'http://naesb.org/espi');
				nodeAuthHolder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

				String strAuthURI =  nodeAuthHolder.getDomNode("//espi:authorizationURI").getFirstChild().getNodeValue();
				if(strEntrySelfLink.equals(strAuthURI)) {
					bMatchFound = true;
					break;
				}
			}

			if(!bMatchFound){
				log.error("No matching authorization for: " + strEntrySelfLink);
				bFailedAuthCheck = true;
			}
			
		} else if(nodeHolder.getDomNodes("//atom:content/espi:ApplicationInformation").length>0) {
			log.info("processing entry:"+ nodeHolder.getDomNode("//atom:content/*").getNodeName());
			String strEntrySelfLink = nodeHolder.getDomNode("//atom:link[@rel='self']/@href").getNodeValue();

			String strAppInfoURI = testRunner.testCase.testSuite.project.getPropertyValue("ServiceEndpoint") + "/" + testRunner.testCase.testSuite.project.getPropertyValue("resourceUri") + "/ApplicationInformation/" + testRunner.testCase.testSuite.project.getPropertyValue("applicationInformationId");
			if(!strEntrySelfLink.equals(strAppInfoURI)){
				log.error("Self link does not match AppplicationInformation URI. Self link=" + strEntrySelfLink);
				bFailed = true;
			}
			
		} else {
			log.info("processing entry:"+ nodeHolder.getDomNode("//atom:content/*").getNodeName());
			String strEntrySelfLink = nodeHolder.getDomNode("//atom:link[@rel='self']/@href").getNodeValue();

			boolean bMatchFound = false;
			for(nodeAuthResource in nodesAuthResource){
				
				def nodeAuthHolder = new XmlHolder(nodeAuthResource);
				nodeAuthHolder.declareNamespace( 'espi', 'http://naesb.org/espi');
				nodeAuthHolder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

				String strAuthResourceURI =  nodeAuthHolder.getDomNode("//espi:resourceURI").getFirstChild().getNodeValue();
				strAuthResourceURI = strAuthResourceURI.replace("/Batch","");
				if(strEntrySelfLink.startsWith(strAuthResourceURI)) {
					bMatchFound = true;
					break;
				}
			}

			if(!bMatchFound){
				log.error("No matching authorization for: " + strEntrySelfLink);
				bFailedAuthCheck = true;
			}
		}
	}

	if(bFailedAuthCheck) { 
		bFailed = true;
		log.error("The list of authorizations follows:");
		for(nodeAuthResource in nodesAuthResource){
			
			def nodeAuthHolder = new XmlHolder(nodeAuthResource);
			nodeAuthHolder.declareNamespace( 'espi', 'http://naesb.org/espi');
			nodeAuthHolder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');
		
			String strAuthResourceURI =  nodeAuthHolder.getDomNode("//espi:resourceURI").getFirstChild().getNodeValue();
			log.error("check Auth ResURI:" + strAuthResourceURI);
		}
	}
}

if(bFailed) {
	testRunner.fail("One or more response files failed validation. See script log for details.");
}

if(iEntryCnt==0) {
	testRunner.fail("Batch/bulk feed must contain at least one entry but the response contains none.");
}

return;
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/>
	</con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FB_35] REST for Bulk" id="902b2534-ffb3-4f52-ad3b-e15e9874bd3d">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="RBK001 [POS] REST for BULK notification - authorized GET access" searchProperties="true" id="cc94e3e8-ec2d-4d2b-b464-92c12ef24449">
		<con:settings/>
		<con:testStep type="restrequest" name="GET Authorization Feed" id="dc9b4f80-c933-472e-9573-db6b6bc60403"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization" methodName="GET Authorization Feed" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization Feed" mediaType="application/json" id="78372758-3493-4c0e-925a-ffff58d1cb41">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		<con:setting id="AutoInferSchemas">false</con:setting></con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="8cde049e-bd0a-426b-babc-096f57cfb98e"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Start Mock Service" id="ccbed0cd-1972-46cc-b566-ee56a141bb4e"><con:settings/><con:config><script>// Verify BatchListNotification Mock Service is NOT running
if(testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner() != null) {

	log.info("[FB_34] SFTP for bulk (Start Mock Service) BatchListNotification Mock Service is running!");
	log.info("[FB_34] SFTP for bulk (Start Mock Service) Stopping BatchListNotification Mock Service!");
	testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner().stop();
	
}

def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

service.setPropertyValue("rxNotificationBody","");

def runner = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service").start();
context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Request DataCustodian to Issue a Notification message with Batch/Bulk information" id="d49f682e-b375-44c1-aed9-91d8a59558c9"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

String strDialog = "Request Data Custodian to manually initiate a Notification that contains Batch/Bulk information.\r\n\
\r\n\
If you do not wish to proceed please click No.\r\n\
After the Notification has been issued please click Yes.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Request DataCustodian to issue Notification message with Batch/Bulk information) Testing terminated by user.");
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Request DataCustodian to issue Notification message with Batch/Bulk information) Testing terminated by user.");
	return;	
}

assert true;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="05af9309-ea0c-45a6-8fd2-ca30afe7e725"><con:settings/><con:config><script>context.mockRunner.stop();
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate notification" id="b434360f-a30a-4f31-ba44-5d61211fe1e9"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

String strNotificationBody =  service.getPropertyValue("rxNotificationBody");
log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) notification Body:" + strNotificationBody);

if(!strNotificationBody) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) No notification received or empty notification body.");
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) No notification received or empty notification body.");
	return;	
}

def holder;
try{
	holder = groovyUtils.getXmlHolder(strNotificationBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) Invalid notification body:" + e.toString());
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) Invalid notification body.");
	return;
}


String strNotificationURI = holder.getNodeValue("//espi:BatchList/espi:resources")
log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) notification URI:" + strNotificationURI);

if(!strNotificationURI) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) Invalid URI supplied in the notification.");
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) Invalid URI supplied in the notification.");
	return;	
}

if(strNotificationURI.startsWith("http://")){
	
	String strHost = strNotificationURI.substring("http://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("https://")){

	String strHost = strNotificationURI.substring("https://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("sftp://")){

	String strHost = strNotificationURI.substring("sftp://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	strHost = strHost.substring("sftp://".length());
	context.strHost = strHost;
	context.strResource = strResource;
	
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) notification must be for a REST resource.");
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) notification must be for a REST resource.");	
	return;	
	
	
} else {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) Invalid URI supplied in the notification.");
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate notification) Invalid URI supplied in the notification.");
	return;	
}
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue GET" id="4b1064b1-2de9-4cfd-8139-7ea0d0dc9dad"><con:settings/><con:config><script>import groovyx.net.http.HTTPBuilder
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT

public class ResourceTester {
	Object log;
	String _strResponseBody = null;

	ResourceTester(Object theLog)
	{
		log = theLog;
	}

	public String doGET(String strBaseEndpoint,String href, String token) {
		_strResponseBody = null;
		
	  	def http = new HTTPBuilder();

		http.request( strBaseEndpoint, GET, TEXT ) { req ->
			uri.path = href
		     headers.Authorization = 'Bearer ' + token
			headers.Accept = 'application/atom+xml'
			
			response.success = { resp, reader ->
				_strResponseBody = reader.text;				
			}		
										
			response.failure = { resp ->
				log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Issue GET) GET Failed: " + resp.statusLine);
				return null;
			}  
		}
		return _strResponseBody;
	}	
}

String access_token = testRunner.testCase.testSuite.project.getPropertyValue("client_access_token");

ResourceTester resourceTester = new ResourceTester(log);

String strGetResponseBody = resourceTester.doGET(context.strHost,context.strResource,access_token);

if(strGetResponseBody==null) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Issue GET) GET request failed.");
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Issue GET) GET request failed.");
	return;	
}

context.ResponseBody = strGetResponseBody;

return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Validate response against schema" id="9ee75394-446f-4e01-a4fa-535d94ebbf15"><con:settings/><con:config><script>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate response against schema) validating: " + context.ResponseBody);

def holder;
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate response against schema) Invalid response body: " + e.toString());
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate response against schema) Invalid response body.");
	return;
}


StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(groovyUtils.projectPath + "/etc/atom.xsd");
schemaDocuments[1] = new StreamSource(groovyUtils.projectPath + "/etc/espiDerived.xsd");
Source instanceDocument = new StreamSource(new StringReader(context.ResponseBody));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
try {
	v.validate(instanceDocument);
} catch(org.xml.sax.SAXParseException e) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate response against schema) Response failed schema validation: " + e.toString());
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate response against schema) Response failed schema validation. See script log for details.");
	return;
}

</script></con:config></con:testStep><con:testStep type="groovy" name="Validate received data" id="7e0363bc-cc80-474a-86bc-040ad2040226"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;
import com.eviware.soapui.support.XmlHolder;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)


def Authorizations;
try{
	Authorizations = groovyUtils.getXmlHolder(testRunner.testCase.testSteps["GET Authorization Feed"].testRequest.response.responseContent);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Could not obtain Authorizations XML " + e.toString());
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) One or more response files failed validation. See script log for details.");
	return;
}

Authorizations.declareNamespace( 'espi', 'http://naesb.org/espi');
Authorizations.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

def nodesAuthResource = Authorizations.getDomNodes("//atom:entry");


log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Validating data: " + context.ResponseBody);

boolean bFailed = false;

def holder;
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Invalid response body: " + e.toString());
	bFailed = true;
}

holder.declareNamespace( 'espi', 'http://naesb.org/espi');
holder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

String strCount = "0";
try{
	strCount = holder.getNodeValue("count(//atom:entry)")
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Invalid response body. Cannot query response: " +  e.toString());
	bFailed = true;
}

//loop through each entry
boolean bFailedAuthCheck = false;
int iEntryCnt = 0;
def entryNodes = holder.getDomNodes("//atom:entry");
for(entryNode in entryNodes) {
	iEntryCnt++;
	def nodeHolder = new XmlHolder(entryNode);
	nodeHolder.declareNamespace( 'espi', 'http://naesb.org/espi');
	nodeHolder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');
	
	if(nodeHolder.getDomNodes("//atom:content/espi:ReadingType").length>0) {
		log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Skipping ReadingType entry");
	} else if(nodeHolder.getDomNodes("//atom:content/espi:LocalTimeParameters").length>0) {
		log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Skipping LocalTimeParameters entry");
	} else if(nodeHolder.getDomNodes("//atom:content/espi:Authorization").length>0) {
		log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Processing entry:"+ nodeHolder.getDomNode("//atom:content/*").getNodeName());
		String strEntrySelfLink = nodeHolder.getDomNode("//atom:link[@rel='self']/@href").getNodeValue();

		boolean bMatchFound = false;
		for(nodeAuthResource in nodesAuthResource){
			
			def nodeAuthHolder = new XmlHolder(nodeAuthResource);
			nodeAuthHolder.declareNamespace( 'espi', 'http://naesb.org/espi');
			nodeAuthHolder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

			String strAuthURI =  nodeAuthHolder.getDomNode("//espi:authorizationURI").getFirstChild().getNodeValue();
			if(strEntrySelfLink.equals(strAuthURI)) {
				bMatchFound = true;
				break;
			}
		}

		if(!bMatchFound){
			log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) No matching authorization for: " + strEntrySelfLink);
			bFailedAuthCheck = true;
		}
		
	} else if(nodeHolder.getDomNodes("//atom:content/espi:ApplicationInformation").length>0) {
		log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Processing entry:"+ nodeHolder.getDomNode("//atom:content/*").getNodeName());
		String strEntrySelfLink = nodeHolder.getDomNode("//atom:link[@rel='self']/@href").getNodeValue();

		String strAppInfoURI = testRunner.testCase.testSuite.project.getPropertyValue("ServiceEndpoint") + "/" + testRunner.testCase.testSuite.project.getPropertyValue("resourceUri") + "/ApplicationInformation/" + testRunner.testCase.testSuite.project.getPropertyValue("applicationInformationId");
		if(!strEntrySelfLink.equals(strAppInfoURI)){
			log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Self link does not match AppplicationInformation URI. Self link=" + strEntrySelfLink);
			bFailed = true;
		}
		
	} else {
		log.info("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Processing entry:"+ nodeHolder.getDomNode("//atom:content/*").getNodeName());
		String strEntrySelfLink = nodeHolder.getDomNode("//atom:link[@rel='self']/@href").getNodeValue();

		boolean bMatchFound = false;
		for(nodeAuthResource in nodesAuthResource){
			
			def nodeAuthHolder = new XmlHolder(nodeAuthResource);
			nodeAuthHolder.declareNamespace( 'espi', 'http://naesb.org/espi');
			nodeAuthHolder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');

			String strAuthResourceURI =  nodeAuthHolder.getDomNode("//espi:resourceURI").getFirstChild().getNodeValue();
			strAuthResourceURI = strAuthResourceURI.replace("/Batch","");
			if(strEntrySelfLink.startsWith(strAuthResourceURI)) {
				bMatchFound = true;
				break;
			}
		}

		if(!bMatchFound){
			log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) No matching authorization for: " + strEntrySelfLink);
			bFailedAuthCheck = true;
		}
	}
}

if(bFailedAuthCheck) { 
	bFailed = true;
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) The list of authorizations follows:");
	for(nodeAuthResource in nodesAuthResource){
		
		def nodeAuthHolder = new XmlHolder(nodeAuthResource);
		nodeAuthHolder.declareNamespace( 'espi', 'http://naesb.org/espi');
		nodeAuthHolder.declareNamespace( 'atom', 'http://www.w3.org/2005/Atom');
	
		String strAuthResourceURI =  nodeAuthHolder.getDomNode("//espi:resourceURI").getFirstChild().getNodeValue();
		log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Check Auth ResURI:" + strAuthResourceURI);
	}
}

if(bFailed) {
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) One or more response files failed validation. See script log for details.");
}

if(iEntryCnt==0) {
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Validate received data) Batch/bulk feed must contain at least one entry but the response contains none.");
}

return;
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/>
	</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="RBK_002 [NEG] REST for BULK notification - Forbidden GET access" searchProperties="true" id="09ac5da0-e425-4e64-b809-a0683d860747">
		<con:settings/>
		<con:testStep type="groovy" name="Start Mock Service" id="018a6afb-5ce4-4501-8eab-5a7fdfdbbe09"><con:settings/><con:config><script>// Verify BatchListNotification Mock Service is NOT running
if(testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner() != null) {

	log.info("[FB_34] SFTP for bulk (Start Mock Service) BatchListNotification Mock Service is running!");
	log.info("[FB_34] SFTP for bulk (Start Mock Service) Stopping BatchListNotification Mock Service!");
	testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner().stop();
	
}

def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

service.setPropertyValue("rxNotificationBody","");

def runner = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service").start();
context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Request DataCustodian to Issue a Notification message with Batch/Bulk information" id="1843d72d-adc4-42fc-ad36-31258f1881b1"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

String strDialog = "Request Data Custodian to manually initiate a Notification that contains Batch/Bulk information.\r\n\
\r\n\
If you do not wish to proceed please click No.\r\n\
After the Notification has been issued please click Yes.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.error("RBK001 [POS] REST for BULK notification - authorized GET access (Request DataCustodian to issue Notification message with Batch/Bulk information) Testing terminated by user.");
	testRunner.fail("RBK001 [POS] REST for BULK notification - authorized GET access (Request DataCustodian to issue Notification message with Batch/Bulk information) Testing terminated by user.");
	return;	
}

assert true;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="98839fcf-70e0-43d0-9205-01640cdb83eb"><con:settings/><con:config><script>context.mockRunner.stop();
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate notification" id="30404ab7-cc97-47e3-9bdb-45b1ddc9ad8c"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

String strNotificationBody =  service.getPropertyValue("rxNotificationBody");

if(!strNotificationBody) {
	log.error("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) No notification received or empty notification body.");
	testRunner.fail("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) No notification received or empty notification body.");
	return;	
}

def holder;
try{
	holder = groovyUtils.getXmlHolder(strNotificationBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Invalid notification body:" + e.toString());
	testRunner.fail("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Invalid notification body.");
	return;
}


String strNotificationURI = holder.getNodeValue("//espi:BatchList/espi:resources")
log.info("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Notification URI:" + strNotificationURI);

if(!strNotificationURI) {
	log.error("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Invalid URI supplied in the notification.");
	testRunner.fail("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Invalid URI supplied in the notification.");
	return;	
}

if(strNotificationURI.startsWith("http://")){
	
	String strHost = strNotificationURI.substring("http://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("https://")){

	String strHost = strNotificationURI.substring("https://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("sftp://")){

	String strHost = strNotificationURI.substring("sftp://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	strHost = strHost.substring("sftp://".length());
	context.strHost = strHost;
	context.strResource = strResource;
	
	log.error("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Notification must be for a REST resource.");
	testRunner.fail("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Notification must be for a REST resource.");	
	return;	
	
	
} else {
	log.error("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Invalid URI supplied in the notification.");
	testRunner.fail("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Validate notification) Invalid URI supplied in the notification.");
	return;	
}
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue GET" id="1d7ae045-0c64-4b1a-a73e-c58beecc19d2"><con:settings/><con:config><script>import groovyx.net.http.HTTPBuilder
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT

public class ResourceTester {
	Object log;
	int iResp = 0;

	ResourceTester(Object theLog)
	{
		log = theLog;
	}

	public int doGET(String strBaseEndpoint,String href, String token) {

	  	def http = new HTTPBuilder();

		http.request( strBaseEndpoint, GET, TEXT ) { req ->
			uri.path = href
		     headers.Authorization = 'Bearer ' + token
			headers.Accept = 'application/atom+xml'
			
			response.success = { resp, reader ->
				iResp = resp.status;
			}		
										
			response.failure = { resp ->
				iResp = resp.status;
			}  
		}
		return iResp;
	}	
}

String access_token = "";
int iResp = 0;

ResourceTester resourceTester = new ResourceTester(log);

access_token = testRunner.testCase.testSuite.project.getPropertyValue("access_token");
iResp = resourceTester.doGET(context.strHost,context.strResource,access_token);
if(iResp!=403) {
	log.error("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Issue GET) GET request did not return 403 for access_token.");
	testRunner.fail("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Issue GET) GET request did not return 403 for access_token.");
	return;	
}


access_token = testRunner.testCase.testSuite.project.getPropertyValue("registration_access_token");
iResp = resourceTester.doGET(context.strHost,context.strResource,access_token);
if(iResp!=403) {
	log.error("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Issue GET) GET request did not return 403 for registration_access_token.");
	testRunner.fail("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Issue GET) GET request did not return 403 for registration_access_token.");
	return;	
}

iResp = resourceTester.doGET(context.strHost,context.strResource,"");
if(iResp!=403) {
	log.error("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Issue GET) GET request did not return 403 for empty access token.");
	testRunner.fail("RBK002 [NEG] REST for BULK notification - Forbidden GET access (Issue GET) GET request did not return 403 for empty access token.");
	return;	
}


return;
</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/>
	</con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FB_39] PUSH Model" id="a41b49ff-f635-4a3f-97a4-388c1818fd1b">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation" searchProperties="true" id="e0524a81-a243-43f7-9705-67aeb6a6699c">
		<con:settings/>
		<con:testStep type="groovy" name="Start Mock Service" id="ba0adc8e-d92f-4ca2-abce-30c246fe6789"><con:settings/><con:config><script>// Verify BatchListNotification Mock Service is NOT running
if(testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner() != null) {

	log.info("[FB_34] SFTP for bulk (Start Mock Service) BatchListNotification Mock Service is running!");
	log.info("[FB_34] SFTP for bulk (Start Mock Service) Stopping BatchListNotification Mock Service!");
	testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner().stop();
	
}

def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

service.setPropertyValue("rxNotificationBody","");

def runner = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service").start();
context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Request DataCustodian to issue Notification message with ApplicationInformation Information" id="cc4851f3-ddd2-4685-9ea5-5c08d3c2e79e"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

String strDialog = "Request Data Custodian to manually initiate a Notification that contains ApplicationInformation information.\r\n\
\r\n\
If you do not wish to proceed please click No.\r\n\
After the Notification has been issued please click Yes.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Request DataCustodian to issue Notification message with ApplicationInformation information) Testing terminated by user.");
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Request DataCustodian to issue Notification message with ApplicationInformation information) Testing terminated by user.");
	return;	
}

assert true;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="668ef150-7aad-4d43-8629-f7a8be0356d9"><con:settings/><con:config><script>context.mockRunner.stop();
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate notification and dispatch GET or SFTP step" id="acbacd7e-5f06-4670-aba1-49ecdbf19def"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

String strNotificationBody =  service.getPropertyValue("rxNotificationBody");
log.info("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate notification and dispatch GET or SFTP step) Notification Body: " + strNotificationBody);

if(!strNotificationBody) {
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate notification and dispatch GET or SFTP step) No notification received or received an empty notification body.");
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate notification and dispatch GET or SFTP step) No notification received or received an empty notification body.");
	return;	
}

def holder;
try{
	holder = groovyUtils.getXmlHolder(strNotificationBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate notification and dispatch GET or SFTP step) Invalid notification body: " + e.toString());
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate notification and dispatch GET or SFTP step) Invalid notification body.");
	return;
}


String strNotificationURI = holder.getNodeValue("//espi:BatchList/espi:resources")
log.info("notification URI:" + strNotificationURI);

if(!strNotificationURI) {
	log.error("Invalid URI supplied in the notification.");
	testRunner.fail("Invalid URI supplied in the notification.");
	return;	
}

if(strNotificationURI.startsWith("http://")){
	
	String strHost = strNotificationURI.substring("http://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("https://")){

	String strHost = strNotificationURI.substring("https://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("sftp://")){

	String strHost = strNotificationURI.substring("sftp://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	strHost = strHost.substring("sftp://".length());
	context.strHost = strHost;
	context.strResource = strResource;
		
	testRunner.gotoStepByName("Issue SFTP get");
	
} else {
	log.error("Invalid URI supplied in the notification.");
	testRunner.fail("Invalid URI supplied in the notification.");
	return;	
}
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue GET" id="7f85e3d7-da68-48a1-8584-67409f13be33"><con:settings/><con:config><script>import groovyx.net.http.HTTPBuilder
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT

public class ResourceTester {
	Object log;
	String _strResponseBody = null;

	ResourceTester(Object theLog)
	{
		log = theLog;
	}

	public String doGET(String strBaseEndpoint,String href, String token) {
		_strResponseBody = null;
		
	  	def http = new HTTPBuilder();

		http.request( strBaseEndpoint, GET, TEXT ) { req ->
			uri.path = href
		     headers.Authorization = 'Bearer ' + token
			headers.Accept = 'application/atom+xml'
			
			response.success = { resp, reader ->
				_strResponseBody = reader.text;				
			}		
										
			response.failure = { resp ->
				log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (issue GET) GET Failed: " + resp.statusLine);
				return null;
			}  
		}
		return _strResponseBody;
	}	
}

String access_token = testRunner.testCase.testSuite.project.getPropertyValue("registration_access_token");

ResourceTester resourceTester = new ResourceTester(log);

String strGetResponseBody = resourceTester.doGET(context.strHost,context.strResource,access_token);

if(strGetResponseBody==null) {
	log.info ("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (issue GET) GET request failed.");
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (issue GET) GET request failed.");
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (issue GET) GET request failed.");
	return;	
}

context.ResponseBody = strGetResponseBody;

return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Validate REST GET response resource type and against schema" id="2dc2af30-1f80-4340-8fb4-78f799ba236b"><con:settings/><con:config><script>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

log.info("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) validating: " + context.ResponseBody);

def holder;
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.info ("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Invalid response body: " + e.toString());
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Invalid response body: " + e.toString());
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Invalid response body.");
	return;
}

String strCount = "0";
try{
strCount = holder.getNodeValue("count(//espi:ApplicationInformation)")
} catch(org.apache.xmlbeans.XmlException e) {
	log.info ("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Invalid response body: " + e.toString());
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Invalid response body: " + e.toString());
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Invalid response body. Cannot query response.");
	return;
}

if(strCount.toInteger()&lt;1){
	log.info ("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Response does not contain at least one ApplicationInformation entry.");
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Response does not contain at least one ApplicationInformation entry.");
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Response does not contain at least one ApplicationInformation entry.");
	return;	
}

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(groovyUtils.projectPath + "/etc/atom.xsd");
schemaDocuments[1] = new StreamSource(groovyUtils.projectPath + "/etc/espiDerived.xsd");
Source instanceDocument = new StreamSource(new StringReader(context.ResponseBody));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
try {
	v.validate(instanceDocument);
} catch(org.xml.sax.SAXParseException e) {
	log.info("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Response failed schema validation: " + e.toString());
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Response failed schema validation: " + e.toString());
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate REST GET response resource type and against schema) Response failed schema validation. See script log for details.");
	return;
}

testRunner.gotoStepByName("Done");
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue SFTP get" id="16a0300b-bda7-4ed2-bfc6-d99abda1d82a"><con:settings/><con:config><script>import groovy.io.FileType;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath

public boolean RunCommand(String cmd)
{
	def doCmd;

	log.info("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) exec: " + cmd);
	log.info("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) os  : " + System.properties['os.name']);
	
	if (System.properties['os.name'].toLowerCase().contains('windows')) {
		doCmd = ["cmd", "/c",cmd].execute();
	} else {
		doCmd = ["bash", "-c",cmd].execute();
	}
	
	doCmd.waitFor();
	
	if(doCmd.exitValue()!=0) {
				
		log.info "PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) return code: ${ doCmd.exitValue()}"
		log.error "PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) return code: ${ doCmd.exitValue()}"

		log.info "PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) stderr: ${doCmd.err.text}"
		log.error "PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) stderr: ${doCmd.err.text}"

		log.info "PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) stdout: ${doCmd.in.text}"
		log.error "PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) stdout: ${doCmd.in.text}"
	
		return false;
	}
	return true;
}

transferDir = groovyUtils.projectPath + "/../transferred";

def list = []
def dir = new File(transferDir);
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

if(list.size()>0){
	
	cmdRm = 'rm ' + transferDir +  '/*';
	
	if(RunCommand(cmdRm) != true) {
		log.info("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) could not clear transfer directory " + transferDir);
		log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) could not clear transfer directory " + transferDir);
		testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) could not clear transfer directory " + transferDir);
		return;
	} 
}

cmdGet = 'sftp ' + context.strHost + ':' + context.strResource + ' ' + transferDir;

if(RunCommand(cmdGet) != true) {
	log.info("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) could not issue SFTP GET");
	log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) could not issue SFTP GET");
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Issue SFTP GET) could not issue SFTP GET");
	return;
}

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate retrieved files against schema" id="2dc9c764-b0d3-4e22-997e-ed5f585ffc82"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(groovyUtils.projectPath + "/etc/atom.xsd");
schemaDocuments[1] = new StreamSource(groovyUtils.projectPath + "/etc/espiDerived.xsd");

def list = []
def dir = new File(groovyUtils.projectPath + "/../transferred")
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

boolean bFailed = false;
list.each {
	log.info "PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate retrieved files against schema) Validating:" + it.path;

	def holder;
	try{
		holder = groovyUtils.getXmlHolder(new File(it.path).text);
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate retrieved files against schema) Invalid response body: " + e.toString());
		bFailed = true;
	}
	
	String strCount = "0";
	try{
		strCount = holder.getNodeValue("count(//espi:ApplicationInformation)")
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate retrieved files against schema) Invalid response body. Cannot query response: " +  e.toString());
		bFailed = true;
	}

	if(strCount.toInteger()&lt;1){
		log.error("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate retrieved files against schema) Response does not contain at least one ApplicationInformation entry.");
		bFailed = true;
	}
	
	Source instanceDocument = new StreamSource(new FileReader(it.path));
	
	SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
	Schema s = sf.newSchema(schemaDocuments);
	Validator v = s.newValidator();

	try {
		v.validate(instanceDocument);
	} catch(org.xml.sax.SAXParseException e) {
		log.error ("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate retrieved files against schema) SAXParseException occurred: " + e.toString());
		bFailed = true;
	}
}

if(bFailed) {
	testRunner.fail("PSH001 [POS] Notification Push/POST to ThirdParty of ApplicationInformation -- (Validate retrieved files against schema) One or more response files failed validation. See script log for details.");
}

return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Done" id="5fb9ba1a-ba6b-4c03-872b-3b459ee23ddc"><con:settings/><con:config><script/></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/>
	</con:testCase>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="PSH002 [POS] Notification Push/POST to ThirdParty of Authorization" searchProperties="true" id="2f1a77ef-80d6-49ed-9cca-b62f1ba05f02">
		<con:settings/>
		<con:testStep type="groovy" name="Start Mock Service" id="2f13d6a2-ccc7-4daf-b4e2-15442dfa9ff4"><con:settings/><con:config><script>// Verify BatchListNotification Mock Service is NOT running
if(testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner() != null) {

	log.info("[FB_34] SFTP for bulk (Start Mock Service) BatchListNotification Mock Service is running!");
	log.info("[FB_34] SFTP for bulk (Start Mock Service) Stopping BatchListNotification Mock Service!");
	testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner().stop();
	
}

def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

service.setPropertyValue("rxNotificationBody","");

def runner = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service").start();
context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Request DataCustodian to issue Notification message with Authorization Information" id="4026626f-c83c-49f3-8538-a9b905dd5b28"><con:settings/><con:config><script>

def ui = com.eviware.soapui.support.UISupport;

String strDialog = "Request Data Custodian to manually initiate a Notification that contains Authorization information.\r\n\
\r\n\
If you do not wish to proceed please click No.\r\n\
After the Notification has been issued please click Yes.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Request DataCustodian to issue Notification message with Authorization information) Testing terminated by user.");
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Request DataCustodian to issue Notification message with Authorization information) Testing terminated by user.");
	return;	
}

assert true;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="79e3684e-53f1-4fd5-8a56-c9dc78d25f07"><con:settings/><con:config><script>context.mockRunner.stop();
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate notification and dispatch GET or SFTP step" id="a48dc8fb-9e71-4634-8d26-2e035ff3c1f6"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

String strNotificationBody =  service.getPropertyValue("rxNotificationBody");
log.info("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) Notification Body:" + strNotificationBody);

if(!strNotificationBody) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) No notification received or empty notification body.");
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) No notification received or empty notification body.");
	return;	
}

def holder;
try{
	holder = groovyUtils.getXmlHolder(strNotificationBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) Invalid notification body:" + e.toString());
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) Invalid notification body.");
	return;
}


String strNotificationURI = holder.getNodeValue("//espi:BatchList/espi:resources")
log.info("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) Notification URI:" + strNotificationURI);

if(!strNotificationURI) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) Invalid URI supplied in the notification.");
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) Invalid URI supplied in the notification.");
	return;	
}

if(strNotificationURI.startsWith("http://")){
	
	String strHost = strNotificationURI.substring("http://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("https://")){

	String strHost = strNotificationURI.substring("https://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("sftp://")){

	String strHost = strNotificationURI.substring("sftp://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	strHost = strHost.substring("sftp://".length());
	context.strHost = strHost;
	context.strResource = strResource;
		
	testRunner.gotoStepByName("Issue SFTP get");
	
} else {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) Invalid URI supplied in the notification.");
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate notification and dispatch GET or SFTP step) Invalid URI supplied in the notification.");
	return;	
}
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue GET" id="0d37ec79-5f25-49df-8326-6f662ded7500"><con:settings/><con:config><script>import groovyx.net.http.HTTPBuilder
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT

public class ResourceTester {
	Object log;
	String _strResponseBody = null;

	ResourceTester(Object theLog)
	{
		log = theLog;
	}

	public String doGET(String strBaseEndpoint,String href, String token) {
		_strResponseBody = null;
		
	  	def http = new HTTPBuilder();

		http.request( strBaseEndpoint, GET, TEXT ) { req ->
			uri.path = href
		     headers.Authorization = 'Bearer ' + token
			headers.Accept = 'application/atom+xml'
			
			response.success = { resp, reader ->
				_strResponseBody = reader.text;				
			}		
										
			response.failure = { resp ->
				log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue GET) GET Failed: " + resp.statusLine);
				return null;
			}  
		}
		return _strResponseBody;
	}	
}

String access_token = testRunner.testCase.testSuite.project.getPropertyValue("client_access_token");

ResourceTester resourceTester = new ResourceTester(log);

String strGetResponseBody = resourceTester.doGET(context.strHost,context.strResource,access_token);

if(strGetResponseBody==null) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue GET) GET request failed.");
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue GET) GET request failed.");
	return;	
}

context.ResponseBody = strGetResponseBody;

return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Validate REST GET response resource type and against schema" id="9c8331b3-dcce-4d86-8101-148bbc51c439"><con:settings/><con:config><script>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

log.info("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Validating: " + context.ResponseBody);

def holder;
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Invalid response body: " + e.toString());
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Invalid response body.");
	return;
}

String strCount = "0";
try{
strCount = holder.getNodeValue("count(//espi:Authorization)")
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Invalid response body: " + e.toString());
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Invalid response body. Cannot query response.");
	return;
}

if(strCount.toInteger()&lt;1){
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Response does not contain at least one Authorization entry.");
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Response does not contain at least one Authorization entry.");
	return;	
}

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(groovyUtils.projectPath + "/etc/atom.xsd");
schemaDocuments[1] = new StreamSource(groovyUtils.projectPath + "/etc/espiDerived.xsd");
Source instanceDocument = new StreamSource(new StringReader(context.ResponseBody));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
try {
	v.validate(instanceDocument);
} catch(org.xml.sax.SAXParseException e) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Response failed schema validation: " + e.toString());
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate REST GET response resource type and against schema) Response failed schema validation. See script log for details.");
	return;
}

testRunner.gotoStepByName("Done");
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue SFTP get" id="dd5dad54-5de3-4137-81f8-26e59ea1800a"><con:settings/><con:config><script>import groovy.io.FileType;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath

public boolean RunCommand(String cmd)
{
	def doCmd;

	log.info("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) exec: " + cmd);
	log.info("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) os  : " + System.properties['os.name']);
	
	if (System.properties['os.name'].toLowerCase().contains('windows')) {
		doCmd = ["cmd", "/c",cmd].execute();
	} else {
		doCmd = ["bash", "-c",cmd].execute();
	}
	
	doCmd.waitFor();
	
	if(doCmd.exitValue()!=0) {
		
		log.error "PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) return code: ${ doCmd.exitValue()}"
		log.error "PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) stderr: ${doCmd.err.text}"
		log.error "PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) stdout: ${doCmd.in.text}"
	
		return false;
	}
	return true;
}

transferDir = groovyUtils.projectPath + "/../transferred";

def list = []
def dir = new File(transferDir);
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

if(list.size()>0){
	
	cmdRm = 'rm ' + transferDir +  '/*';
	
	if(RunCommand(cmdRm) != true) {
		log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) Could not clear transfer directory" + transferDir);
		testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) Could not clear transfer directory" + transferDir);
		return;
	} 
}

cmdGet = 'sftp ' + context.strHost + ':' + context.strResource + ' ' + transferDir;

if(RunCommand(cmdGet) != true) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) Could not issue SFTP GET");
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Issue SFTP get) Could not issue SFTP GET");
	return;
}

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate retrieved files against schema" id="36500e35-9dc7-4240-a9d1-bc524d2ae99a"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(groovyUtils.projectPath + "/etc/atom.xsd");
schemaDocuments[1] = new StreamSource(groovyUtils.projectPath + "/etc/espiDerived.xsd");

def list = []
def dir = new File(groovyUtils.projectPath + "/../transferred")
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

boolean bFailed = false;
list.each {
	log.info "PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate retrieved files against schema) Validating:" + it.path;

	def holder;
	try{
		holder = groovyUtils.getXmlHolder(new File(it.path).text);
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate retrieved files against schema) Invalid response body: " + e.toString());
		bFailed = true;
	}
	
	String strCount = "0";
	try{
		strCount = holder.getNodeValue("count(//espi:Authorization)")
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate retrieved files against schema) Invalid response body. Cannot query response: " +  e.toString());
		bFailed = true;
	}

	if(strCount.toInteger()&lt;1){
		log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate retrieved files against schema) Response does not contain at least one Authorization entry.");
		bFailed = true;
	}
	
	Source instanceDocument = new StreamSource(new FileReader(it.path));
	
	SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
	Schema s = sf.newSchema(schemaDocuments);
	Validator v = s.newValidator();

	try {
		v.validate(instanceDocument);
	} catch(org.xml.sax.SAXParseException e) {
	log.error("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate retrieved files against schema) Response failed schema validation: " + e.toString());
		bFailed = true;
	}
}

if(bFailed) {
	testRunner.fail("PSH002 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate retrieved files against schema) One or more response files failed validation. See script log for details.");
}

return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Done" id="90591cc7-1350-4c9d-8d4a-5831827c38a5"><con:settings/><con:config><script/></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/>
	</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="PSH003 [POS] Notification Push/POST to ThirdParty of Subscription" searchProperties="true" id="cc71647f-cc55-4914-bde1-6adfa59d0e44">
		<con:settings/>
		<con:testStep type="groovy" name="Start Mock Service" id="96fac0e2-e0ef-4ac0-a9dd-2f3099c1576d"><con:settings/><con:config><script>// Verify BatchListNotification Mock Service is NOT running
if(testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner() != null) {

	log.info("[FB_34] SFTP for bulk (Start Mock Service) BatchListNotification Mock Service is running!");
	log.info("[FB_34] SFTP for bulk (Start Mock Service) Stopping BatchListNotification Mock Service!");
	testRunner.testCase.testSuite.project.getRestMockServiceByName("BatchListNotification").getMockRunner().stop();
	
}

def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

service.setPropertyValue("rxNotificationBody","");

def runner = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service").start();
context.mockRunner = runner;

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Request DataCustodian to issue Notification message with Subscription Information" id="b4655dc6-de32-4751-93ea-ff5d374b7982"><con:settings/><con:config><script>

def ui = com.eviware.soapui.support.UISupport;

String strDialog = "Request Data Custodian to manually initiate a Notification that contains Subscription information.\r\n\
\r\n\
If you do not wish to proceed please click No.\r\n\
After the Notification has been issued please click Yes.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Request DataCustodian to issue Notification message with Subscription information) Testing terminated by user.");
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Request DataCustodian to issue Notification message with Subscription information) Testing terminated by user.");
	return;	
}

assert true;</script></con:config></con:testStep><con:testStep type="groovy" name="Stop Mock Service" id="d1ec108d-f5fc-4fe3-8b46-7760f765df70"><con:settings/><con:config><script>context.mockRunner.stop();
return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate notification and dispatch GET or SFTP step" id="e6f199fb-fcef-40a4-9415-74fc8b1adcaa"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def service = testRunner.testCase.testSuite.project.getRestMockServiceByName("ThirdParty Notification Mock Service");

String strNotificationBody =  service.getPropertyValue("rxNotificationBody");
log.info("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) Notification Body:" + strNotificationBody);

if(!strNotificationBody) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) No notification received or empty notification body.");
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) No notification received or empty notification body.");
	return;	
}

def holder;
try{
	holder = groovyUtils.getXmlHolder(strNotificationBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) Invalid notification body:" + e.toString());
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) Invalid notification body.");
	return;
}


String strNotificationURI = holder.getNodeValue("//espi:BatchList/espi:resources")
log.info("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) Notification URI:" + strNotificationURI);

if(!strNotificationURI) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) Invalid URI supplied in the notification.");
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) Invalid URI supplied in the notification.");
	return;	
}

if(strNotificationURI.startsWith("http://")){
	
	String strHost = strNotificationURI.substring("http://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("https://")){

	String strHost = strNotificationURI.substring("https://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	context.strHost = strHost;
	context.strResource = strResource;
	testRunner.gotoStepByName("Issue GET");
	
} else if(strNotificationURI.startsWith("sftp://")){

	String strHost = strNotificationURI.substring("sftp://".length());
	String strResource = strHost.substring(strHost.indexOf("/"));
	strHost = strNotificationURI.substring(0,strNotificationURI.indexOf(strResource));
	strHost = strHost.substring("sftp://".length());
	context.strHost = strHost;
	context.strResource = strResource;
		
	testRunner.gotoStepByName("Issue SFTP get");
	
} else {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) Invalid URI supplied in the notification.");
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate notification and dispatch GET or SFTP step) Invalid URI supplied in the notification.");
	return;	
}
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue GET" id="d1280df2-c655-491b-b2d2-e31bd484b223"><con:settings/><con:config><script>import groovyx.net.http.HTTPBuilder
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT

public class ResourceTester {
	Object log;
	String _strResponseBody = null;

	ResourceTester(Object theLog)
	{
		log = theLog;
	}

	public String doGET(String strBaseEndpoint,String href, String token) {
		_strResponseBody = null;
		
	  	def http = new HTTPBuilder();

		http.request( strBaseEndpoint, GET, TEXT ) { req ->
			uri.path = href
		     headers.Authorization = 'Bearer ' + token
			headers.Accept = 'application/atom+xml'
			
			response.success = { resp, reader ->
				_strResponseBody = reader.text;				
			}		
										
			response.failure = { resp ->
				log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue GET) GET Failed: " + resp.statusLine);
				return null;
			}  
		}
		return _strResponseBody;
	}	
}

String access_token = testRunner.testCase.testSuite.project.getPropertyValue("client_access_token");

ResourceTester resourceTester = new ResourceTester(log);

String strGetResponseBody = resourceTester.doGET(context.strHost,context.strResource,access_token);

if(strGetResponseBody==null) {
	log.error("GET request failed.");
	testRunner.fail("GET request failed.");
	return;	
}

context.ResponseBody = strGetResponseBody;

return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Validate REST GET response resource type and against schema" id="f71c831e-99ec-46b5-85b9-15f7817ca020"><con:settings/><con:config><script>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

log.info("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Validating: " + context.ResponseBody);

def holder;
try{
	holder = groovyUtils.getXmlHolder(context.ResponseBody);
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Invalid response body: " + e.toString());
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Invalid response body.");
	return;
}

String strCount = "0";
try{
strCount = holder.getNodeValue("count(//espi:Subscription)")
} catch(org.apache.xmlbeans.XmlException e) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Invalid response body: " + e.toString());
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Invalid response body. Cannot query response.");
	return;
}

if(strCount.toInteger()&lt;1){
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Response does not contain at least one Subscription entry.");
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Response does not contain at least one Subscription entry.");
	return;	
}

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(groovyUtils.projectPath + "/etc/atom.xsd");
schemaDocuments[1] = new StreamSource(groovyUtils.projectPath + "/etc/espiDerived.xsd");
Source instanceDocument = new StreamSource(new StringReader(context.ResponseBody));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
try {
	v.validate(instanceDocument);
} catch(org.xml.sax.SAXParseException e) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Response failed schema validation: " + e.toString());
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate REST GET response resource type and against schema) Response failed schema validation. See script log for details.");
	return;
}

testRunner.gotoStepByName("Done");
</script></con:config></con:testStep><con:testStep type="groovy" name="Issue SFTP get" id="a38ec702-d14d-41fb-992d-374b2079c67d"><con:settings/><con:config><script>import groovy.io.FileType;

def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath

public boolean RunCommand(String cmd)
{
	def doCmd;

	log.info("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) exec: " + cmd);
	log.info("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) os  : " + System.properties['os.name']);
	
	if (System.properties['os.name'].toLowerCase().contains('windows')) {
		doCmd = ["cmd", "/c",cmd].execute();
	} else {
		doCmd = ["bash", "-c",cmd].execute();
	}
	
	doCmd.waitFor();
	
	if(doCmd.exitValue()!=0) {
		
		log.error "PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) return code: ${ doCmd.exitValue()}"
		log.error "PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) stderr: ${doCmd.err.text}"
		log.error "PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) stdout: ${doCmd.in.text}"
	
		return false;
	}
	return true;
}

transferDir = groovyUtils.projectPath + "/../transferred";

def list = []
def dir = new File(transferDir);
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

if(list.size()>0){
	
	cmdRm = 'rm ' + transferDir +  '/*';
	
	if(RunCommand(cmdRm) != true) {
		log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) Could not clear transfer directory" + transferDir);
		testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) Could not clear transfer directory" + transferDir);
		return;
	} 
}

cmdGet = 'sftp ' + context.strHost + ':' + context.strResource + ' ' + transferDir;

if(RunCommand(cmdGet) != true) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) Could not issue SFTP GET");
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Issue SFTP get) Could not issue SFTP GET");
	return;
}

return;</script></con:config></con:testStep><con:testStep type="groovy" name="Validate retrieved files against schema" id="1bb28bff-6694-497b-bf5c-d88a8c0c5065"><con:settings/><con:config><script>import groovy.io.FileType;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(groovyUtils.projectPath + "/etc/atom.xsd");
schemaDocuments[1] = new StreamSource(groovyUtils.projectPath + "/etc/espiDerived.xsd");

def list = []
def dir = new File(groovyUtils.projectPath + "/../transferred")
dir.eachFileRecurse (FileType.FILES) { file ->
	list &lt;&lt; file
}

boolean bFailed = false;
list.each {
	log.info "PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate retrieved files against schema) Validating:" + it.path;

	def holder;
	try{
		holder = groovyUtils.getXmlHolder(new File(it.path).text);
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate retrieved files against schema) Invalid response body: " + e.toString());
		bFailed = true;
	}
	
	String strCount = "0";
	try{
		strCount = holder.getNodeValue("count(//espi:Subscription)")
	} catch(org.apache.xmlbeans.XmlException e) {
		log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate retrieved files against schema) Invalid response body. Cannot query response: " +  e.toString());
		bFailed = true;
	}

	if(strCount.toInteger()&lt;1){
		log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate retrieved files against schema) Response does not contain at least one Subscription entry.");
		bFailed = true;
	}
	
	Source instanceDocument = new StreamSource(new FileReader(it.path));
	
	SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
	Schema s = sf.newSchema(schemaDocuments);
	Validator v = s.newValidator();

	try {
		v.validate(instanceDocument);
	} catch(org.xml.sax.SAXParseException e) {
	log.error("PSH003 [POS] Notification Push/POST to ThirdParty of Authorization -- (Validate retrieved files against schema) Response failed schema validation: " + e.toString());		bFailed = true;
	}
}

if(bFailed) {
	testRunner.fail("PSH003 [POS] Notification Push/POST to ThirdParty of Subscription -- (Validate retrieved files against schema) One or more response files failed validation. See script log for details.");
}

return;
</script></con:config></con:testStep><con:testStep type="groovy" name="Done" id="b612481f-981a-46ca-abee-6e35c51782d2"><con:settings/><con:config><script/></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/>
	</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="PSH004 [NEG] DataCustodian detection of Notification Push/POST failure" searchProperties="true" id="175be4f5-d948-42c4-82f4-151664467366">
		<con:settings/>
		<con:testStep type="groovy" name="Request DataCustodian to issue Notification message" id="bf3f772d-e742-4727-93f9-8da1b5d46154"><con:settings/><con:config><script>def ui = com.eviware.soapui.support.UISupport;

String strDialog = "Request Data Custodian to manually initiate a Notification.\r\n\
Determine if the Data Custodian detected the Notification failed.\r\n\
\r\n\
If the Data Custodian detected the failure, Click Yes.\r\n\
If the Data Custodian failed to detect the failure, Click No.\r\n";

result = ui.getDialogs().confirm(strDialog, "Continue Tests");

if(result==false) {
	log.error("PSH004 [POS] DataCustodian detection of Notification Push/POST failure -- (Request DataCustodian to issue Notification message) Data Custodian failed to detect the Notification failed.");
	testRunner.fail("PSH004 [POS] DataCustodian detection of Notification Push/POST failure -- (Request DataCustodian to issue Notification message) Data Custodian failed to detect the Notification failed.");
	return;	
}

assert true;</script></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/>
	</con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FB_40] Offline Authorization" id="8a08c4be-d0a0-4f25-9b69-43bda861caab">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OFA001 [POS] Offline RetailCustomer Authorization" searchProperties="true" id="2aa6a54b-20c9-4156-8825-070c935268c9"><con:settings/><con:testStep type="groovy" name="Supply Configuration Information" id="be67c591-4dfa-4035-a569-02476f83624c"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

def ui = com.eviware.soapui.support.UISupport;
def project = testRunner.testCase.testSuite.project
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def config = new ConfigSlurper().parse(new File(groovyUtils.projectPath + "/etc/gbcmdcert_target.conf").toURL())


testRunner.testCase.testSuite.setPropertyValue("authorizationId",config.optionalOfflineAuthorizationID);
testRunner.testCase.testSuite.setPropertyValue("access_token",config.optionalOfflineAccess_token);
</script></con:config></con:testStep><con:testStep type="restrequest" name="GET Authorization by Id" id="487686ad-07bf-4bc9-a958-e7c692f96842"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="GET Authorization by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization by Id" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="authorizationId" value="groovy.util.ConfigObject@60b14fb1" xmlns="http://eviware.com/soapui/config"/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="8d0ab582-9c86-4a9d-a3cf-11c2e15d6f7c"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="12dbfe5b-65f9-4792-a976-b9c62c9db635"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="52eb3806-9361-47aa-ab68-fa2f6923356d"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';

/ns3:entry/ns3:content/espi:Authorization/espi:authorizedPeriod and 
/ns3:entry/ns3:content/espi:Authorization/espi:publishedPeriod and
/ns3:entry/ns3:content/espi:Authorization/espi:expires_at and 
/ns3:entry/ns3:content/espi:Authorization/espi:scope and
/ns3:entry/ns3:content/espi:Authorization/espi:token_type and 
/ns3:entry/ns3:content/espi:Authorization/espi:resourceURI and
/ns3:entry/ns3:content/espi:Authorization/espi:authorizationURI and
( not(/ns3:entry/ns3:content/espi:Authorization/espi:status) or (ns3:entry/ns3:content/espi:Authorization/espi:status='0') or (ns3:entry/ns3:content/espi:Authorization/espi:status='1') or (ns3:entry/ns3:content/espi:Authorization/espi:status='2'))</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters>
  <con:entry key="Authorization" value="Bearer ${#Project#client_access_token}"/>
  <con:entry key="authorizationId" value="${#TestSuite#authorizationId}"/>
</con:parameters>
		<con:parameterOrder>
			<con:entry>authorizationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer - resourceURI/endpoint" id="7effaebd-34cc-40fc-939a-ef831ff548da"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>Copy resourceURI</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET Authorization by Id</con:sourceStep><con:sourcePath>declare namespace ns3='http://www.w3.org/2005/Atom';
declare namespace espi='http://naesb.org/espi';
//espi:resourceURI</con:sourcePath><con:targetType>Endpoint</con:targetType><con:targetStep>GET Resource URI</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Setup headers" id="c927449f-0646-4f66-9ab2-ce8c3b710ac6"><con:settings/><con:config><script>import com.eviware.soapui.support.types.StringToStringMap;

//def propCreateAuthResults  = testRunner.testCase.testSuite.project.testSuites['Library'].testCases['Create Authorization and extract all information'];

propTestStep = context.testCase.getTestStepByName("GET Resource URI");
def headers = new StringToStringMap();

//propTestStep.setPropertyValue("Endpoint",propCreateAuthResults.getPropertyValue("resourceURI"));
headers.put("Authorization","Bearer " + testRunner.testCase.testSuite.getPropertyValue("access_token"));
headers.put("Content-Type","Application/atom+xml");
propTestStep.testRequest.setRequestHeaders(headers);</script></con:config></con:testStep><con:testStep type="httprequest" name="GET Resource URI" id="b2aada59-5b0b-482e-ac9f-d714b0cd7861"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GET Resource URI" id="1278aeeb-0f2e-4e21-9c54-fe6712107a30" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer 57673811-5a25-4412-89e1-e15043f9703f"/>
  &lt;con:entry key="Content-Type" value="Application/atom+xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b256a395-88aa-408d-98ca-3d65f215e4d4"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Schema Validation" id="333889e9-0ff6-4375-9c86-3b59f9230f09"><con:configuration><scriptText>import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Schema;
import javax.xml.validation.Validator;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)

String strSchemaFile1 = groovyUtils.projectPath + "/etc/atom.xsd";
String strSchemaFile2 = groovyUtils.projectPath + "/etc/espiDerived.xsd";

String response = messageExchange.response.contentAsString;
log.info("validating: " + response);

StreamSource[] schemaDocuments = new StreamSource[2];
schemaDocuments[0] = new StreamSource(strSchemaFile1);
schemaDocuments[1] = new StreamSource(strSchemaFile2);
Source instanceDocument = new StreamSource(new StringReader(response));

SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema s = sf.newSchema(schemaDocuments);
Validator v = s.newValidator();
v.validate(instanceDocument);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:properties><con:property><con:name>authorizationId</con:name><con:value>5</con:value></con:property><con:property><con:name>access_token</con:name><con:value>57673811-5a25-4412-89e1-e15043f9703f</con:value></con:property></con:properties>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite>
<con:testSuite name="[FB_41] Manage  Authorization Resource" id="d7480fe5-0302-4e65-8a08-d2d7547859e2">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="MGA001 [POS][C] Authorized PUT access to Authorization entry" searchProperties="true" id="b6ad0acd-1bc9-478d-8d2e-8ba8f6e55fe6"><con:settings/><con:testStep type="restrequest" name="GET Authorization by Id" id="2fb62194-252f-49d2-89fb-36ae379c992f"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="GET Authorization by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization by Id" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="dc474264-ba86-4604-ac66-c169f8cc7426"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="f97c22d1-1fe1-4651-9fcc-33d7fbcc9b2f"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
						declare namespace espi='http://naesb.org/espi';

						count(/ns3:entry/ns3:content/espi:Authorization/espi:authorizedPeriod)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>authorizationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="0058ce37-c239-459d-8ece-54b98c84bc32"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>Copy GET response body to PUT request body</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET Authorization by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT - Authorization entry</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="PUT - Authorization entry" id="e901ff7d-aac2-4776-8bab-dbdccaf7b642"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT - Authorization entry" mediaType="application/json" postQueryString="false" id="b4a978a4-934b-4545-b73a-ff2fbb6e8b61"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:ccc176c8-3a65-40cb-904d-787329639a0d</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6" rel="self"/>
   <content>
      <espi:Authorization>
         <espi:authorizedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:authorizedPeriod>
         <espi:publishedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:publishedPeriod>
         <espi:status>1</espi:status>
         <espi:expires_at>1764280802</espi:expires_at>
         <espi:scope>FB=34_35</espi:scope>
         <espi:token_type>Bearer</espi:token_type>
         <espi:resourceURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk/**</espi:resourceURI>
         <espi:authorizationURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6</espi:authorizationURI>
      </espi:Authorization>
   </content>
   <published>2015-11-30T22:00:03Z</published>
   <updated>2015-11-30T22:00:03Z</updated>
</entry>]]></con:request><con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b0adbe6b-03d7-40ab-b782-cee7ae002d34"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="MGA002 [POS][C] Authorized DELETE access to Authorization entry" searchProperties="true" id="ff15fe7e-30a0-458a-b636-9f0aa9d878d9"><con:settings/><con:testStep type="restrequest" name="GET Authorization by Id" id="0f491062-88a3-47b1-a5d4-e502f45a0ebc"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="GET Authorization by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization by Id" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="305c9616-1aea-4d6a-96d8-1111015f6afe"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="ffb7a4ac-ae94-490f-b1cb-ac0507427d54"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
					declare namespace espi='http://naesb.org/espi';

					count(/ns3:entry/ns3:content/espi:Authorization/espi:authorizedPeriod)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>authorizationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="d268bf27-6ca3-4da4-9411-6b2b050bc9ed"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>Copy GET response body to PUT request body</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET Authorization by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT - Authorization entry</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="DELETE" id="70c84181-20d8-4f71-b0a5-c7e2c2360c99"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE" mediaType="application/json" id="91a52e47-6bd1-4f6d-86f6-444e1583b6ce">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b0aa6f64-05e0-4c26-8c09-cf57ed93d0c8"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>authorizationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PUT - Authorization entry" id="f0dcc9a6-9401-46de-9991-796962c582e4"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT - Authorization entry" mediaType="application/json" postQueryString="false" id="5d223aed-506b-4dd3-963c-8f9220d39e35"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:ccc176c8-3a65-40cb-904d-787329639a0d</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6" rel="self"/>
   <content>
      <espi:Authorization>
         <espi:authorizedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:authorizedPeriod>
         <espi:publishedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:publishedPeriod>
         <espi:status>1</espi:status>
         <espi:expires_at>1764280802</espi:expires_at>
         <espi:scope>FB=34_35</espi:scope>
         <espi:token_type>Bearer</espi:token_type>
         <espi:resourceURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk/**</espi:resourceURI>
         <espi:authorizationURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6</espi:authorizationURI>
      </espi:Authorization>
   </content>
   <published>2015-11-30T22:00:03Z</published>
   <updated>2015-11-30T22:00:03Z</updated>
</entry>]]></con:request><con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="dad87f11-6f7a-4288-b9b6-8543c3d65188"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="MGA003 [NEG][R,A,none] Forbidden  PUT, DELETE access to Authorization entry" searchProperties="true" id="ccd9f8ea-70dd-429d-bbdf-0f08c69665e7"><con:settings/><con:testStep type="restrequest" name="GET Authorization by Id" id="95945fd4-83c2-447c-ac6c-1771c3c695f8"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="GET Authorization by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET Authorization by Id" mediaType="application/json" id="993a9960-3a59-47d1-a7bb-5fc3850ffcf9">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="2d6b2f52-0603-4b0b-afcb-c50e81efd203"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="cb4cb4af-85c4-414c-b4d4-15f14632f844"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
					declare namespace espi='http://naesb.org/espi';

					count(/ns3:entry/ns3:content/espi:Authorization/espi:authorizedPeriod)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>authorizationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="2fcbb385-db96-40db-b055-a96fcda3f2b6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>Copy GET response body to PUT request body</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET Authorization by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>positive PUT - Authorization entry to restore original value</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>Copy GET response to PUT R token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET Authorization by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT - Authorization entry using R token</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>Copy GET response to PUT A token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET Authorization by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT - Authorization entry using A token</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false"><con:name>Copy GET response to PUT empty token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET Authorization by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT - Authorization entry using empty token</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="DELETE using R token" id="e04468d5-5284-4442-8337-adc0845bad16"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE using R token" mediaType="application/json" id="91a52e47-6bd1-4f6d-86f6-444e1583b6ce">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1dd9f235-d58f-483c-861a-0d50da4f064b"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>authorizationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DELETE using A token" id="6c25b1b6-faf3-4b33-b9ad-56b8b549b983"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE using A token" mediaType="application/json" id="91a52e47-6bd1-4f6d-86f6-444e1583b6ce">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="f036c3a2-9f8e-4d07-87eb-f0b89d6fc2db"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>authorizationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DELETE using empty token" id="641328dd-d71d-48a6-b44d-ab50a71ab683"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE using empty token" mediaType="application/json" id="91a52e47-6bd1-4f6d-86f6-444e1583b6ce">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="65d41ee2-6a34-466e-94a9-cda8890377b3"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>authorizationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PUT - Authorization entry using R token" id="79b989be-d734-492b-89f5-6753741d3aed"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT - Authorization entry using R token" mediaType="application/json" postQueryString="false" id="70cd5348-f87a-46af-a33b-8251ac347ff5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:ccc176c8-3a65-40cb-904d-787329639a0d</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6" rel="self"/>
   <content>
      <espi:Authorization>
         <espi:authorizedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:authorizedPeriod>
         <espi:publishedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:publishedPeriod>
         <espi:status>1</espi:status>
         <espi:expires_at>1764280802</espi:expires_at>
         <espi:scope>FB=34_35</espi:scope>
         <espi:token_type>Bearer</espi:token_type>
         <espi:resourceURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk/**</espi:resourceURI>
         <espi:authorizationURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6</espi:authorizationURI>
      </espi:Authorization>
   </content>
   <published>2015-11-30T22:00:03Z</published>
   <updated>2015-11-30T22:00:03Z</updated>
</entry>]]></con:request><con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="defa3633-a6b0-4c60-a68e-6ba24f52270f"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PUT - Authorization entry using A token" id="6d4e2271-dc09-4c82-9715-10d803a92061"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT - Authorization entry using A token" mediaType="application/json" postQueryString="false" id="1406e418-bcdf-4df3-8d5d-d9affecc5c43"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:ccc176c8-3a65-40cb-904d-787329639a0d</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6" rel="self"/>
   <content>
      <espi:Authorization>
         <espi:authorizedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:authorizedPeriod>
         <espi:publishedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:publishedPeriod>
         <espi:status>1</espi:status>
         <espi:expires_at>1764280802</espi:expires_at>
         <espi:scope>FB=34_35</espi:scope>
         <espi:token_type>Bearer</espi:token_type>
         <espi:resourceURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk/**</espi:resourceURI>
         <espi:authorizationURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6</espi:authorizationURI>
      </espi:Authorization>
   </content>
   <published>2015-11-30T22:00:03Z</published>
   <updated>2015-11-30T22:00:03Z</updated>
</entry>]]></con:request><con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a6947569-31a6-4549-81ff-ed7a1b7cf2a5"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer ${#Project#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PUT - Authorization entry using empty token" id="91a09144-b970-4dd8-831f-43d8231b0c9f"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT - Authorization entry using empty token" mediaType="application/json" postQueryString="false" id="2cf2e613-3267-45b2-aee3-a2bf0c836636"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:ccc176c8-3a65-40cb-904d-787329639a0d</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6" rel="self"/>
   <content>
      <espi:Authorization>
         <espi:authorizedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:authorizedPeriod>
         <espi:publishedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:publishedPeriod>
         <espi:status>1</espi:status>
         <espi:expires_at>1764280802</espi:expires_at>
         <espi:scope>FB=34_35</espi:scope>
         <espi:token_type>Bearer</espi:token_type>
         <espi:resourceURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk/**</espi:resourceURI>
         <espi:authorizationURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6</espi:authorizationURI>
      </espi:Authorization>
   </content>
   <published>2015-11-30T22:00:03Z</published>
   <updated>2015-11-30T22:00:03Z</updated>
</entry>]]></con:request><con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="729b5227-8efe-4d69-aec2-2ad93958ecf5"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="positive PUT - Authorization entry to restore original value" id="555774c7-6109-4edc-8929-8411935b446e"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/Authorization/{authorizationId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="positive PUT - Authorization entry to restore original value" mediaType="application/json" postQueryString="false" id="b9311af4-2a2a-4556-8ee1-5c5a8ffda33a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#ServiceEndpoint}</con:endpoint><con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:ccc176c8-3a65-40cb-904d-787329639a0d</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6" rel="self"/>
   <content>
      <espi:Authorization>
         <espi:authorizedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:authorizedPeriod>
         <espi:publishedPeriod>
            <espi:duration>0</espi:duration>
            <espi:start>0</espi:start>
         </espi:publishedPeriod>
         <espi:status>1</espi:status>
         <espi:expires_at>1764280802</espi:expires_at>
         <espi:scope>FB=34_35</espi:scope>
         <espi:token_type>Bearer</espi:token_type>
         <espi:resourceURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk/**</espi:resourceURI>
         <espi:authorizationURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/6</espi:authorizationURI>
      </espi:Authorization>
   </content>
   <published>2015-11-30T22:00:03Z</published>
   <updated>2015-11-30T22:00:03Z</updated>
</entry>]]></con:request><con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/Authorization/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="c0325112-0ca3-4640-9ada-7616037fdb21"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite><con:testSuite name="[FB_44] Manage ApplicationInformation Resource" id="23bba42f-e280-4812-966c-13f28353efee">
	<con:settings/>
	<con:runType>SEQUENTIAL</con:runType>
	<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="MGT001[POS][R] Authorized PUT access to ApplicationInformation entry" searchProperties="true" id="fe8f8abd-621b-47d7-a09a-07d30075dbb0"><con:settings/><con:testStep type="restrequest" name="GET ApplicationInformation by Id" id="9dbf62e8-c24e-460a-9c1e-4922c0a3f64e"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation by Id" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="3eeb279a-7bc8-4f68-9838-c18ffff3ef4a"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="26f010ca-da2e-44cb-a33d-aeea7c25eb22"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
					declare namespace espi='http://naesb.org/espi';
					count(/ns3:entry/ns3:content/espi:ApplicationInformation)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters/>
		<con:parameterOrder>
			<con:entry>applicationInformationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="4b0fa1a3-c58c-44b9-b943-03e127738e9a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>copy body of GET to PUT</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT ApplicationInformation by Id</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="PUT ApplicationInformation by Id" id="21c61bd0-b57e-435b-9452-ae1bb97d575a"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Put" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT ApplicationInformation by Id" mediaType="application/atom+xml" postQueryString="false" id="4b7a8070-65c9-49fd-9a55-3b4671527e91">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:af6e8b03-0299-467e-972a-a883ecdcc575</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4" rel="self"/>
   <title>GreenButtonData.org  ThirdParty Application</title>
   <content>
      <espi:ApplicationInformation>
         <espi:dataCustodianId>data_custodian</espi:dataCustodianId>
         <espi:dataCustodianApplicationStatus>1</espi:dataCustodianApplicationStatus>
         <espi:thirdPartyApplicationDescription>EnergyOS OpenESPI Example Third Party</espi:thirdPartyApplicationDescription>
         <espi:thirdPartyApplicationStatus>1</espi:thirdPartyApplicationStatus>
         <espi:thirdPartyApplicationType>1</espi:thirdPartyApplicationType>
         <espi:thirdPartyApplicationUse>1</espi:thirdPartyApplicationUse>
         <espi:authorizationServerUri>https://localhost:8443/DataCustodian/</espi:authorizationServerUri>
         <espi:thirdPartyNotifyUri>https://localhost:8444/ThirdParty/espi/1_1/Notification</espi:thirdPartyNotifyUri>
         <espi:authorizationServerAuthorizationEndpoint>https://localhost:8443/DataCustodian/oauth/authorize</espi:authorizationServerAuthorizationEndpoint>
         <espi:authorizationServerRegistrationEndpoint>https://localhost:8443/DataCustodian/espi/1_1/register</espi:authorizationServerRegistrationEndpoint>
         <espi:authorizationServerTokenEndpoint>https://localhost:8443/DataCustodian/oauth/token</espi:authorizationServerTokenEndpoint>
         <espi:dataCustodianBulkRequestURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk</espi:dataCustodianBulkRequestURI>
         <espi:dataCustodianResourceEndpoint>https://localhost:8443/DataCustodian/espi/1_1/resource</espi:dataCustodianResourceEndpoint>
         <espi:thirdPartyScopeSelectionScreenURI>https://localhost:8444/ThirdParty/RetailCustomer/ScopeSelection</espi:thirdPartyScopeSelectionScreenURI>
         <espi:thirdPartyUserPortalScreenURI>https://localhost:8444/ThirdParty</espi:thirdPartyUserPortalScreenURI>
         <espi:client_secret>secret</espi:client_secret>
         <espi:logo_uri>https://localhost:8444/ThirdParty/resources/ico/favicon.png</espi:logo_uri>
         <espi:client_name>Green Button Third Party</espi:client_name>
         <espi:client_uri>https://localhost:8444/ThirdParty</espi:client_uri>
         <espi:redirect_uri>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</espi:redirect_uri>
         <espi:client_id>surface_tp</espi:client_id>
         <espi:software_id>EnergyOS OpenESPI Example Third Party</espi:software_id>
         <espi:software_version>1.2</espi:software_version>
         <espi:client_id_issued_at>1403190000</espi:client_id_issued_at>
         <espi:client_secret_expires_at>0</espi:client_secret_expires_at>
         <espi:contacts>john.teeter@energyos.org,martin.burns@nist.gov,donald.coffin@reminetworks.com</espi:contacts>
         <espi:token_endpoint_auth_method>client_secret_basic</espi:token_endpoint_auth_method>
         <espi:scope>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:grant_types>refresh_token</espi:grant_types>
         <espi:grant_types>authorization_code</espi:grant_types>
         <espi:grant_types>client_credentials</espi:grant_types>
         <espi:response_types>token</espi:response_types>
         <espi:registration_client_uri>https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4</espi:registration_client_uri>
         <espi:registration_access_token>d89bb056-0f02-4d47-9fd2-ec6a19ba8d0c</espi:registration_access_token>
         <espi:dataCustodianScopeSelectionScreenURI>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</espi:dataCustodianScopeSelectionScreenURI>
      </espi:ApplicationInformation>
   </content>
   <published>2014-01-02T10:00:00Z</published>
   <updated>2014-01-02T10:00:00Z</updated>
</entry>]]></con:request>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="e43c7612-6760-4c71-b7cc-bb914d076efa"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="MGT002[POS][R] Authorized DELETE access to ApplicationInformation entry" searchProperties="true" id="f5cee5fb-118e-4dcc-a3cc-bbff7f2d5748"><con:settings/><con:testStep type="restrequest" name="GET ApplicationInformation by Id" id="b9fec435-2bac-41b2-9beb-c263cdc5c246"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation by Id" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
			</con:settings>
			<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
			<con:request/>
			<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
			<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="79d141e1-3b62-4ebf-963e-ed46832be8cd"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="def44a1f-2e75-411c-af8c-e9246af947ab"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
						declare namespace espi='http://naesb.org/espi';
						count(/ns3:entry/ns3:content/espi:ApplicationInformation)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
				<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
				<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
				<con:authType>Global HTTP Settings</con:authType>
			</con:credentials>
			<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
			<con:jmsPropertyConfig/>
			<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
			<con:parameterOrder>
				<con:entry>applicationInformationId</con:entry>
				<con:entry>Authorization</con:entry>
				<con:entry>Content-Type</con:entry>
			</con:parameterOrder>
		</con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="de0dde0b-c864-4d71-8b3a-e109d8dc51c2"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>copy body of GET to PUT</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT ApplicationInformation by Id</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="DELETE ApplicationInformation by Id" id="f569e0b0-a54d-433b-85e8-7a32dbfc1549"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE ApplicationInformation by Id" mediaType="application/json" id="9ef70ba4-9a57-4ff5-a02e-b693213d9dc0">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="544caaaa-6877-4afa-a9b5-529ac16384e8"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#client_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PUT ApplicationInformation by Id" id="9df96ab1-56a9-4a4d-b45d-88b13bd5e517"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Put" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT ApplicationInformation by Id" mediaType="application/atom+xml" postQueryString="false" id="4b7a8070-65c9-49fd-9a55-3b4671527e91">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:af6e8b03-0299-467e-972a-a883ecdcc575</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4" rel="self"/>
   <title>GreenButtonData.org  ThirdParty Application</title>
   <content>
      <espi:ApplicationInformation>
         <espi:dataCustodianId>data_custodian</espi:dataCustodianId>
         <espi:dataCustodianApplicationStatus>1</espi:dataCustodianApplicationStatus>
         <espi:thirdPartyApplicationDescription>EnergyOS OpenESPI Example Third Party</espi:thirdPartyApplicationDescription>
         <espi:thirdPartyApplicationStatus>1</espi:thirdPartyApplicationStatus>
         <espi:thirdPartyApplicationType>1</espi:thirdPartyApplicationType>
         <espi:thirdPartyApplicationUse>1</espi:thirdPartyApplicationUse>
         <espi:authorizationServerUri>https://localhost:8443/DataCustodian/</espi:authorizationServerUri>
         <espi:thirdPartyNotifyUri>https://localhost:8444/ThirdParty/espi/1_1/Notification</espi:thirdPartyNotifyUri>
         <espi:authorizationServerAuthorizationEndpoint>https://localhost:8443/DataCustodian/oauth/authorize</espi:authorizationServerAuthorizationEndpoint>
         <espi:authorizationServerRegistrationEndpoint>https://localhost:8443/DataCustodian/espi/1_1/register</espi:authorizationServerRegistrationEndpoint>
         <espi:authorizationServerTokenEndpoint>https://localhost:8443/DataCustodian/oauth/token</espi:authorizationServerTokenEndpoint>
         <espi:dataCustodianBulkRequestURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk</espi:dataCustodianBulkRequestURI>
         <espi:dataCustodianResourceEndpoint>https://localhost:8443/DataCustodian/espi/1_1/resource</espi:dataCustodianResourceEndpoint>
         <espi:thirdPartyScopeSelectionScreenURI>https://localhost:8444/ThirdParty/RetailCustomer/ScopeSelection</espi:thirdPartyScopeSelectionScreenURI>
         <espi:thirdPartyUserPortalScreenURI>https://localhost:8444/ThirdParty</espi:thirdPartyUserPortalScreenURI>
         <espi:client_secret>secret</espi:client_secret>
         <espi:logo_uri>https://localhost:8444/ThirdParty/resources/ico/favicon.png</espi:logo_uri>
         <espi:client_name>Green Button Third Party</espi:client_name>
         <espi:client_uri>https://localhost:8444/ThirdParty</espi:client_uri>
         <espi:redirect_uri>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</espi:redirect_uri>
         <espi:client_id>surface_tp</espi:client_id>
         <espi:software_id>EnergyOS OpenESPI Example Third Party</espi:software_id>
         <espi:software_version>1.2</espi:software_version>
         <espi:client_id_issued_at>1403190000</espi:client_id_issued_at>
         <espi:client_secret_expires_at>0</espi:client_secret_expires_at>
         <espi:contacts>john.teeter@energyos.org,martin.burns@nist.gov,donald.coffin@reminetworks.com</espi:contacts>
         <espi:token_endpoint_auth_method>client_secret_basic</espi:token_endpoint_auth_method>
         <espi:scope>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:grant_types>refresh_token</espi:grant_types>
         <espi:grant_types>authorization_code</espi:grant_types>
         <espi:grant_types>client_credentials</espi:grant_types>
         <espi:response_types>token</espi:response_types>
         <espi:registration_client_uri>https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4</espi:registration_client_uri>
         <espi:registration_access_token>d89bb056-0f02-4d47-9fd2-ec6a19ba8d0c</espi:registration_access_token>
         <espi:dataCustodianScopeSelectionScreenURI>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</espi:dataCustodianScopeSelectionScreenURI>
      </espi:ApplicationInformation>
   </content>
   <published>2014-01-02T10:00:00Z</published>
   <updated>2014-01-02T10:00:00Z</updated>
</entry>]]></con:request>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="87bbba34-0c1c-4eba-b8b3-3b6595fa2a57"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="MGT003 [NEG][C,A,NONE] Forbidden PUT, DELETE access to ApplicationInformation entry" searchProperties="true" id="9f227f0e-0901-4fc9-a310-a6b58be2daea"><con:settings/><con:testStep type="restrequest" name="GET ApplicationInformation by Id" id="930d1b3b-d61a-49ae-bc4a-672c75ce49e9"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="GET ApplicationInformation by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET ApplicationInformation by Id" mediaType="application/json" id="0d460b8f-6180-470f-8743-6566120cacb6">
				<con:settings>
					<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
		</con:settings>
		<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
		<con:request/>
		<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri>
		<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="2e7a8f63-d873-4264-8d90-50196bc65ac1"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="88f8e511-65f0-4950-ac28-8e60ccdedc61"><con:configuration><path>declare namespace ns3='http://www.w3.org/2005/Atom';
					declare namespace espi='http://naesb.org/espi';
					count(/ns3:entry/ns3:content/espi:ApplicationInformation)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials>
			<con:selectedAuthProfile>Basic</con:selectedAuthProfile>
			<con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
			<con:authType>Global HTTP Settings</con:authType>
		</con:credentials>
		<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
		<con:jmsPropertyConfig/>
		<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
		<con:parameterOrder>
			<con:entry>applicationInformationId</con:entry>
			<con:entry>Authorization</con:entry>
			<con:entry>Content-Type</con:entry>
		</con:parameterOrder>
	</con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="a594bda8-ca28-4436-89eb-4a1ed5e4ba35"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>copy body of GET to PUT</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT ApplicationInformation by Id</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>Copy body of GET to PUT by C</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT ApplicationInformation by Id using registration_access_token</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>copy body of GET to PUT by A</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT ApplicationInformation by Id using access_token</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false"><con:name>Copy GET response body to PUT with no access token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GET ApplicationInformation by Id</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>PUT ApplicationInformation by Id with no access token</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="PUT ApplicationInformation by Id using registration_access_token" id="b1bea813-7c89-4195-9687-bb6cbcc29a07"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Put" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT ApplicationInformation by Id using registration_access_token" mediaType="application/atom+xml" postQueryString="false" id="4b7a8070-65c9-49fd-9a55-3b4671527e91">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:af6e8b03-0299-467e-972a-a883ecdcc575</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4" rel="self"/>
   <title>GreenButtonData.org  ThirdParty Application</title>
   <content>
      <espi:ApplicationInformation>
         <espi:dataCustodianId>data_custodian</espi:dataCustodianId>
         <espi:dataCustodianApplicationStatus>1</espi:dataCustodianApplicationStatus>
         <espi:thirdPartyApplicationDescription>EnergyOS OpenESPI Example Third Party</espi:thirdPartyApplicationDescription>
         <espi:thirdPartyApplicationStatus>1</espi:thirdPartyApplicationStatus>
         <espi:thirdPartyApplicationType>1</espi:thirdPartyApplicationType>
         <espi:thirdPartyApplicationUse>1</espi:thirdPartyApplicationUse>
         <espi:authorizationServerUri>https://localhost:8443/DataCustodian/</espi:authorizationServerUri>
         <espi:thirdPartyNotifyUri>https://localhost:8444/ThirdParty/espi/1_1/Notification</espi:thirdPartyNotifyUri>
         <espi:authorizationServerAuthorizationEndpoint>https://localhost:8443/DataCustodian/oauth/authorize</espi:authorizationServerAuthorizationEndpoint>
         <espi:authorizationServerRegistrationEndpoint>https://localhost:8443/DataCustodian/espi/1_1/register</espi:authorizationServerRegistrationEndpoint>
         <espi:authorizationServerTokenEndpoint>https://localhost:8443/DataCustodian/oauth/token</espi:authorizationServerTokenEndpoint>
         <espi:dataCustodianBulkRequestURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk</espi:dataCustodianBulkRequestURI>
         <espi:dataCustodianResourceEndpoint>https://localhost:8443/DataCustodian/espi/1_1/resource</espi:dataCustodianResourceEndpoint>
         <espi:thirdPartyScopeSelectionScreenURI>https://localhost:8444/ThirdParty/RetailCustomer/ScopeSelection</espi:thirdPartyScopeSelectionScreenURI>
         <espi:thirdPartyUserPortalScreenURI>https://localhost:8444/ThirdParty</espi:thirdPartyUserPortalScreenURI>
         <espi:client_secret>secret</espi:client_secret>
         <espi:logo_uri>https://localhost:8444/ThirdParty/resources/ico/favicon.png</espi:logo_uri>
         <espi:client_name>Green Button Third Party</espi:client_name>
         <espi:client_uri>https://localhost:8444/ThirdParty</espi:client_uri>
         <espi:redirect_uri>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</espi:redirect_uri>
         <espi:client_id>surface_tp</espi:client_id>
         <espi:software_id>EnergyOS OpenESPI Example Third Party</espi:software_id>
         <espi:software_version>1.2</espi:software_version>
         <espi:client_id_issued_at>1403190000</espi:client_id_issued_at>
         <espi:client_secret_expires_at>0</espi:client_secret_expires_at>
         <espi:contacts>john.teeter@energyos.org,martin.burns@nist.gov,donald.coffin@reminetworks.com</espi:contacts>
         <espi:token_endpoint_auth_method>client_secret_basic</espi:token_endpoint_auth_method>
         <espi:scope>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:grant_types>refresh_token</espi:grant_types>
         <espi:grant_types>authorization_code</espi:grant_types>
         <espi:grant_types>client_credentials</espi:grant_types>
         <espi:response_types>token</espi:response_types>
         <espi:registration_client_uri>https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4</espi:registration_client_uri>
         <espi:registration_access_token>d89bb056-0f02-4d47-9fd2-ec6a19ba8d0c</espi:registration_access_token>
         <espi:dataCustodianScopeSelectionScreenURI>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</espi:dataCustodianScopeSelectionScreenURI>
      </espi:ApplicationInformation>
   </content>
   <published>2014-01-02T10:00:00Z</published>
   <updated>2014-01-02T10:00:00Z</updated>
</entry>]]></con:request>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="4c803565-2e15-4c10-a1d0-7c2886403dfa"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PUT ApplicationInformation by Id using access_token" id="4c40ae0b-c3b2-4774-8324-e92eec4ae14d"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Put" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT ApplicationInformation by Id using access_token" mediaType="application/atom+xml" postQueryString="false" id="4b7a8070-65c9-49fd-9a55-3b4671527e91">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:af6e8b03-0299-467e-972a-a883ecdcc575</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4" rel="self"/>
   <title>GreenButtonData.org  ThirdParty Application</title>
   <content>
      <espi:ApplicationInformation>
         <espi:dataCustodianId>data_custodian</espi:dataCustodianId>
         <espi:dataCustodianApplicationStatus>1</espi:dataCustodianApplicationStatus>
         <espi:thirdPartyApplicationDescription>EnergyOS OpenESPI Example Third Party</espi:thirdPartyApplicationDescription>
         <espi:thirdPartyApplicationStatus>1</espi:thirdPartyApplicationStatus>
         <espi:thirdPartyApplicationType>1</espi:thirdPartyApplicationType>
         <espi:thirdPartyApplicationUse>1</espi:thirdPartyApplicationUse>
         <espi:authorizationServerUri>https://localhost:8443/DataCustodian/</espi:authorizationServerUri>
         <espi:thirdPartyNotifyUri>https://localhost:8444/ThirdParty/espi/1_1/Notification</espi:thirdPartyNotifyUri>
         <espi:authorizationServerAuthorizationEndpoint>https://localhost:8443/DataCustodian/oauth/authorize</espi:authorizationServerAuthorizationEndpoint>
         <espi:authorizationServerRegistrationEndpoint>https://localhost:8443/DataCustodian/espi/1_1/register</espi:authorizationServerRegistrationEndpoint>
         <espi:authorizationServerTokenEndpoint>https://localhost:8443/DataCustodian/oauth/token</espi:authorizationServerTokenEndpoint>
         <espi:dataCustodianBulkRequestURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk</espi:dataCustodianBulkRequestURI>
         <espi:dataCustodianResourceEndpoint>https://localhost:8443/DataCustodian/espi/1_1/resource</espi:dataCustodianResourceEndpoint>
         <espi:thirdPartyScopeSelectionScreenURI>https://localhost:8444/ThirdParty/RetailCustomer/ScopeSelection</espi:thirdPartyScopeSelectionScreenURI>
         <espi:thirdPartyUserPortalScreenURI>https://localhost:8444/ThirdParty</espi:thirdPartyUserPortalScreenURI>
         <espi:client_secret>secret</espi:client_secret>
         <espi:logo_uri>https://localhost:8444/ThirdParty/resources/ico/favicon.png</espi:logo_uri>
         <espi:client_name>Green Button Third Party</espi:client_name>
         <espi:client_uri>https://localhost:8444/ThirdParty</espi:client_uri>
         <espi:redirect_uri>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</espi:redirect_uri>
         <espi:client_id>surface_tp</espi:client_id>
         <espi:software_id>EnergyOS OpenESPI Example Third Party</espi:software_id>
         <espi:software_version>1.2</espi:software_version>
         <espi:client_id_issued_at>1403190000</espi:client_id_issued_at>
         <espi:client_secret_expires_at>0</espi:client_secret_expires_at>
         <espi:contacts>john.teeter@energyos.org,martin.burns@nist.gov,donald.coffin@reminetworks.com</espi:contacts>
         <espi:token_endpoint_auth_method>client_secret_basic</espi:token_endpoint_auth_method>
         <espi:scope>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:grant_types>refresh_token</espi:grant_types>
         <espi:grant_types>authorization_code</espi:grant_types>
         <espi:grant_types>client_credentials</espi:grant_types>
         <espi:response_types>token</espi:response_types>
         <espi:registration_client_uri>https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4</espi:registration_client_uri>
         <espi:registration_access_token>d89bb056-0f02-4d47-9fd2-ec6a19ba8d0c</espi:registration_access_token>
         <espi:dataCustodianScopeSelectionScreenURI>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</espi:dataCustodianScopeSelectionScreenURI>
      </espi:ApplicationInformation>
   </content>
   <published>2014-01-02T10:00:00Z</published>
   <updated>2014-01-02T10:00:00Z</updated>
</entry>]]></con:request>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1f384a4c-f50d-47de-8a94-bddb7bd2d9b0"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PUT ApplicationInformation by Id with no access token" id="001f42cd-f05e-4de0-a873-a5ab15e64018"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Put" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT ApplicationInformation by Id with no access token" mediaType="application/atom+xml" postQueryString="false" id="4b7a8070-65c9-49fd-9a55-3b4671527e91">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:af6e8b03-0299-467e-972a-a883ecdcc575</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4" rel="self"/>
   <title>GreenButtonData.org  ThirdParty Application</title>
   <content>
      <espi:ApplicationInformation>
         <espi:dataCustodianId>data_custodian</espi:dataCustodianId>
         <espi:dataCustodianApplicationStatus>1</espi:dataCustodianApplicationStatus>
         <espi:thirdPartyApplicationDescription>EnergyOS OpenESPI Example Third Party</espi:thirdPartyApplicationDescription>
         <espi:thirdPartyApplicationStatus>1</espi:thirdPartyApplicationStatus>
         <espi:thirdPartyApplicationType>1</espi:thirdPartyApplicationType>
         <espi:thirdPartyApplicationUse>1</espi:thirdPartyApplicationUse>
         <espi:authorizationServerUri>https://localhost:8443/DataCustodian/</espi:authorizationServerUri>
         <espi:thirdPartyNotifyUri>https://localhost:8444/ThirdParty/espi/1_1/Notification</espi:thirdPartyNotifyUri>
         <espi:authorizationServerAuthorizationEndpoint>https://localhost:8443/DataCustodian/oauth/authorize</espi:authorizationServerAuthorizationEndpoint>
         <espi:authorizationServerRegistrationEndpoint>https://localhost:8443/DataCustodian/espi/1_1/register</espi:authorizationServerRegistrationEndpoint>
         <espi:authorizationServerTokenEndpoint>https://localhost:8443/DataCustodian/oauth/token</espi:authorizationServerTokenEndpoint>
         <espi:dataCustodianBulkRequestURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk</espi:dataCustodianBulkRequestURI>
         <espi:dataCustodianResourceEndpoint>https://localhost:8443/DataCustodian/espi/1_1/resource</espi:dataCustodianResourceEndpoint>
         <espi:thirdPartyScopeSelectionScreenURI>https://localhost:8444/ThirdParty/RetailCustomer/ScopeSelection</espi:thirdPartyScopeSelectionScreenURI>
         <espi:thirdPartyUserPortalScreenURI>https://localhost:8444/ThirdParty</espi:thirdPartyUserPortalScreenURI>
         <espi:client_secret>secret</espi:client_secret>
         <espi:logo_uri>https://localhost:8444/ThirdParty/resources/ico/favicon.png</espi:logo_uri>
         <espi:client_name>Green Button Third Party</espi:client_name>
         <espi:client_uri>https://localhost:8444/ThirdParty</espi:client_uri>
         <espi:redirect_uri>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</espi:redirect_uri>
         <espi:client_id>surface_tp</espi:client_id>
         <espi:software_id>EnergyOS OpenESPI Example Third Party</espi:software_id>
         <espi:software_version>1.2</espi:software_version>
         <espi:client_id_issued_at>1403190000</espi:client_id_issued_at>
         <espi:client_secret_expires_at>0</espi:client_secret_expires_at>
         <espi:contacts>john.teeter@energyos.org,martin.burns@nist.gov,donald.coffin@reminetworks.com</espi:contacts>
         <espi:token_endpoint_auth_method>client_secret_basic</espi:token_endpoint_auth_method>
         <espi:scope>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:grant_types>refresh_token</espi:grant_types>
         <espi:grant_types>authorization_code</espi:grant_types>
         <espi:grant_types>client_credentials</espi:grant_types>
         <espi:response_types>token</espi:response_types>
         <espi:registration_client_uri>https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4</espi:registration_client_uri>
         <espi:registration_access_token>d89bb056-0f02-4d47-9fd2-ec6a19ba8d0c</espi:registration_access_token>
         <espi:dataCustodianScopeSelectionScreenURI>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</espi:dataCustodianScopeSelectionScreenURI>
      </espi:ApplicationInformation>
   </content>
   <published>2014-01-02T10:00:00Z</published>
   <updated>2014-01-02T10:00:00Z</updated>
</entry>]]></con:request>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="133bc909-3be6-45ac-bfc6-aa26329f338b"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DELETE ApplicationInformation by Id using client_access_token" id="c6b666aa-2fe8-46d7-9bda-e02f3971c924"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE ApplicationInformation by Id using client_access_token" mediaType="application/json" id="9ef70ba4-9a57-4ff5-a02e-b693213d9dc0">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="40ba5aa3-26b4-4877-aecc-692597411054"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#registration_access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DELETE ApplicationInformation by Id using access_token" id="def42568-3c85-4449-80cc-1cc06a7478ba"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE ApplicationInformation by Id using access_token" mediaType="application/json" id="9ef70ba4-9a57-4ff5-a02e-b693213d9dc0">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="452302b7-774b-4e44-a8c3-8a8181c26568"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="Bearer ${#Project#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DELETE ApplicationInformation by Id using empty access token" id="9f5366ec-f4a1-4eb2-bb72-13259c1879d8"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE ApplicationInformation by Id using empty access token" mediaType="application/json" id="9ef70ba4-9a57-4ff5-a02e-b693213d9dc0">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request/>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="f9dcfaac-ed81-49e2-bfcc-46492afe71eb"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters><entry key="Authorization" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PUT ApplicationInformation by Id" id="b3d51daa-6c0e-405c-8375-26b0e6ada5e0"><con:settings/><con:config service="ESPI Resources" resourcePath="/${#Project#resourceUri}/ApplicationInformation/{applicationInformationId}" methodName="Put" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PUT ApplicationInformation by Id" mediaType="application/atom+xml" postQueryString="false" id="4b7a8070-65c9-49fd-9a55-3b4671527e91">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
	</con:settings>
	<con:endpoint>${#Project#ServiceEndpoint}</con:endpoint>
	<con:request><![CDATA[<entry xmlns:espi="http://naesb.org/espi" xmlns="http://www.w3.org/2005/Atom">
   <id>urn:uuid:af6e8b03-0299-467e-972a-a883ecdcc575</id>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation" rel="up"/>
   <link href="https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4" rel="self"/>
   <title>GreenButtonData.org  ThirdParty Application</title>
   <content>
      <espi:ApplicationInformation>
         <espi:dataCustodianId>data_custodian</espi:dataCustodianId>
         <espi:dataCustodianApplicationStatus>1</espi:dataCustodianApplicationStatus>
         <espi:thirdPartyApplicationDescription>EnergyOS OpenESPI Example Third Party</espi:thirdPartyApplicationDescription>
         <espi:thirdPartyApplicationStatus>1</espi:thirdPartyApplicationStatus>
         <espi:thirdPartyApplicationType>1</espi:thirdPartyApplicationType>
         <espi:thirdPartyApplicationUse>1</espi:thirdPartyApplicationUse>
         <espi:authorizationServerUri>https://localhost:8443/DataCustodian/</espi:authorizationServerUri>
         <espi:thirdPartyNotifyUri>https://localhost:8444/ThirdParty/espi/1_1/Notification</espi:thirdPartyNotifyUri>
         <espi:authorizationServerAuthorizationEndpoint>https://localhost:8443/DataCustodian/oauth/authorize</espi:authorizationServerAuthorizationEndpoint>
         <espi:authorizationServerRegistrationEndpoint>https://localhost:8443/DataCustodian/espi/1_1/register</espi:authorizationServerRegistrationEndpoint>
         <espi:authorizationServerTokenEndpoint>https://localhost:8443/DataCustodian/oauth/token</espi:authorizationServerTokenEndpoint>
         <espi:dataCustodianBulkRequestURI>https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Bulk</espi:dataCustodianBulkRequestURI>
         <espi:dataCustodianResourceEndpoint>https://localhost:8443/DataCustodian/espi/1_1/resource</espi:dataCustodianResourceEndpoint>
         <espi:thirdPartyScopeSelectionScreenURI>https://localhost:8444/ThirdParty/RetailCustomer/ScopeSelection</espi:thirdPartyScopeSelectionScreenURI>
         <espi:thirdPartyUserPortalScreenURI>https://localhost:8444/ThirdParty</espi:thirdPartyUserPortalScreenURI>
         <espi:client_secret>secret</espi:client_secret>
         <espi:logo_uri>https://localhost:8444/ThirdParty/resources/ico/favicon.png</espi:logo_uri>
         <espi:client_name>Green Button Third Party</espi:client_name>
         <espi:client_uri>https://localhost:8444/ThirdParty</espi:client_uri>
         <espi:redirect_uri>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</espi:redirect_uri>
         <espi:client_id>surface_tp</espi:client_id>
         <espi:software_id>EnergyOS OpenESPI Example Third Party</espi:software_id>
         <espi:software_version>1.2</espi:software_version>
         <espi:client_id_issued_at>1403190000</espi:client_id_issued_at>
         <espi:client_secret_expires_at>0</espi:client_secret_expires_at>
         <espi:contacts>john.teeter@energyos.org,martin.burns@nist.gov,donald.coffin@reminetworks.com</espi:contacts>
         <espi:token_endpoint_auth_method>client_secret_basic</espi:token_endpoint_auth_method>
         <espi:scope>FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:scope>FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</espi:scope>
         <espi:grant_types>refresh_token</espi:grant_types>
         <espi:grant_types>authorization_code</espi:grant_types>
         <espi:grant_types>client_credentials</espi:grant_types>
         <espi:response_types>token</espi:response_types>
         <espi:registration_client_uri>https://localhost:8443/DataCustodian/espi/1_1/resource/ApplicationInformation/4</espi:registration_client_uri>
         <espi:registration_access_token>d89bb056-0f02-4d47-9fd2-ec6a19ba8d0c</espi:registration_access_token>
         <espi:dataCustodianScopeSelectionScreenURI>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</espi:dataCustodianScopeSelectionScreenURI>
      </espi:ApplicationInformation>
   </content>
   <published>2014-01-02T10:00:00Z</published>
   <updated>2014-01-02T10:00:00Z</updated>
</entry>]]></con:request>
	<con:originalUri>http://localhost/DataCustodian/espi/1_1/resource/ApplicationInformation/1</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="f6336ce8-3d8f-4e52-bdd9-006f31d3bfaf"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials>
		<con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType>
	</con:credentials>
	<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
	<con:jmsPropertyConfig/>
	<con:parameters/>
	<con:parameterOrder>
		<con:entry>applicationInformationId</con:entry>
		<con:entry>Authorization</con:entry>
		<con:entry>Content-Type</con:entry>
	</con:parameterOrder>
</con:restRequest></con:config></con:testStep><con:setupScript>log.info "===== Start TestCase  =====> " + context.testCase.getLabel()</con:setupScript><con:tearDownScript>log.info "===== "+ testRunner.status.toString() +" TestCase  =====> "  +  context.testCase.getLabel();</con:tearDownScript><con:properties/></con:testCase><con:properties/>
<con:setupScript>log.info "===== Start TestSuite =====> " + testSuite.name</con:setupScript><con:tearDownScript>def results = true;

log.info "===== SUMMARY   TestSuite =====> " + testSuite.name
for ( testCaseResult in runner.results )
{
   testCaseName = testCaseResult.getTestCase().name
//   log.info testCaseName
   if ( testCaseResult.getStatus().toString() == 'FAILED' )
   {
      log.info "$testCaseName has failed"
      results = false;
//      for ( testStepResult in testCaseResult.getResults() )
//      {
//         testStepResult.messages.each() { msg -> log.info msg }
//      }
   }
}
if(results == true) {
	log.info "===== FINISHED End   TestSuite =====> " + testSuite.name
}
else {
	log.info "===== FAILED End   TestSuite =====> " + testSuite.name
}
</con:tearDownScript></con:testSuite><con:testSuite id="777829b5-238f-498b-8fca-fc91f28b2179" name="[FUTURE]*[FB_46] Core RetailCustomer"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:properties/></con:testSuite><con:testSuite id="e6e692e4-a3af-493f-879e-e29d98472396" name="[FUTURE]*[FB_47] REST for RetailCustomer Bulk"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:properties/></con:testSuite><con:testSuite id="134c0d4e-41b7-43ef-99a7-82910fc15181" name="[FUTURE]*[FB_48] SFTP for RetailCustomer Bulk"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:properties/></con:testSuite><con:testSuite id="5f220152-b482-4fe6-a93c-c86983aa59ab" name="[FUTURE]*[FB_49] RetailCustomer Management REST"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:properties/></con:testSuite><con:testSuite id="a4cad8a6-a545-43a7-813d-41f895c2ba75" name="[FUTURE]*[FB_50] RetailCustomer Resource Level REST"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:properties/></con:testSuite><con:restMockService port="8081" path="/" host="openespivm" name="ThirdParty Notification Mock Service" docroot="" id="44aa183e-c020-4e6b-8402-539544493841"><con:settings/><con:startScript>context.mockService.setPropertyValue("rxNotificationBody","");</con:startScript><con:properties><con:property><con:name>rxNotificationBody</con:name><con:value/></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property><con:property><con:name>proxyOutPort1</con:name><con:value>8080</con:value></con:property></con:properties><con:onRequestScript/><con:restMockAction name="/ThirdParty/espi/1_1/Notification" method="POST" resourcePath="/ThirdParty/espi/1_1/Notification" id="6b6053c9-2c1a-4384-9b10-782eb51bbd4c"><con:settings/><con:defaultResponse>ThirdParty Notification Mock Service/ThirdParty/espi/1_1/Notification POST Response</con:defaultResponse><con:dispatchStyle>SCRIPT</con:dispatchStyle><con:dispatchPath>if(requestContext.mockService.getPropertyValue("rxNotificationBody")!= "") {
	log.info("ThirdParty Notification Mock Service (/ThirdParty/espi/1_1/Notification) Discarding additional notifications");
	return;	
}

String strBody = "";
requestContext.mockService.setPropertyValue("rxNotificationBody",strBody);

if(mockRequest.httpRequest.method != "POST") {
	log.info("ThirdParty Notification Mock Service (/ThirdParty/espi/1_1/Notification) Message other than POST received. Discarding");
	return;
}


try {
	str = mockRequest.getRequestContent();
	log.info("ThirdParty Notification Mock Service (/ThirdParty/espi/1_1/Notification) GetRequestContent: " + str);

	str.eachLine {line->
		log.info "ThirdParty Notification Mock Service (/ThirdParty/espi/1_1/Notification)  Line: " + line;
		strBody = strBody + line;
	}

//	while ((line = mockRequest.getRequest().getReader().readLine()) != null){
//		strBody = strBody + line;
//	}

	log.info("ThirdParty Notification Mock Service (/ThirdParty/espi/1_1/Notification)  RX Notification POST Body:" + strBody);
       
  } catch (Exception e) {
	log.error("ThirdParty Notification Mock Service (/ThirdParty/espi/1_1/Notification)  Exception: " + e)
}

requestContext.mockService.setPropertyValue("rxNotificationBody",strBody);



</con:dispatchPath><con:response name="ThirdParty Notification Mock Service/ThirdParty/espi/1_1/Notification POST Response" httpResponseStatus="200" id="31e9433f-70db-4381-8f38-75ff01ad0a7e"><con:settings/><con:script/><con:responseContent/></con:response></con:restMockAction><con:restMockAction name="/" method="GET" resourcePath="/" id="5a6ddb17-a1a1-4854-9b9f-6266343a355f"><con:settings/><con:defaultResponse>Diagnostic Response</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Script dispatcher is used to select a response based on the incoming request.
// Here are few examples showing how to match based on path, query param, header and body

// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeaderList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncoding Header List: " + acceptEncodingHeaderList

if( acceptEncodingHeaderList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}


// Match based on body
def requestBody = mockRequest.getRequestContent()
log.info "Request body: " + requestBody

if( requestBody.contains("some data") )
{
    // return the name of the response you want to dispatch
    return "Response N"
}
*/
</con:dispatchPath><con:response name="Diagnostic Response" id="3b084363-4364-455a-8e61-ca73b0464d5d" httpResponseStatus="200"><con:settings/><con:script>import com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport;
import org.apache.commons.httpclient.Header;

def String strRequestMethod;
def String strRequestPath;
def String strContent;

log.info("ThirdParty Notification Mock Service (GET /Diagnostic Response)");

// Obtain HttpRequest Method
strRequestMethod = mockRequest.method;
log.info("ThirdParty Notification Mock Service (GET /Diagnostic Response) Request Method: " + strRequestMethod);

// Obtain HttpRequest Path
strRequestPath = mockRequest.getPath();
log.info("ThirdParty Notification Mock Service (GET /Diagnostic Response) Request Path: " + strRequestPath);

// Obtain HttpRequest Content
strContent = mockRequest.requestContent;
log.info("ThirdParty Notification Mock Service (GET /Diagnostic Response) Request Content: " + strContent);

</con:script><con:responseContent/></con:response></con:restMockAction></con:restMockService>
<con:restMockService port="8081" path="/" host="openespivm" name="ThirdParty Authorization Mock Service" docroot="" id="3a34ffc3-4858-4237-a55a-0cc1f8544c4a"><con:settings/><con:properties><con:property><con:name>tokenResponse</con:name><con:value>{"access_token":"d68f0ebc-5f8b-4a8d-9564-919cb82d6576","token_type":"bearer","refresh_token":"bba483be-c705-4e73-a692-157b218a9468","expires_in":315359999,"scope":"FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13","resourceURI":"https://localhost:8443/DataCustodian/espi/1_1/resource/Batch/Subscription/9","authorizationURI":"https://localhost:8443/DataCustodian/espi/1_1/resource/Authorization/9"}</con:value></con:property><con:property><con:name>SelectedScope</con:name><con:value>scope=FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>DataCustodianAuthorizeQry</con:name><con:value>scope=FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13&amp;scope=FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13&amp;scope=FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13&amp;DataCustodianID=data_custodian</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>browserSession</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>GotFirstRedirect</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>ExtractedSessionID</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>GotScopeSelPOST</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>error</con:name><con:value/></con:property><con:property><con:name>client_id</con:name><con:value>surface_tp</con:value></con:property><con:property><con:name>client_secret</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">secret</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</con:value></con:property><con:property><con:name>state</con:name><con:value>ee148ec2-9892-466e-a013-4dedf1eb3018</con:value></con:property><con:property><con:name>proxyOutPort1</con:name><con:value>8080</con:value></con:property></con:properties><con:restMockAction name="/ThirdParty/RetailCustomer/ScopeSelection" method="GET" resourcePath="/ThirdParty/RetailCustomer/ScopeSelection" id="a19f663e-daf5-4eab-bc7c-0fb638c2496d"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="Scope Selection GET Response" httpResponseStatus="200" mediaType="text/html" id="0cc4faef-5812-4914-9bea-637ccc66bf8e"><con:settings/><con:script>// Obtain HttpRequest query element
String strQry = mockRequest.getHttpRequest().getQueryString();

log.info("ThirdParty Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) TP GET ScopeSelection: " + strQry);

requestContext.mockService.setPropertyValue("DataCustodianAuthorizeQry",strQry);

List listScopes = strQry.tokenize("&amp;");

String strFormSelections = "";
int idx = 0;
for(Object object : listScopes) {
	String strScope = (String) object;
	if(strScope.contains("scope=")){
		strFormSelections += '&lt;input type="radio" name="scope" value="' + idx + '">' + strScope + '&lt;br>';
		log.info("ThirdParty Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET REsponse) scope: " + strScope);
	}
	idx++;
}

requestContext.list = strFormSelections;</con:script><con:responseContent><![CDATA[<!DOCTYPE html>
<html>
<body>
Please select a scope for testing and submit.
<br><br>
<form action="/ThirdParty/RetailCustomer/ScopeSelection" method="POST">
${list}
<br><br>
<input type="submit" value="Submit">
</form>
</body>
</html>
]]></con:responseContent></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/espi/1_1/OAuthCallBack" method="GET" resourcePath="/ThirdParty/espi/1_1/OAuthCallBack" id="20118636-cb24-49f1-b577-35cf8d4ae5b6"><con:settings/><con:defaultResponse xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="OAuthCallBack GET 302 Response" httpResponseStatus="302" mediaType="text/xml" id="71d6e2e7-1902-41cb-9b50-fce8089d3cc2"><con:settings/><con:script>import groovyx.net.http.HTTPBuilder;
import static groovyx.net.http.Method.POST;
import static groovyx.net.http.ContentType.TEXT;
import java.net.*;
import java.io.*;

String parseEndpointFromURI(String strURI) throws Exception {

    URL aURL = new URL(strURI);

    // return with proxy port

    log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' parseEndpointFromURI routine");
    log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' returned Endpoint: http://" + aURL.getHost() + ":" + requestContext.mockService.getPropertyValue("proxyOutPort"));
    return "http://" +  aURL.getHost() + ":" + requestContext.mockService.getPropertyValue("proxyOutPort");
}

String parseResource(String strURI) throws Exception {
    URL aURL = new URL(strURI);
    return aURL.getPath();
}

public class ResourceTester {
	Object log;
	String _strResponseBody = null;

	ResourceTester(Object theLog)
	{
		log = theLog;
	}

	public String doPOST(String strBaseEndpoint,String href, String token,Map&lt;String, Serializable> params) {
		_strResponseBody = null;
		
	  	def http = new HTTPBuilder();

		log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' doPOST");
		log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' Request URL: " + strBaseEndpoint);

		http.request( strBaseEndpoint, POST, TEXT ) { req ->
			uri.path = href
			uri.query = params
		     headers.Authorization = 'Basic ' + token
			headers.Accept = 'application/json, application/*+json'
			
			response.success = { resp, reader ->
				_strResponseBody = reader.getText();
			}		
						
			response.failure = { resp ->
				log.error("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' POST Failed: " + resp.statusLine);
				return null;
			}  
		}
		return _strResponseBody;
	}	
}

requestContext.mockService.setPropertyValue("error","");
String strQry = mockRequest.getHttpRequest().getQueryString(); 
log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' Received OAuthCallback:" + strQry);

if(strQry.contains("error=")){
	log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' Received OAuthCallback with error:" + strQry);
	requestContext.mockService.setPropertyValue("error",strQry);
 	return;
} else {
	requestContext.mockService.setPropertyValue("error","");
}

log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strQry: " + strQry);

String strCode = "";
String strRecvState = "";

/***********************************************************************************************************
 *                                                                                                         *
 * 	Verify oauth/authorize request response contains a state= parameter and that it matches the           *
 * 	state= parameter contained in the request                                                             *
 *                                                                                                         *
 ***********************************************************************************************************/

int iStatePos = strQry.indexOf("state=");
log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' iStatePos: " + iStatePos);

if (iStatePos > 0) {
	strRecvState = strQry.substring(strQry.indexOf("state=") + "state=".length());
	log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strRecvState: " + strRecvState);
	
	if (strRecvState != requestContext.mockService.getPropertyValue("state")) {
		log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response state= value " + strRecvState + " does not match request state= value " + requestContext.mockService.getPropertyValue("state"));
		log.error("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response state= value " + strRecvState + " does not match request state= value " + requestContext.mockService.getPropertyValue("state"));
		return;		
	}
} else {
	log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response does not contain a state= value");
	log.error("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response does not contain a state= value");
	return;
}

/***********************************************************************************************************
 *                                                                                                         *
 * 	Save the authorization code from the /oauth/authorize request response for use with the               *
 * 	/oauth/token endpoint request                                                                         *
 *                                                                                                         *
 ***********************************************************************************************************/

int iPos = strQry.indexOf("&amp;");

if(iPos>0){
	
	strCode = strQry.substring(strQry.indexOf("code=")+"code=".length(),iPos);
	log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' iPos: " + iPos);
	log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strCode: " + strCode);
}
else 
{
	strCode = strQry.substring(strQry.indexOf("code=")+"code=".length());
	log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strCode: " + strCode);
}

log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' Received OAuthCallback with code:" + strCode);

ResourceTester resourceTester = new ResourceTester(log);

Map params = [redirect_uri: requestContext.mockService.getPropertyValue("redirect_uri"), code: strCode,grant_type:'authorization_code'];
String strAuthorizationServerTokenEndpoint = requestContext.mockService.getPropertyValue("authorizationServerTokenEndpoint");
String strHost = parseEndpointFromURI(strAuthorizationServerTokenEndpoint);
String strResource = parseResource(strAuthorizationServerTokenEndpoint);

log.info "ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strAuthorizationServerTokenEndpoint: " + strAuthorizationServerTokenEndpoint;
log.info "ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strHost: " + strHost;
log.info "ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response strResource: " + strResource;

String strAuthentication = requestContext.mockService.project.getPropertyValue("client_id") + ":" + requestContext.mockService.project.getPropertyValue("client_secret");

// Encode byte array into Base 64
String token = strAuthentication.bytes.encodeBase64().toString();

log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' Original Authentication: " + strAuthentication);
log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' Base 64 Encoded Authentication: " + token);

//String strGetResponseBody = resourceTester.doPOST(strHost,strResource,"dGhpcmRfcGFydHk6c2VjcmV0",params);
String strGetResponseBody = resourceTester.doPOST(strHost,strResource,token,params);

if(strGetResponseBody==null) {
	log.error("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' POST request failed.");
	return;	
}

log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuth token response:" + strGetResponseBody);
requestContext.mockService.setPropertyValue("tokenResponse",strGetResponseBody);

</con:script><con:responseContent/><con:header><con:name>Location</con:name><con:value>${#Project#NotificationEndpoint}/RetailCustomer/1/AuthorizationList</con:value></con:header></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/RetailCustomer/1/AuthorizationList" method="GET" resourcePath="/ThirdParty/RetailCustomer/1/AuthorizationList" id="607a9769-f06b-47e1-8466-e6fe048b926c"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="AuthorizationList GET Response" httpResponseStatus="200" mediaType="text/xml" id="1335bf88-2994-493d-a6b5-c2d852f1f588"><con:settings/><con:script/><con:responseContent><![CDATA[<html>
<body>
<p>Test complete. <strong>Do not close this browser window</strong>strong>.</p>
<p>Click "OK" in the SoapUI dialog box.</p>
</body>
</html>]]></con:responseContent></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/RetailCustomer/ScopeSelection" method="POST" resourcePath="/ThirdParty/RetailCustomer/ScopeSelection" id="6b40be58-fe2a-4781-9c10-38e09a74bbba"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="Scope Selection POST Response" httpResponseStatus="302" id="033a6e3e-81cb-40ae-8181-87a144904f4a"><con:settings/><con:script>
log.info("ThirdParty Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' TP POST Scope Selection");

String strBody = mockRequest.requestContent;

if(strBody == "" ){

	log.info("ThirdParty Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection Request did not receive a Response");
	log.error("ThirdParty Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection --  Scope Selection POST Response' Scope Selection Request did not receive a Response");
	testRunner.fail("ThirdParty Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection Request did not receive a Response");
	return;
} else {
	log.info("ThirdParty Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection POST Response: " + strBody);
}

int iSelScopeIdx = strBody.replace("scope=","").toInteger();

String strQry = requestContext.mockService.getPropertyValue("DataCustodianAuthorizeQry");

List listScopes = strQry.tokenize("&amp;");

String strSelectedScope = listScopes[iSelScopeIdx];
requestContext.mockService.setPropertyValue("SelectedScope",strSelectedScope);

String strState = "ee148ec2-9892-466e-a013-4dedf1eb3018";
requestContext.mockService.setPropertyValue("state",strState);

String strRespLoc = "";

strRespLoc += requestContext.mockService.getPropertyValue("authorizationServerAuthorizationEndpoint");
strRespLoc += "?client_id=" + requestContext.mockService.getPropertyValue("client_id");
strRespLoc += "&amp;redirect_uri=" + requestContext.mockService.getPropertyValue("redirect_uri");
strRespLoc += "&amp;response_type=code";
strRespLoc += "&amp;" + strSelectedScope;
strRespLoc += "&amp;state=" + strState;

log.info("ThirdParty Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' POST TP Scope selection returning 302 redirect to: " + strRespLoc);

def httpResponse = mockRequest.httpResponse
httpResponse.addHeader("Location",strRespLoc);



</con:script><con:responseContent/></con:response></con:restMockAction><con:restMockAction name="/" method="GET" resourcePath="/" id="ee91990b-5164-4d32-8790-920061b4a375"><con:settings/><con:defaultResponse>Diagnostic Response</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Script dispatcher is used to select a response based on the incoming request.
// Here are few examples showing how to match based on path, query param, header and body

// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeaderList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncoding Header List: " + acceptEncodingHeaderList

if( acceptEncodingHeaderList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}


// Match based on body
def requestBody = mockRequest.getRequestContent()
log.info "Request body: " + requestBody

if( requestBody.contains("some data") )
{
    // return the name of the response you want to dispatch
    return "Response N"
}
*/
</con:dispatchPath><con:response name="Diagnostic Response" id="7525a88a-473f-48ad-9d1c-034796ae1fb9" httpResponseStatus="200"><con:settings/><con:script>import com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport;
import org.apache.commons.httpclient.Header;

def String strRequestMethod;
def String strRequestPath;
def String strContent;

log.info("ThirdParty Authorization Mock Service (GET /Diagnostic Response)");

// Obtain HttpRequest Method
strRequestMethod = mockRequest.method;
log.info("ThirdParty Authorization Mock Service (GET /Diagnostic Response) Request Method: " + strRequestMethod);

// Obtain HttpRequest Path
strRequestPath = mockRequest.getPath();
log.info("ThirdParty Authorization Mock Service (GET /Diagnostic Response) Request Path: " + strRequestPath);

// Obtain HttpRequest Content
strContent = mockRequest.requestContent;
log.info("ThirdParty Authorization Mock Service (GET /Diagnostic Response) Request Content: " + strContent);

</con:script><con:responseContent/></con:response></con:restMockAction></con:restMockService>
<con:restMockService port="8081" path="/" host="openespivm" name="ThirdParty NEG A tests Authorization Mock Service" docroot="" id="cdc5ffa6-a930-460a-b724-42e8e7d73f4f"><con:settings/><con:properties><con:property><con:name>tokenResponse</con:name><con:value/></con:property><con:property><con:name>SelectedScope</con:name><con:value>scope=FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>DataCustodianAuthorizeQry</con:name><con:value>scope=FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13&amp;scope=FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13&amp;scope=FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13&amp;DataCustodianID=data_custodian</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>GotFirstRedirect</con:name><con:value>FALSE</con:value></con:property><con:property><con:name>GotScopeSelPOST</con:name><con:value>FALSE</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property><con:property><con:name>client_id</con:name><con:value>surface_tp</con:value></con:property><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</con:value></con:property><con:property><con:name>client_secret</con:name><con:value>secret</con:value></con:property><con:property><con:name>state</con:name><con:value>ee148ec2-9892-466e-a013-4dedf1eb3018</con:value></con:property><con:property><con:name>proxyOutPort1</con:name><con:value>8080</con:value></con:property></con:properties><con:onRequestScript/><con:restMockAction name="/ThirdParty/RetailCustomer/ScopeSelection" method="GET" resourcePath="/ThirdParty/RetailCustomer/ScopeSelection" id="fbe0856f-dd44-4b04-8b84-d08a490ece57"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="Scope Selection GET Response" httpResponseStatus="200" mediaType="text/html" id="1bbaff48-d407-4c97-9d7a-f4bc1aaba5d4"><con:settings/><con:script>import com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport;
import org.apache.commons.httpclient.Header;

def String strQry;

def String[] strHelperCookies;
def String[] strRequestCookies;
def String   strRequestMethod;
def String   strRequestPath;
def String   strRequestQueryString;
def String   strRequestSession;
def String   strRequestSessionID = null;

// Obtain HttpRequest Session
strRequestSession = mockRequest.getHttpRequest().getSession(false);
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) Request Session: " + strRequestSession);

// Obtain HttpRequest Cookies
if (mockRequest.getRequestHeaders().get("Set-Cookie") != null) {
	log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) contains a 'Set-Cookie' Header");
}
strRequestCookies = mockRequest.getHttpRequest().getCookies();
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) Request Cookies: " + strRequestCookies);

// Obtain HttpRequest Content
strRequestContent = mockRequest.getRequestContent();
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) Request Content: " + strRequestContent);

// Obtain HttpRequest Method
strRequestMethod = mockRequest.method;
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) Request Method: " + strRequestMethod);

// Obtain HttpRequest Path
strRequestPath = mockRequest.getPath();
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) Request Path: " + strRequestPath);

// Obtain HttpRequest Query String
strRequestQueryString = mockRequest.getHttpRequest().getQueryString();
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) Request Query String: " + strRequestQueryString);

// Obtain HttpRequest Query Parameters
strQry = mockRequest.getHttpRequest().getQueryString(); 
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) ThirdParty GET ScopeSelection: " + strQry);

requestContext.mockService.setPropertyValue("DataCustodianAuthorizeQry",strQry);
requestContext.mockService.setPropertyValue("GotFirstRedirect","TRUE");

List listScopes = strQry.tokenize("&amp;");

String strFormSelections = "";
int idx = 0;
for(Object object : listScopes) {
	String strScope = (String) object;
	if(strScope.contains("scope=")){
		strFormSelections += '&lt;input type="radio" name="scope" value="' + idx + '">' + strScope + '&lt;br>';
		log.info("ThirdParty NEG A tests Authorization Mock Service (GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response) scope: " + strScope);
	}
	idx++;
}

requestContext.list = strFormSelections;</con:script><con:responseContent><![CDATA[<!DOCTYPE html>
<html>
<body>
<br><br>
<p>Right click on the page and select <strong>"<i>View Page Info</>"</strong> from the menu.</p>
<p>Click the <strong>"<i>Details</>"</strong> button that appears in the new window.&nbsp; Click the <strong>"<i>View Cookies</>"</strong> button that appears in the new window.&nbsp;
In the next window, highlight the information found after the <strong>"<i>Content:</>"</strong> label (the session cookie for the Data Custodian session) and copy the highlighted data.&nbsp;
Click the <strong>"<i>Close</>"</strong> button on the <strong>"<i>Cookies</>"</strong> window.  Close the <strong>"<i>Website Identity</>"</strong> window.</p>
<p>Return to the SoapUI dialog box and paste the copied data (i.e., session cookie) into the <strong>"<i>Result</>"</strong> field and click the <strong>"<i>OK</>"</strong> button.</p>
<p>After this step is complete:</p>
<br><br>
<p>Please select a scope for testing and submit.</p>
<br><br>
<form action="/ThirdParty/RetailCustomer/ScopeSelection" method="POST">
${list}
<br><br>
<input type="submit" value="Submit">
</form>
</body>
</html>
]]></con:responseContent></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/espi/1_1/OAuthCallBack" method="GET" resourcePath="/ThirdParty/espi/1_1/OAuthCallBack" id="8688d190-f291-47e3-8392-1dc7873c8963"><con:settings/><con:defaultResponse xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="OAuthCallBack GET 302 Response" httpResponseStatus="302" mediaType="text/xml" id="f9acf164-391e-402d-b747-f9d0771b83b1"><con:settings/><con:script>import groovyx.net.http.HTTPBuilder;
import static groovyx.net.http.Method.POST;
import static groovyx.net.http.ContentType.TEXT;
import java.net.*;
import java.io.*;

String parseEndpointFromURI(String strURI) throws Exception {

    URL aURL = new URL(strURI);

    // return with proxy port

    log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' parseEndpointFromURI routine");
    log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' returned Endpoint: http://" + aURL.getHost() + ":" + requestContext.mockService.getPropertyValue("proxyOutPort"));
    return "http://" +  aURL.getHost() + ":" + requestContext.mockService.getPropertyValue("proxyOutPort");   
}

String parseResource(String strURI) throws Exception {
    URL aURL = new URL(strURI);
    return aURL.getPath();
}

public class ResourceTester {
	Object log;
	String _strResponseBody = null;

	ResourceTester(Object theLog)
	{
		log = theLog;
	}

	public String doPOST(String strBaseEndpoint,String href, String token,Map&lt;String, Serializable> params) {
		_strResponseBody = null;
		
	  	def http = new HTTPBuilder();

		log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' doPOST");
		log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' Request URL: " + strBaseEndpoint);

		http.request( strBaseEndpoint, POST, TEXT ) { req ->
			uri.path = href
			uri.query = params
		     headers.Authorization = 'Basic ' + token
			headers.Accept = 'application/json, application/*+json'
			
			response.success = { resp, reader ->
				_strResponseBody = reader.text;				
			}		
										
			response.failure = { resp ->
				log.error("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' POST Failed: " + resp.statusLine);
				return null;
			}  
		}
		return _strResponseBody;
	}	
}

requestContext.mockService.setPropertyValue("error","");
String strQry = mockRequest.getHttpRequest().getQueryString(); 

if(strQry.contains("error=")){
	log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- Received OAuthCallback with error:" + strQry);
	requestContext.mockService.setPropertyValue("error",strQry);
 	return;
} else
{
	requestContext.mockService.setPropertyValue("error","");
}

log.info("ThirdParty Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strQry: " + strQry);

String strCode = "";
String strRecvState = "";

/***********************************************************************************************************
 *                                                                                                         *
 * 	Verify oauth/authorize request response contains a state= parameter and that it matches the           *
 * 	state= parameter contained in the request                                                             *
 *                                                                                                         *
 ***********************************************************************************************************/

int iStatePos = strQry.indexOf("state=");
log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' iStatePos: " + iStatePos);

if (iStatePos > 0) {
	strRecvState = strQry.substring(strQry.indexOf("state=") + "state=".length());
	log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strRecvState: " + strRecvState);
	
	if (strRecvState != requestContext.mockService.getPropertyValue("state")) {
		log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response state= value " + strRecvState + " does not match request state= value " + requestContext.mockService.getPropertyValue("state"));
		log.error("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response state= value " + strRecvState + " does not match request state= value " + requestContext.mockService.getPropertyValue("state"));
		return;		
	}
}
else
{
	log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response does not contain a state= value");
	log.error("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response does not contain a state= value");
	return;
}

/***********************************************************************************************************
 *                                                                                                         *
 * 	Save the authorization code from the /oauth/authorize request response for use with the               *
 * 	/oauth/token endpoint request                                                                         *
 *                                                                                                         *
 ***********************************************************************************************************/

int iPos = strQry.indexOf("&amp;");

if(iPos>0){
	
	strCode = strQry.substring(strQry.indexOf("code=")+"code=".length(),iPos);
	log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' iPos: " + iPos);
	log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strCode: " + strCode);
}
else 
{
	strCode = strQry.substring(strQry.indexOf("code=")+"code=".length());
	log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strCode: " + strCode);
}

log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- Received OAuthCallback with code:" + strCode);

ResourceTester resourceTester = new ResourceTester(log);

Map params = [redirect_uri: requestContext.mockService.getPropertyValue("redirect_uri"), code: strCode,grant_type:'authorization_code'];
String strAuthorizationServerTokenEndpoint = requestContext.mockService.getPropertyValue("authorizationServerTokenEndpoint");
String strHost = parseEndpointFromURI(strAuthorizationServerTokenEndpoint);
String strResource = parseResource(strAuthorizationServerTokenEndpoint);

String strAuthentication = requestContext.mockService.project.getPropertyValue("client_id") + ":" + requestContext.mockService.project.getPropertyValue("client_secret");

// Encode byte array into Base 64
String token = strAuthentication.bytes.encodeBase64().toString();

//String strGetResponseBody = resourceTester.doGET(strHost,strResource,"dGhpcmRfcGFydHk6c2VjcmV0",params);
String strGetResponseBody = resourceTester.doPOST(strHost,strResource,token,params);

if(strGetResponseBody==null) {
	log.error("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- POST request failed.");
	return;	
}

log.info("ThirdParty NEG A tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuth token response:" + strGetResponseBody);
requestContext.mockService.setPropertyValue("tokenResponse",strGetResponseBody);

</con:script><con:responseContent/><con:header><con:name>Location</con:name><con:value>${#Project#NotificationEndpoint}/RetailCustomer/1/AuthorizationList</con:value></con:header></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/RetailCustomer/1/AuthorizationList" method="GET" resourcePath="/ThirdParty/RetailCustomer/1/AuthorizationList" id="bbac227b-493c-45e3-a1b5-93519813a4ae"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="AuthorizationList GET Response" httpResponseStatus="200" mediaType="text/xml" id="83d6eb23-d59c-4184-b87e-35eb644f7675"><con:settings/><con:script/><con:responseContent><![CDATA[<html>
<body>
<p>Test complete. Please do not close this browser window.</p>
<p>Please select "OK" on SoapUI dialog box.</p>
</body>
</html>]]></con:responseContent></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/RetailCustomer/ScopeSelection" method="POST" resourcePath="/ThirdParty/RetailCustomer/ScopeSelection" id="ee746322-bfd5-4ebd-abb1-190383b40cfc"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="Scope Selection POST Response" httpResponseStatus="200" mediaType="text/html" id="01b8024b-577d-448c-abb7-08b0575762f1"><con:settings/><con:script>
log.info("ThirdParty NEG A tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' TP POST Scope Selection");

String strBody = mockRequest.requestContent;

if(strBody == "" ){

	log.info("ThirdParty NEG A tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection Request did not receive a Response");
	log.error("ThirdParty NEG A tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection --  Scope Selection POST Response' Scope Selection Request did not receive a Response");
	testRunner.fail("ThirdParty NEG A tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection Request did not receive a Response");
	return;
} else {
	log.info("ThirdParty NEG A tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection POST Response: " + strBody);
}

int iSelScopeIdx = strBody.replace("scope=","").toInteger();

String strQry = requestContext.mockService.getPropertyValue("DataCustodianAuthorizeQry");

List listScopes = strQry.tokenize("&amp;");

String strSelectedScope = listScopes[iSelScopeIdx];
requestContext.mockService.setPropertyValue("SelectedScope",strSelectedScope);

String strState = "ee148ec2-9892-466e-a013-4dedf1eb3018";
requestContext.mockService.setPropertyValue("state",strState);

String strRespLoc = "";

strRespLoc += requestContext.mockService.getPropertyValue("authorizationServerAuthorizationEndpoint");
strRespLoc += "?client_id=" + requestContext.mockService.getPropertyValue("client_id");
strRespLoc += "&amp;redirect_uri=" + requestContext.mockService.getPropertyValue("redirect_uri");
strRespLoc += "&amp;response_type=code";
strRespLoc += "&amp;" + strSelectedScope;
strRespLoc += "&amp;state=" + strState;

log.info("ThirdParty NEG A tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' POST TP Scope selection returning 302 redirect to: " + strRespLoc);

String strSessionID = requestContext.mockService.getPropertyValue("browserSession");

requestContext.mockService.setPropertyValue("GotScopeSelPOST","TRUE");

</con:script><con:responseContent><![CDATA[<!DOCTYPE html>
<html>
<body>
Please select <strong>"<i>OK</>"</strong> on SoapUI dialog box.
<br><br>
</body>
</html>
]]></con:responseContent></con:response></con:restMockAction><con:restMockAction name="/" method="GET" resourcePath="/" id="ccb4267e-4aa4-4e34-a765-84d6fbe324ce"><con:settings/><con:defaultResponse>Diagnostic Response</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Script dispatcher is used to select a response based on the incoming request.
// Here are few examples showing how to match based on path, query param, header and body

// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeaderList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncoding Header List: " + acceptEncodingHeaderList

if( acceptEncodingHeaderList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}


// Match based on body
def requestBody = mockRequest.getRequestContent()
log.info "Request body: " + requestBody

if( requestBody.contains("some data") )
{
    // return the name of the response you want to dispatch
    return "Response N"
}
*/
</con:dispatchPath><con:response name="Diagnostic Response" id="cb684cee-034d-471c-a299-56bb290c0d93" httpResponseStatus="200"><con:settings/><con:script>import com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport;
import org.apache.commons.httpclient.Header;

def String strRequestMethod;
def String strRequestPath;
def String strContent;

log.info("ThirdParty NEG A tests Authorization Mock Service (GET / (Diagnostic Response)");

// Obtain HttpRequest Method
strRequestMethod = mockRequest.method;
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /Diagnostic Response) Request Method: " + strRequestMethod);

// Obtain HttpRequest Path
strRequestPath = mockRequest.getPath();
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /Diagnostic Response) Request Path: " + strRequestPath);

// Obtain HttpRequest Content
strContent = mockRequest.requestContent;
log.info("ThirdParty NEG A tests Authorization Mock Service (GET /Diagnostic Response) Request Content: " + strContent);

</con:script><con:responseContent/></con:response></con:restMockAction></con:restMockService>
<con:restMockService port="8081" path="/" host="openespivm" name="ThirdParty NEG B tests Authorization Mock Service" docroot="" id="f53ba382-c35f-4ef1-901a-f07c7855c1b3"><con:settings/><con:properties><con:property><con:name>tokenResponse</con:name><con:value/></con:property><con:property><con:name>SelectedScope</con:name><con:value>scope=FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>DataCustodianAuthorizeQry</con:name><con:value>scope=FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13&amp;scope=FB=1_3_4_5_13_14_15_39;IntervalDuration=900;BlockDuration=monthly;HistoryLength=13&amp;scope=FB=1_3_4_5_6_7_8_9_10_11_29_12_13_14_15_16_17_18_19_27_28_32_33_34_35_37_38_39_40_41_44;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13&amp;DataCustodianID=data_custodian</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>browserSession</con:name><con:value>9C0B4BBAD2FBDAF475058F4996FE725B</con:value></con:property><con:property><con:name>GotFirstRedirect</con:name><con:value>TRUE</con:value></con:property><con:property><con:name>ExtractedSessionID</con:name><con:value>FALSE</con:value></con:property><con:property><con:name>GotScopeSelPOST</con:name><con:value>TRUE</con:value></con:property><con:property><con:name>OAuthCodeReceivedValue</con:name><con:value>2RsMj5</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property><con:property><con:name>client_id</con:name><con:value>surface_tp</con:value></con:property><con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</con:value></con:property><con:property><con:name>client_secret</con:name><con:value>secret</con:value></con:property><con:property><con:name>state</con:name><con:value>ee148ec2-9892-466e-a013-4dedf1eb3018</con:value></con:property><con:property><con:name>proxyOutPort1</con:name><con:value>8080</con:value></con:property></con:properties><con:restMockAction name="/ThirdParty/RetailCustomer/ScopeSelection" method="GET" resourcePath="/ThirdParty/RetailCustomer/ScopeSelection" id="80ce918e-62e8-4eb0-881e-fe7226c68892"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="Scope Selection GET Response" httpResponseStatus="200" mediaType="text/html" id="24302bdb-1ba4-40b2-9240-ae08c5c7d9d9"><con:settings/><con:script>
String strQry = mockRequest.getHttpRequest().getQueryString(); 

log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response' TP GET ScopeSelection: " + strQry);

requestContext.mockService.setPropertyValue("DataCustodianAuthorizeQry",strQry);


List listScopes = strQry.tokenize("&amp;");

String strFormSelections = "";
int idx = 0;
for(Object object : listScopes) {
	String strScope = (String) object;
	if(strScope.contains("scope=")){
		strFormSelections += '&lt;input type="radio" name="scope" value="' + idx + '">' + strScope + '&lt;br>';
		log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection GET Response' scope: " + strScope);
	}
	idx++;
}

requestContext.list = strFormSelections;</con:script><con:responseContent><![CDATA[<!DOCTYPE html>
<html>
<body>
Please select a scope for testing and submit.
<br><br>
<form action="/ThirdParty/RetailCustomer/ScopeSelection" method="POST">
${list}
<br><br>
<input type="submit" value="Submit">
</form>
</body>
</html>
]]></con:responseContent></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/espi/1_1/OAuthCallBack" method="GET" resourcePath="/ThirdParty/espi/1_1/OAuthCallBack" id="4604cf2d-f365-475b-b9d5-39f84eff5b91"><con:settings/><con:defaultResponse xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="OAuthCallBack GET 302 Response" httpResponseStatus="302" mediaType="text/xml" id="92745898-0af2-4c21-9aa8-53e4bb5d7d21"><con:settings/><con:script>
String strQry = mockRequest.getHttpRequest().getQueryString(); 

log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strQry: " + strQry);

String strCode = "";
String strRecvState = "";

/***********************************************************************************************************
 *                                                                                                         *
 * 	Verify oauth/authorize request response contains a state= parameter and that it matches the           *
 * 	state= parameter contained in the request                                                             *
 *                                                                                                         *
 ***********************************************************************************************************/

int iStatePos = strQry.indexOf("state=");
log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' iStatePos: " + iStatePos);

if (iStatePos > 0) {
	strRecvState = strQry.substring(strQry.indexOf("state=") + "state=".length());
	log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strRecvState: " + strRecvState);
	
	if (strRecvState != requestContext.mockService.getPropertyValue("state")) {
		log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response state= value " + strRecvState + " does not match request state= value " + requestContext.mockService.getPropertyValue("state"));
		log.error("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response state= value " + strRecvState + " does not match request state= value " + requestContext.mockService.getPropertyValue("state"));
		return;		
	}
}
else
{
	log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response does not contain a state= value");
	log.error("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' OAuthCallBack response does not contain a state= value");
	return;
}

/***********************************************************************************************************
 *                                                                                                         *
 * 	Save the authorization code from the /oauth/authorize request response for use with the               *
 * 	/oauth/token endpoint request                                                                         *
 *                                                                                                         *
 ***********************************************************************************************************/

int iPos = strQry.indexOf("&amp;");

if(iPos>0){
	
	strCode = strQry.substring(strQry.indexOf("code=")+"code=".length(),iPos);
	log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' iPos: " + iPos);
	log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strCode: " + strCode);
}
else 
{
	strCode = strQry.substring(strQry.indexOf("code=")+"code=".length());
	log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' strCode: " + strCode);
}

log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' Received OAuthCallback with code: " + strCode);
requestContext.mockService.setPropertyValue("OAuthCodeReceivedValue",strCode);
//project.setPropertyValue("OAuthCodeReceivedValue",strCode);

log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' requestContext.mockService.setPropertyValue('OAuthCodeReceivedValue'): " + requestContext.mockService.getPropertyValue("OAuthCodeReceivedValue"));
//log.info("ThirdParty NEG B tests Authorization Mock Service -- 'GET /ThirdParty/espi/1_1/OAuthCallBack -- OAuthCallBack GET 302 Response' project.setPropertyValue('OAuthCodeReceivedValue'): " + project.getPropertyValue("OAuthCodeReceivedValue"));

</con:script><con:responseContent/><con:header><con:name>Location</con:name><con:value>${#Project#NotificationEndpoint}/RetailCustomer/1/AuthorizationList</con:value></con:header></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/RetailCustomer/1/AuthorizationList" method="GET" resourcePath="/ThirdParty/RetailCustomer/1/AuthorizationList" id="7f7cece6-5ca0-4c88-92fd-88635f7496da"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="AuthorizationList GET Response" httpResponseStatus="200" mediaType="text/xml" id="f14e6c12-9cad-4f29-818d-2c3a7fd83047"><con:settings/><con:script/><con:responseContent><![CDATA[<html>
<body>
<p>Test complete. Please do not close this browser window.</p>
<p>Please select "OK" on SoapUI dialog box.</p>
</body>
</html>]]></con:responseContent></con:response></con:restMockAction><con:restMockAction name="/ThirdParty/RetailCustomer/ScopeSelection" method="POST" resourcePath="/ThirdParty/RetailCustomer/ScopeSelection" id="4ba4c7ce-a621-4ed1-bf05-bd71d7fe9c6f"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Examples showing how to match based on path, query param and header
// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeadeList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncodig Header List: " + acceptEncodingHeadeList

if( acceptEncodingHeadeList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}

*/
</con:dispatchPath><con:response name="Scope Selection POST Response" httpResponseStatus="302" id="a27eb21d-5cef-4b5a-afb0-c6758e0e8065"><con:settings/><con:script>
log.info("ThirdParty NEG B tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' TP POST Scope Selection");

String strBody = mockRequest.requestContent;

if(strBody == "" ){

	log.info("ThirdParty NEG B tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection Request did not receive a Response");
	log.error("ThirdParty NEG B tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection --  Scope Selection POST Response' Scope Selection Request did not receive a Response");
	testRunner.fail("ThirdParty NEG B tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection Request did not receive a Response");
	return;
} else {
	log.info("ThirdParty NEG B tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' Scope Selection POST Response: " + strBody);
}

int iSelScopeIdx = strBody.replace("scope=","").toInteger();

String strQry = requestContext.mockService.getPropertyValue("DataCustodianAuthorizeQry");

List listScopes = strQry.tokenize("&amp;");

String strSelectedScope = listScopes[iSelScopeIdx];
requestContext.mockService.setPropertyValue("SelectedScope",strSelectedScope);

String strState = "ee148ec2-9892-466e-a013-4dedf1eb3018";
requestContext.mockService.setPropertyValue("state",strState);

String strRespLoc = "";

strRespLoc += requestContext.mockService.getPropertyValue("authorizationServerAuthorizationEndpoint");
strRespLoc += "?client_id=" + requestContext.mockService.getPropertyValue("client_id");
strRespLoc += "&amp;redirect_uri=" + requestContext.mockService.getPropertyValue("redirect_uri");
strRespLoc += "&amp;response_type=code";
strRespLoc += "&amp;" + strSelectedScope;
strRespLoc += "&amp;state=" + strState;

log.info("ThirdParty NEG B tests Authorization Mock Service -- 'POST /ThirdParty/RetailCustomer/ScopeSelection -- Scope Selection POST Response' POST TP Scope selection returning 302 redirect to: " + strRespLoc);

def httpResponse = mockRequest.httpResponse
httpResponse.addHeader("Location",strRespLoc);



</con:script><con:responseContent/></con:response></con:restMockAction><con:restMockAction name="/" method="GET" resourcePath="/" id="ab36bd07-fd25-45e1-b6be-e61b2a9c87ec"><con:settings/><con:defaultResponse>Diagnostic Response</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Script dispatcher is used to select a response based on the incoming request.
// Here are few examples showing how to match based on path, query param, header and body

// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeaderList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncoding Header List: " + acceptEncodingHeaderList

if( acceptEncodingHeaderList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}


// Match based on body
def requestBody = mockRequest.getRequestContent()
log.info "Request body: " + requestBody

if( requestBody.contains("some data") )
{
    // return the name of the response you want to dispatch
    return "Response N"
}
*/
</con:dispatchPath><con:response name="Diagnostic Response" id="86a9f664-88ec-4da6-84ea-a7e0a9781d40" httpResponseStatus="200"><con:settings/><con:script>import com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport;
import org.apache.commons.httpclient.Header;

def String strRequestMethod;
def String strRequestPath;
def String strContent;

log.info("ThirdParty NEG B tests Authorization Mock Service (GET /Diagnostic Response)");

// Obtain HttpRequest Method
strRequestMethod = mockRequest.method;
log.info("ThirdParty NEG B tests Authorization Mock Service (GET /Diagnostic Response) Request Method: " + strRequestMethod);

// Obtain HttpRequest Path
strRequestPath = mockRequest.getPath();
log.info("ThirdParty NEG B tests Authorization Mock Service (GET /Diagnostic Response) Request Path: " + strRequestPath);

// Obtain HttpRequest Content
strContent = mockRequest.requestContent;
log.info("ThirdParty NEG B tests Authorization Mock Service (GET /Diagnostic Response) Request Content: " + strContent);

</con:script><con:responseContent/></con:response></con:restMockAction></con:restMockService>
<con:restMockService id="d3128334-cd5f-4524-9c93-39bbc43838cf" port="8081" path="/" host="openespivm" name="BatchListNotification" docroot=""><con:settings/><con:startScript/><con:properties><con:property><con:name>BatchList</con:name><con:value/></con:property></con:properties><con:restMockAction name="/ThirdParty/espi/1_1/Notification" method="POST" resourcePath="/ThirdParty/espi/1_1/Notification" id="c8109651-384d-4374-8e42-2054b7258aab"><con:settings/><con:defaultResponse>/ThirdParty/espi/1_1/Notification POST Response</con:defaultResponse><con:dispatchStyle>SCRIPT</con:dispatchStyle><con:dispatchPath>// Store batch list in project for use by foreground script
def project = requestContext.mockService.mockRunner.getMockService().getProject()

def requestBody = mockRequest.getRequestContent()
log.info "BatchListNotification (/ThirdParty/espi/1_1/Notification) RX: POST Request body: " + requestBody
//project.setPropertyValue("BatchList",requestBody);
requestContext.mockService.setPropertyValue("BatchList",requestBody);
</con:dispatchPath><con:response name="/ThirdParty/espi/1_1/Notification POST Response" id="80857bf2-7556-45dc-8c55-7bdcead30356" httpResponseStatus="200"><con:settings/><con:responseContent/></con:response></con:restMockAction><con:restMockAction name="/" method="GET" resourcePath="/" id="7cfbf564-c29d-4b99-806a-5de209432b5c"><con:settings/><con:defaultResponse>Diagnostic Response</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Script dispatcher is used to select a response based on the incoming request.
// Here are few examples showing how to match based on path, query param, header and body

// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeaderList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncoding Header List: " + acceptEncodingHeaderList

if( acceptEncodingHeaderList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}


// Match based on body
def requestBody = mockRequest.getRequestContent()
log.info "Request body: " + requestBody

if( requestBody.contains("some data") )
{
    // return the name of the response you want to dispatch
    return "Response N"
}
*/
</con:dispatchPath><con:response name="Diagnostic Response" id="5b04675e-7056-4001-8884-1a0162930b43" httpResponseStatus="200"><con:settings/><con:script>import com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport;
import org.apache.commons.httpclient.Header;

def String strRequestMethod;
def String strRequestPath;
def String strContent;

log.info("BatchListNotification Mock Service (GET /Diagnostic Response)");

// Obtain HttpRequest Method
strRequestMethod = mockRequest.method;
log.info("BatchListNotification Mock Service (GET /Diagnostic Response) Request Method: " + strRequestMethod);

// Obtain HttpRequest Path
strRequestPath = mockRequest.getPath();
log.info("BatchListNotification Mock Service (GET /Diagnostic Response) Request Path: " + strRequestPath);

// Obtain HttpRequest Content
strContent = mockRequest.requestContent;
log.info("BatchListNotification Mock Service (GET /Diagnostic Response) Request Content: " + strContent);

</con:script><con:responseContent/></con:response></con:restMockAction></con:restMockService><con:restMockService id="d62e7b55-3326-4548-8946-7bb2de29e18b" port="8081" path="/" host="openespivm" name="REST MockService for STunnel" docroot=""><con:settings/><con:properties/><con:restMockAction name="/" method="GET" resourcePath="/" id="fc1cb170-728b-46d7-8b01-0dd2f47aaf2c"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Script dispatcher is used to select a response based on the incoming request.
// Here are few examples showing how to match based on path, query param, header and body

// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeaderList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncoding Header List: " + acceptEncodingHeaderList

if( acceptEncodingHeaderList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}


// Match based on body
def requestBody = mockRequest.getRequestContent()
log.info "Request body: " + requestBody

if( requestBody.contains("some data") )
{
    // return the name of the response you want to dispatch
    return "Response N"
}
*/
</con:dispatchPath><con:response name="REST Mock Service for STunnel GET Response" id="18cf4855-6e08-4d92-bb98-63fd380bf203" httpResponseStatus="200"><con:settings/><con:responseContent>hello</con:responseContent></con:response></con:restMockAction></con:restMockService><con:restMockService id="b81a8110-eb04-4156-80aa-668f474abd72" port="8085" path="/" host="openespivm" name="DC Simulator for Unit Testing - Delayed Response/HTTP" docroot=""><con:settings/><con:startScript>context.toggleResponse = true;</con:startScript><con:properties/><con:afterRequestScript>
import groovyx.net.http.HTTPBuilder
import groovyx.net.http.HttpResponseException;
import groovyx.net.http.Method;

void issueNotification(String strBaseEndpoint,String href,String strContent)
{
	try {

		def http = new HTTPBuilder(strBaseEndpoint);
	
		def res = http.request(Method.POST) { req ->
		    uri.path = href
		    //headers.Authorization = 'Bearer ' + token
		    send("application/atom+xml", strContent)
		 
		    response.success = { resp, object ->
		    		strResult = "POST succeeded: " + resp.status;	   
		    }
		 
		    response.failure = { resp ->
			    strResult = "POST Failed: " + resp.statusLine;
		    }			 
		}
      		
	} catch (HttpResponseException ex) {
    
    // default failure handler throws an exception:
    log.info "DC Simulator -- POST httpResponseException response: ${ex.statusCode}";			    
	    strResult = "POST Unexpected response error: ${ex.statusCode}";
	}
}

String strSimulatorPort = mockRunner.mockContext.mockService.getPort();
String strBaseEndpoint = 'http://localhost:8081';
String strContent = '&lt;BatchList>&lt;resources>http://localhost:' + strSimulatorPort + '/DataCustodian/espi/1_1/resource/ReadServiceStatus&lt;/resources>&lt;/BatchList>';
String href = '/ThirdParty/espi/1_1/Notification';

if(context.toggleResponse)
{
	context.toggleResponse = !(context.toggleResponse);
	
	def thread = Thread.start {
		log.info "DC Simulator simulator: kick off thread... wait 4 seconds to send notification";
	 	sleep(4000)
	  	issueNotification(strBaseEndpoint,href,strContent);
	}
}
else
{
	context.toggleResponse = !(context.toggleResponse);
}



</con:afterRequestScript><con:restMockAction name="/" method="GET" resourcePath="/" id="e10700d1-5be1-4099-9dc3-61321381298c"><con:settings/><con:defaultResponse>Response</con:defaultResponse><con:dispatchStyle>SCRIPT</con:dispatchStyle><con:dispatchPath/><con:response name="Response" id="f2397100-f745-4974-9446-6e9bc18dfb66" httpResponseStatus="200" mediaType="application/atom+xml"><con:settings/><con:script><![CDATA[

//String strBatchResponse = '<BatchList><resources>http://localhost:8080/DataCustodian/espi/1_1/resource/ReadServiceStatus</resources></BatchList>';
if(!context.toggleResponse)
{
	log.info("DC Simulator responding with 200/content");
	String strImmediateResponse = '<ServiceStatus xsi:schemaLocation="http://naesb.org/espi espiDerived.xsd" xmlns="http://naesb.org/espi" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><currentStatus>1</currentStatus></ServiceStatus>';
	requestContext.proxiedResponse = strImmediateResponse;
	mockResponse.setResponseHttpStatus(200);
} else {
	log.info("DC Simulator responding with 202");
	requestContext.proxiedResponse = "";
	mockResponse.setResponseHttpStatus(202);
}
]]></con:script><con:responseContent>${proxiedResponse}</con:responseContent></con:response></con:restMockAction></con:restMockService><con:restMockService id="0c0fb58e-0abc-41e7-8840-6cae5b9e2f8c" port="8086" path="/" host="openespivm" name="GenericGetService" docroot=""><con:settings/><con:properties><con:property><con:name>notificationRxTimeoutSecs</con:name><con:value>10</con:value></con:property><con:property><con:name>stunnelProxyPort</con:name><con:value>8080</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8086</con:value></con:property></con:properties><con:restMockAction name="/" method="GET" resourcePath="/" id="070d92b9-4da0-41cd-9722-5ad774588790"><con:settings/><con:defaultResponse>GenericGetService Response</con:defaultResponse><con:dispatchStyle>SCRIPT</con:dispatchStyle><con:dispatchPath><![CDATA[

import groovyx.net.http.HTTPBuilder
import groovyx.net.http.HttpResponseException;
import static groovyx.net.http.Method.GET
import static groovyx.net.http.ContentType.TEXT
import static groovyx.net.http.ContentType.XML
import groovyx.net.http.*;
import groovyx.net.http.Method;
import org.xml.sax.InputSource;
import groovy.io.FileType;

public boolean RunCommand(String cmd)
{
	def doCmd;

	log.info("GenericGetService Mock Server (GET /) exec: " + cmd);
	log.info("GenericGetService Mock Server (GET /) os  : " + System.properties['os.name']);
	
	if (System.properties['os.name'].toLowerCase().contains('windows')) {
		doCmd = ["cmd", "/c",cmd].execute();
	} else {
		doCmd = ["bash", "-c",cmd].execute();
	}
	
	doCmd.waitFor();
	
	if(doCmd.exitValue()!=0) {
		
		log.error "GenericGetService Mock Server (GET /) return code: ${ doCmd.exitValue()}"
		log.error "GenericGetService Mock Server (GET /) stderr: ${doCmd.err.text}"
		log.error "GenericGetService Mock Server (GET /) stdout: ${doCmd.in.text}"
	
		return false;
	}
	return true;
}

public Integer doSFTPGET(String url,def groovyUtils) {
	
	def transferDir = groovyUtils.projectPath + "/../transferred";
	def list = []
	def dir = new File(transferDir);

	URI aURI = new URI(url);

	def username = aURI?.getUserInfo()?.split(":")?.getAt(0);
	def host = aURI?.getHost();
	def path = aURI?.getPath();
	
	log.info "GenericGetService Mock Server (GET /) SFTP: uname:" + username + " host:" + host + " path:" + path;
	
	dir.eachFileRecurse (FileType.FILES) { file ->
		list << file
	}
	
	if(list.size()>0){

		cmdRm = 'rm ' + transferDir +  '/*';
		
		if(RunCommand(cmdRm) != true) {
			log.error("GenericGetService Mock Server (GET /) Could not clear transfer directory" + transferDir);
			testRunner.fail("GenericGetService Mock Server (GET /) Could not clear transfer directory" + transferDir);
			return 0;
		} 
	}

	cmdGet = "sftp " + username + "@" + host + ":" + path + " " + transferDir + "/test.xml"
	
	if(RunCommand(cmdGet) != true) {
		log.error("GenericGetService Mock Server (GET /) Could not issue SFTP GET");
		testRunner.fail("GenericGetService Mock Server (GET /) Could not issue SFTP GET");
		return 0;
	}	

	String strResp = new File(groovyUtils.projectPath + "/../transferred/test.xml").getText();

	log.info "GenericGetService Mock Server (GET /) received SFTP file:" +  strResp;

	context.strResponseBody = strResp;
	
	return 1;
}

public Integer doHTTPGET(String url, String token,Object context) {

	def http = new HTTPBuilder();
	def result = 500;

	http.setContentEncoding("");

	try {
	
		http.request( url, GET, TEXT ) { req ->
		     headers.Authorization = token
			headers.Accept = 'application/atom+xml'
			
			response.success = { resp, reader ->
				log.info "GenericGetService Mock Server (GET /) - doHTTPGET -- Response Status: ${resp.status}"
				log.info "GenericGetService Mock Server (GET /) - doHTTPGET -- Response Status: ${resp.statusLine}"
				log.info "GenericGetService Mock Server (GET /) - doHTTPGET -- Content-Type: ${resp.headers.'Content-Type'}"
				log.info "GenericGetService Mock Server (GET /) - doHTTPGET -- Content-Encoding: ${resp.headers.'Content-Encoding'}"
				
				context.strResponseBody =  reader.getText();

				log.info "GenericGetService Mock Server (GET /) - doHTTPGET -- Response Body: " + context.strResponseBody;
				
				result = resp.status;
				
			}
			response.'401' = { resp ->
	        		//println 'access denied'
	        		log.info "GenericGetService Mock Server (GET /) - doHTTPGET: access denied"
				result = resp.status;
	    		}						
			response.'403' = { resp ->
	        		//println 'access not authorized'
	        		log.info "GenericGetService Mock Server (GET /) - doHTTPGET: access not authorized"
	        		//context.strResponseBody =  reader.getText();
				result = resp.status;
	    		}						
			response.'202' = { resp ->
	        		//println 'accepted but will provide notification when done'
	        		log.info "GenericGetService Mock Server (GET /) - doHTTPGET: accepted but will provide notification when done"
				result = resp.status;
	    		}						
			response.failure = { resp ->
				log.info "GenericGetService Mock Server (GET /) - doHTTPGET: GET Failed with Status: ${resp.statusLine}";
				//log.info "doHTTPGET (GET) -- bShouldPass: " + bShouldPass;
				strResult = "GenericGetService Mock Server (GET /) - doHTTPGET: GET Failed: " + resp.statusLine;
				bFailure = true;
				result = resp.status;
			}  
		}
	} catch ( HttpResponseException ex ) {
	    // default failure handler throws an exception:
	    log.info "GenericGetService Mock Server (GET /) - doHTTPGET: GET HttpResponseException Error: ${ex.statusCode}"
	    strResult ="GenericGetService Mock Server (GET /) - doHTTPGET: GET Unexpected response error: ${ex.statusCode}"
	    _strError = strResult;
	    bFailure = true;
	    return 500;
	
	} catch (IOException io) {
	        log.info "GenericGetService Mock Server (GET /) - doHTTPGET: GET IOException Error: " + io;
	        strResult = "GenericGetService Mock Server (GET /) - doHTTPGET: GET IOException error: " + io;
	        _strError = strResult;
	        bFailure = true;
	        return 500;
	        
	} catch (Exception e) {
	    log.info "GenericGetService Mock Server (GET /) - doHTTPGET: GET Exception Error: " + e;
	    strResult ="GenericGetService Mock Server (GET /) - doHTTPGET: GET Unexpected error"
	    _strError = strResult;
	    bFailure = true;
	    return 500;			
	}
	return result;
}

/////////////////////////////////////////////////////////
// Main Script
/////////////////////////////////////////////////////////

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def projectPath = groovyUtils.projectPath
def project = mockRequest.getContext().getMockService().getProject();
def authCase = project.testSuites['Library'].testCases['Create Authorization and extract all information'];
def mockPort = authCase.getPropertyValue("mockPort");
def responseToGet;
def responses = [];
def requestPath = mockRequest.getPath();

context.strResponseBody = null;

log.info "GenericGetService Mock Server (GET /) - Main Script -- RX Path: "+ requestPath;
log.info "GenericGetService Mock Server (GET /) - Main Script -- RX Accept-Encoding: " + mockRequest.getRequestHeaders().get("Accept-Encoding");

String token = "";

if (mockRequest.getRequestHeaders().get("Authorization") != null) {
	token = mockRequest.getRequestHeaders().get("Authorization");
	log.info "GenericGetService Mock Server (GET /) - Main Script -- token: " + token;

	// Remove brackets "[" "]" surrounding returned token
	token = token.replace("[","");
	token = token.replace("]","");

	log.info "GenericGetService Mock Server (GET /) - Main Script -- Use Authorization:'" + token + "'";
	
} else {

	log.info "GenericGetService Mock Server (GET /) - Main Script -- No Authorization Header";
}

log.info "GenericGetService Mock Server (GET /) - Main Script -- token: " + token;

// TODO - where to specify actual DC address??

String url = "http://localhost:" + context.mockService.getPropertyValue("stunnelProxyPort") + requestPath;

def aURL = new URL(url);

/////////////////////////////////////////////////////////
// start notification mock service to listen for results
/////////////////////////////////////////////////////////

def notificationService = project.getRestMockServiceByName("BatchListNotification");
//context.mockService.setPort(authCase.getPropertyValue("mockPort").toInteger());
def notificationRunner = notificationService.start(); 
// clear notification of BatchList result
notificationService.setPropertyValue("BatchList","");

log.info "GenericGetService Mock Server (GET /) - Start Notification Mock Service -- Protocol: " + aURL.getProtocol()

if( (aURL.getProtocol()=="http") || (aURL.getProtocol()=="https")){
// based on result of initial GET, handle response

	log.info "GenericGetService Mock Server (GET /) - Start Notification Mock Service -- URL: " + url
	log.info "GenericGetService Mock Server (GET /) - Start Notification Mock Service -- token: " + token
	log.info "GenericGetService Mock Server (GET /) - Start Notification Mock Service -- context: " + context
	
	responseToGet = doHTTPGET(url,token,context);

	switch (responseToGet)
	{
		case 200:
			log.info "GenericGetService Mock Server (GET /) - Start Notification Mock Service -- immediate response";
			responses << context.strResponseBody;	
			break;
		case 202:
			def delayWait = context.mockService.getPropertyValue("notificationRxTimeoutSecs").toInteger();
			
			log.info "GenericGetService Mock Server (GET /) - Start Notification Mock Service -- Response is delayed... wait + " + delayWait + "(secs) for notification";
			// we must wait for notification of BatchList with URLs to retrieve
			
			while (delayWait > 0)
			{
				delayWait --;
				sleep (1000);
				
				if (notificationService.getPropertyValue("BatchList").length() > 0)
				{
					log.info "GenericGetService Mock Server (GET /) - Start Notification Mock Service -- Notification Received: " + responseToGet ;
					break;
				}
			}
	
			// Check if we have further processing
			if (notificationService.getPropertyValue("BatchList").length() == 0)
			{
				log.error("GenericGetService Mock Server (GET /) - Start Notification Mock Service -- did not receive notification");
				//testRunner.fail("GenericGetService No Notification Received");
			}
			else
			{
				// log.info "Notification received:" + notificationService.getPropertyValue("BatchList");
				// process batch list
				def rootNode = new XmlSlurper().parseText(notificationService.getPropertyValue("BatchList"));

				
				// iterate through resources
				rootNode.children().each {
					
					log.info "GenericGetService Mock Server (GET /) - Start Notification Mock Service -- GET resource:" + it.text();

					URI aURI = new URI(it.text());

					if( (aURI.getScheme()=="http") || (aURI.getScheme()=="https")){
						
						def responseToBatchGet = doHTTPGET(it.text(),token,context);
						
						switch (responseToBatchGet)
						{
							case 200:
								//log.info("got response: " + context.strResponseBody);
								responses << context.strResponseBody;	
								break;
							default:
								log.error("GenericGetService Mock Server (GET /) - Start Notification Mock Service -- did not receive 200 response");
								break;
						}
					} else if(aURI.getScheme()=="sftp") {
						if(doSFTPGET(it.text(),groovyUtils)==1) {
							responses << context.strResponseBody;		
						} else { 
							log.error("GenericGetService Mock Server (GET /) - Start Notification Mock Service -- did not receive SFTP response");				
						}
					} else
					{
						log.error("GenericGetService Mock Server (GET /) - Start Notification Mock Service: unknown protocol specified in batch notification.");	
					}
				}
			}
			break;
		default:
			//responseToGet
			requestContext.proxiedResponse = context.strResponseBody;	
			context.responseCode = responseToGet;
			return;
			break;
	}
}
else if (aURL.getProtocol()=="sftp"){
	//doSFTPGET(url,token);
	//responses << testRunner.testCase.getPropertyValue("response");	
	log.error("GenericGetService Mock Server (GET /) - Start Notification Mock Service: SFTP not allowed in request URL");	
}
else {
	//testRunner.fail("GenericGetService Unknown protocol in URL");
	log.error("GenericGetService Mock Server (GET /) - Start Notification Mock Service: Unknown protocol in URL");	
}

	

/////////////////////////////////////////////////////////
// stop notification mock service to listen for results
/////////////////////////////////////////////////////////
notificationRunner.stop();
notificationRunner = null;

requestContext.proxiedResponse = "";

responses.each { it->
	log.info "GenericGetService Mock Server (GET /) - Stop Notification Mock Service -- response: " + it;
	requestContext.proxiedResponse = requestContext.proxiedResponse + it;
}

context.responseCode = 200;

return 
]]></con:dispatchPath><con:response name="GenericGetService Response" id="79bee9b3-4989-409b-8389-1bb5f4cf90d3" httpResponseStatus="200"><con:settings/><con:script>mockResponse.setResponseHttpStatus(context.responseCode);</con:script><con:responseContent>${proxiedResponse}</con:responseContent></con:response></con:restMockAction></con:restMockService><con:restMockService id="be1ca609-7ac8-4800-9d34-770c90a6e5a7" port="8085" path="/" host="openespivm" name="DC Simulator for Unit Testing - Immediate Response" docroot=""><con:settings/><con:properties/><con:restMockAction name="/" method="GET" resourcePath="/" id="095ce477-10b3-46d3-b050-13b86093009b"><con:settings/><con:defaultResponse>Response 200</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Script dispatcher is used to select a response based on the incoming request.
// Here are few examples showing how to match based on path, query param, header and body

// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeaderList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncoding Header List: " + acceptEncodingHeaderList

if( acceptEncodingHeaderList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}


// Match based on body
def requestBody = mockRequest.getRequestContent()
log.info "Request body: " + requestBody

if( requestBody.contains("some data") )
{
    // return the name of the response you want to dispatch
    return "Response N"
}
*/
</con:dispatchPath><con:response name="Response 200" id="1bdd0fc3-6335-43e9-bb60-518fd4ac808a" httpResponseStatus="200"><con:settings/><con:responseContent>&lt;ServiceStatus xsi:schemaLocation="http://naesb.org/espi espiDerived.xsd" xmlns="http://naesb.org/espi" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   &lt;currentStatus>1&lt;/currentStatus>
&lt;/ServiceStatus></con:responseContent></con:response></con:restMockAction></con:restMockService><con:restMockService id="2b08df77-2234-4477-a9c3-4efe56717010" port="8085" path="/" host="openespivm" name="DC Simulator for Unit Testing - Delayed Response/sftp" docroot=""><con:settings/><con:properties/><con:afterRequestScript><![CDATA[
import groovyx.net.http.HTTPBuilder
import groovyx.net.http.HttpResponseException;
import groovyx.net.http.Method;
import groovy.io.FileType;

public boolean RunCommand(String cmd)
{
	def doCmd;

	log.info("exec: " + cmd);
	log.info("os  : " + System.properties['os.name']);
	
	if (System.properties['os.name'].toLowerCase().contains('windows')) {
		doCmd = ["cmd", "/c",cmd].execute();
	} else {
		doCmd = ["bash", "-c",cmd].execute();
	}
	
	doCmd.waitFor();
	
	if(doCmd.exitValue()!=0) {
		
		log.error "return code: ${ doCmd.exitValue()}"
		log.error "stderr: ${doCmd.err.text}"
		log.error "stdout: ${doCmd.in.text}"
	
		return false;
	}
	return true;
}

void issueNotification(String strBaseEndpoint,String href,String strContent)
{
	try {

		def http = new HTTPBuilder(strBaseEndpoint);
	
		def res = http.request(Method.POST) { req ->
		    uri.path = href
		    //headers.Authorization = 'Bearer ' + token
		    send("application/atom+xml", strContent)
		 
		    response.success = { resp, object ->
		    		strResult = "POST succeeded: " + resp.status;	   
		    }
		 
		    response.failure = { resp ->
			    strResult = "POST Failed: " + resp.statusLine;
		    }			 
		}
      		
	} catch (HttpResponseException ex) {
    
    // default failure handler throws an exception:
    log.info "DC Simulator -- POST httpResponseException response: ${ex.statusCode}";			    
	    strResult = "POST Unexpected response error: ${ex.statusCode}";
	}
}

	String strSimulatorPort = mockRunner.mockContext.mockService.getPort();
	String strBaseEndpoint = 'http://localhost:8081';
	String strContent = '<BatchList><resources>sftp://openespivmssh@openespivm/DataCustodian/espi/1_1/resource/Batch/Bulk/SampleData.xml</resources></BatchList>';
	String href = '/ThirdParty/espi/1_1/Notification';


	log.info "DC Simulator simulating Batch Notification/SFTP: creating sample data file";

	def list = [];
	String strFTPSrcFolder = "/DataCustodian/espi/1_1/resource/Batch/Bulk";
	def dir = new File(strFTPSrcFolder);

	dir.eachFileRecurse (FileType.FILES) { file ->
		list << file
	}
	
	if(list.size()>0){

		cmdRm = 'rm ' + strFTPSrcFolder +  '/*';
		
		if(RunCommand(cmdRm) != true) {
			log.error("could not clear sftp directory");
			return 0;
		} 
	}

	def file1 = new File(strFTPSrcFolder + '/SampleData.xml');
	
	file1.write '<ServiceStatus xsi:schemaLocation="http://naesb.org/espi espiDerived.xsd" xmlns="http://naesb.org/espi" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><currentStatus>1</currentStatus></ServiceStatus>';
	
	def thread = Thread.start {
		log.info "DC Simulator simulator: kick off thread... wait 4 seconds to send notification";
	 	sleep(4000)
	  	issueNotification(strBaseEndpoint,href,strContent);
	}









]]></con:afterRequestScript><con:restMockAction name="/" method="GET" resourcePath="/" id="298916f8-d6de-4f81-bc37-26cfc7412966"><con:settings/><con:defaultResponse>Response 1 - 202</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:dispatchPath>/*
// Script dispatcher is used to select a response based on the incoming request.
// Here are few examples showing how to match based on path, query param, header and body

// Match based on path
def requestPath = mockRequest.getPath()
log.info "Path: "+ requestPath

if( requestPath.contains("json") )
{
    // return the name of the response you want to dispatch
    return "JSON Response"
}


// Match based on query parameter
def queryString = mockRequest.getRequest().getQueryString()
log.info "QueryString: " + queryString

if( queryString.contains("stockholm") )
{
    // return the name of the response you want to dispatch
    return "Response Stockholm"
}
else if( queryString.contains("london") )
{
    // return the name of the response you want to dispatch
    return "Response London"
}


// Match based on header
def acceptEncodingHeaderList = mockRequest.getRequestHeaders().get("Accept-Encoding")
log.info "AcceptEncoding Header List: " + acceptEncodingHeaderList

if( acceptEncodingHeaderList.contains("gzip,deflate") )
{
    // return the name of the response you want to dispatch
    return "GZiped Response"
}


// Match based on body
def requestBody = mockRequest.getRequestContent()
log.info "Request body: " + requestBody

if( requestBody.contains("some data") )
{
    // return the name of the response you want to dispatch
    return "Response N"
}
*/
</con:dispatchPath><con:response name="Response 1 - 202" id="552f9a94-4650-43b2-b2a0-f0aa02f07719" httpResponseStatus="202"><con:settings/><con:responseContent/></con:response></con:restMockAction></con:restMockService><con:properties>

	<con:property><con:name>access_token</con:name><con:value>d68f0ebc-5f8b-4a8d-9564-919cb82d6576</con:value></con:property><con:property><con:name>applicationInformationId</con:name><con:value>4</con:value></con:property><con:property><con:name>authorizationId</con:name><con:value>6</con:value></con:property><con:property><con:name>authorizationServer</con:name><con:value>localhost:8443</con:value></con:property><con:property><con:name>authorizationServerAuthorizationEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/authorize</con:value></con:property><con:property><con:name>authorizationServerTokenEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>authorizationURI</con:name><con:value>scope=FB=1_3_4_5_13_14_39;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property>

		<con:name>BaseURL</con:name>
		<con:value/>
	</con:property>
	
	
	
	
	
	
	
	
	
	
	<con:property><con:name>bulkId</con:name><con:value>1</con:value></con:property><con:property><con:name>certScopes</con:name><con:value>FB=1_4_5_15</con:value></con:property><con:property><con:name>client_access_token</con:name><con:value>dc14c6f5-07c2-46bf-8302-6b1d5ff8e9ac</con:value></con:property>
	
	
	
	
	<con:property><con:name>DataCustodianContext</con:name><con:value/></con:property><con:property><con:name>dataCustodianId</con:name><con:value>data_custodian</con:value></con:property>
	
	<con:property><con:name>dataCustodianResourceEndpoint</con:name><con:value>https://localhost:8443/DataCustodian/espi/1_1/resource</con:value></con:property><con:property><con:name>dataCustodianResourceUri</con:name><con:value>https://localhost:8443/DataCustodian/espi/1_1/resource</con:value></con:property>
	
	
	
	<con:property><con:name>dataCustodianScopeSelectionScreenURI</con:name><con:value>https://localhost:8443/DataCustodian/RetailCustomer/ScopeSelectionList?ThirdPartyID=surface_tp</con:value></con:property>
	
	<con:property><con:name>data_custodian_access_token</con:name><con:value>2a85f4bd-30db-4b7d-8f41-b046b0566cb3</con:value></con:property><con:property><con:name>DBprepopulateScriptName</con:name><con:value>prepopulatesql_dc.sql</con:value></con:property><con:property><con:name>electricPowerQualitySummaryId</con:name><con:value>1</con:value></con:property><con:property><con:name>electricPowerUsageSummaryId</con:name><con:value>1</con:value></con:property><con:property><con:name>federalEIN</con:name><con:value>123456</con:value></con:property>
	
	
	
	<con:property><con:name>intervalBlockId</con:name><con:value>1</con:value></con:property><con:property><con:name>linkPrefixForReplace</con:name><con:value>https://localhost:8443/DataCustodian/</con:value></con:property><con:property><con:name>localTimeParametersId</con:name><con:value>1</con:value></con:property><con:property><con:name>meterReadingId</con:name><con:value>1</con:value></con:property>
	
	<con:property><con:name>mysqlCmdDC</con:name><con:value>mysql --user=root --password=password</con:value></con:property>
	<con:property><con:name>mysqlCmdTP</con:name><con:value>mysql --user=root --password=password</con:value></con:property><con:property><con:name>myTimeoutCmd</con:name><con:value>timeout</con:value></con:property><con:property><con:name>NotificationEndpoint</con:name><con:value>https://localhost:8444/ThirdParty</con:value></con:property><con:property><con:name>notificationUri</con:name><con:value>espi/1_1/Notification</con:value></con:property><con:property><con:name>opensslCmd</con:name><con:value>openssl</con:value></con:property>
	
	
	
	
	
	
	
	<con:property><con:name>readingTypeId</con:name><con:value>1</con:value></con:property><con:property><con:name>registration_access_token</con:name><con:value>16552e67-59bc-4e70-a7f1-28d288fba8e6</con:value></con:property><con:property><con:name>registration_third_party_access_token</con:name><con:value>c66b0854-ea1f-4e24-afb7-afab9e0f6c5e</con:value></con:property><con:property><con:name>resourceId</con:name><con:value>01</con:value></con:property><con:property><con:name>resourceServer</con:name><con:value>localhost:8443</con:value></con:property><con:property><con:name>resourceServerUri</con:name><con:value>https://localhost:8443/DataCustodian/espi/1_1/resource</con:value></con:property><con:property><con:name>resourceUri</con:name><con:value>espi/1_1/resource</con:value></con:property>
	
	
	
	
	
	
	
	
	
	
	
<con:property><con:name>retailCustomerId</con:name><con:value>1</con:value></con:property><con:property><con:name>AuthorizationEndpoint</con:name><con:value>http://localhost:8080/DataCustodian/oauth/token</con:value></con:property><con:property><con:name>ServiceEndpoint</con:name><con:value>http://localhost:8086/DataCustodian</con:value></con:property><con:property><con:name>subscriptionId</con:name><con:value>5</con:value></con:property><con:property><con:name>TestFile</con:name><con:value>test_usage_data.xml</con:value></con:property><con:property><con:name>TestFile2</con:name><con:value>Gas.xml</con:value></con:property><con:property><con:name>TestManager</con:name><con:value>grace</con:value></con:property><con:property><con:name>TestManagerPW</con:name><con:value>koala</con:value></con:property><con:property><con:name>TestRetailCustomer</con:name><con:value>alan</con:value></con:property><con:property><con:name>TestRetailCustomerPW</con:name><con:value>koala</con:value></con:property><con:property><con:name>ThirdPartyContext</con:name><con:value/></con:property><con:property><con:name>thirdPartyNotificationEndpoint</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/Notification</con:value></con:property><con:property><con:name>third_party_access_token</con:name><con:value>53520584-d640-4812-a721-8a1afa459ff7</con:value></con:property><con:property><con:name>timeoutCmd</con:name><con:value>timeout</con:value></con:property><con:property><con:name>upload_access_token</con:name><con:value>03909715-b0ca-4797-9a9a-601fff1d2848</con:value></con:property><con:property><con:name>usagePointDescription1</con:name><con:value>Front Electric Meter</con:value></con:property><con:property><con:name>usagePointDescription2</con:name><con:value>Gas</con:value></con:property><con:property><con:name>usagePointId</con:name><con:value>1</con:value></con:property><con:property><con:name>usagePointUUID1</con:name><con:value>48C2A019-5598-4E16-B0F9-49E4FF27F5FB</con:value></con:property><con:property><con:name>usagePointUUID2</con:name><con:value>642EABA-8E42-4D1A-A375-AF54993C007B</con:value></con:property><con:property><con:name>userAccessToken1</con:name><con:value>8030d53b-c38f-4ceb-ad39-927a1f446ec6</con:value></con:property><con:property><con:name>userAccessToken2</con:name><con:value>d2c0e815-6331-4430-864c-275d6ad7f114</con:value></con:property><con:property><con:name>scope</con:name><con:value>FB=4_5_15;IntervalDuration=3600;BlockDuration=monthly;HistoryLength=13</con:value></con:property><con:property><con:name>client_id</con:name><con:value>surface_tp</con:value></con:property><con:property><con:name>redirect_uri</con:name><con:value>https://localhost:8444/ThirdParty/espi/1_1/OAuthCallBack</con:value></con:property><con:property><con:name>state</con:name><con:value/></con:property><con:property><con:name>client_secret</con:name><con:value>secret</con:value></con:property><con:property><con:name>mockPort</con:name><con:value>8081</con:value></con:property><con:property><con:name>proxyOutPort</con:name><con:value>8080</con:value></con:property><con:property><con:name>authorizationServerUri</con:name><con:value>https://localhost:8443/DataCustodian/</con:value></con:property><con:property><con:name>registration_access_token_client_id</con:name><con:value>REGISTRATION_surface_tp</con:value></con:property><con:property><con:name>client_access_token_client_id</con:name><con:value>surface_tp_admin</con:value></con:property><con:property><con:name>client_access_token_secret</con:name><con:value>secret</con:value></con:property><con:property><con:name>registration_access_token_secret</con:name><con:value>secret</con:value></con:property><con:property><con:name>stunnelConfigDirectory</con:name><con:value>/etc/stunnel</con:value></con:property><con:property><con:name>stunnelStartCmd</con:name><con:value>stunnel start</con:value></con:property><con:property><con:name>stunnelStopCmd</con:name><con:value>stunnel stop</con:value></con:property><con:property><con:name>stunnelReceiveAddress</con:name><con:value>localhost:8444</con:value></con:property><con:property><con:name>proxyOutPort1</con:name><con:value>8080</con:value></con:property><con:property><con:name>BatchList</con:name><con:value><![CDATA[<BatchList>
<resources>http://localhost:8080/DataCustodian/espi/1_1/resource/ApplicationInformation</resources>
<resources>http://localhost:8080/DataCustodian/espi/1_1/resource/Authorization</resources>
</BatchList>]]></con:value></con:property><con:property><con:name>responseArray</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>CApathDirectory</con:name><con:value>/etc/ssl/certs</con:value></con:property><con:property><con:name>GBACertId</con:name><con:value>776198e6-59ec-5d25-950a-b34a25b93d67</con:value></con:property></con:properties>
<con:wssContainer/>
<con:oAuth2ProfileContainer/>
<con:sensitiveInformation/>
</con:soapui-project>